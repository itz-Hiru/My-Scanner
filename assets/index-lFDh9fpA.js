function Ny(s,e){for(var n=0;n<e.length;n++){const l=e[n];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in s)){const f=Object.getOwnPropertyDescriptor(l,c);f&&Object.defineProperty(s,c,f.get?f:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const y of f.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&l(y)}).observe(document,{childList:!0,subtree:!0});function n(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=n(c);fetch(c.href,f)}})();var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ud(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Ry(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var n=function l(){return this instanceof l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(l){var c=Object.getOwnPropertyDescriptor(s,l);Object.defineProperty(n,l,c.get?c:{enumerable:!0,get:function(){return s[l]}})}),n}var $f={exports:{}},xu={},Xf={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function Oy(){if(W0)return kt;W0=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.iterator;function k(ue){return ue===null||typeof ue!="object"?null:(ue=N&&ue[N]||ue["@@iterator"],typeof ue=="function"?ue:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,$={};function q(ue,xe,qe){this.props=ue,this.context=xe,this.refs=$,this.updater=qe||U}q.prototype.isReactComponent={},q.prototype.setState=function(ue,xe){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,xe,"setState")},q.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function j(){}j.prototype=q.prototype;function Q(ue,xe,qe){this.props=ue,this.context=xe,this.refs=$,this.updater=qe||U}var J=Q.prototype=new j;J.constructor=Q,z(J,q.prototype),J.isPureReactComponent=!0;var se=Array.isArray,Ee=Object.prototype.hasOwnProperty,Te={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function F(ue,xe,qe){var tt,ht={},Be=null,St=null;if(xe!=null)for(tt in xe.ref!==void 0&&(St=xe.ref),xe.key!==void 0&&(Be=""+xe.key),xe)Ee.call(xe,tt)&&!H.hasOwnProperty(tt)&&(ht[tt]=xe[tt]);var rt=arguments.length-2;if(rt===1)ht.children=qe;else if(1<rt){for(var Mt=Array(rt),ln=0;ln<rt;ln++)Mt[ln]=arguments[ln+2];ht.children=Mt}if(ue&&ue.defaultProps)for(tt in rt=ue.defaultProps,rt)ht[tt]===void 0&&(ht[tt]=rt[tt]);return{$$typeof:s,type:ue,key:Be,ref:St,props:ht,_owner:Te.current}}function D(ue,xe){return{$$typeof:s,type:ue.type,key:xe,ref:ue.ref,props:ue.props,_owner:ue._owner}}function X(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===s}function G(ue){var xe={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(qe){return xe[qe]})}var ee=/\/+/g;function Y(ue,xe){return typeof ue=="object"&&ue!==null&&ue.key!=null?G(""+ue.key):xe.toString(36)}function $e(ue,xe,qe,tt,ht){var Be=typeof ue;(Be==="undefined"||Be==="boolean")&&(ue=null);var St=!1;if(ue===null)St=!0;else switch(Be){case"string":case"number":St=!0;break;case"object":switch(ue.$$typeof){case s:case e:St=!0}}if(St)return St=ue,ht=ht(St),ue=tt===""?"."+Y(St,0):tt,se(ht)?(qe="",ue!=null&&(qe=ue.replace(ee,"$&/")+"/"),$e(ht,xe,qe,"",function(ln){return ln})):ht!=null&&(X(ht)&&(ht=D(ht,qe+(!ht.key||St&&St.key===ht.key?"":(""+ht.key).replace(ee,"$&/")+"/")+ue)),xe.push(ht)),1;if(St=0,tt=tt===""?".":tt+":",se(ue))for(var rt=0;rt<ue.length;rt++){Be=ue[rt];var Mt=tt+Y(Be,rt);St+=$e(Be,xe,qe,Mt,ht)}else if(Mt=k(ue),typeof Mt=="function")for(ue=Mt.call(ue),rt=0;!(Be=ue.next()).done;)Be=Be.value,Mt=tt+Y(Be,rt++),St+=$e(Be,xe,qe,Mt,ht);else if(Be==="object")throw xe=String(ue),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.");return St}function he(ue,xe,qe){if(ue==null)return ue;var tt=[],ht=0;return $e(ue,tt,"","",function(Be){return xe.call(qe,Be,ht++)}),tt}function st(ue){if(ue._status===-1){var xe=ue._result;xe=xe(),xe.then(function(qe){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=qe)},function(qe){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=qe)}),ue._status===-1&&(ue._status=0,ue._result=xe)}if(ue._status===1)return ue._result.default;throw ue._result}var ze={current:null},ke={transition:null},Qe={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ke,ReactCurrentOwner:Te};function Ge(){throw Error("act(...) is not supported in production builds of React.")}return kt.Children={map:he,forEach:function(ue,xe,qe){he(ue,function(){xe.apply(this,arguments)},qe)},count:function(ue){var xe=0;return he(ue,function(){xe++}),xe},toArray:function(ue){return he(ue,function(xe){return xe})||[]},only:function(ue){if(!X(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},kt.Component=q,kt.Fragment=n,kt.Profiler=c,kt.PureComponent=Q,kt.StrictMode=l,kt.Suspense=v,kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qe,kt.act=Ge,kt.cloneElement=function(ue,xe,qe){if(ue==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ue+".");var tt=z({},ue.props),ht=ue.key,Be=ue.ref,St=ue._owner;if(xe!=null){if(xe.ref!==void 0&&(Be=xe.ref,St=Te.current),xe.key!==void 0&&(ht=""+xe.key),ue.type&&ue.type.defaultProps)var rt=ue.type.defaultProps;for(Mt in xe)Ee.call(xe,Mt)&&!H.hasOwnProperty(Mt)&&(tt[Mt]=xe[Mt]===void 0&&rt!==void 0?rt[Mt]:xe[Mt])}var Mt=arguments.length-2;if(Mt===1)tt.children=qe;else if(1<Mt){rt=Array(Mt);for(var ln=0;ln<Mt;ln++)rt[ln]=arguments[ln+2];tt.children=rt}return{$$typeof:s,type:ue.type,key:ht,ref:Be,props:tt,_owner:St}},kt.createContext=function(ue){return ue={$$typeof:y,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ue.Provider={$$typeof:f,_context:ue},ue.Consumer=ue},kt.createElement=F,kt.createFactory=function(ue){var xe=F.bind(null,ue);return xe.type=ue,xe},kt.createRef=function(){return{current:null}},kt.forwardRef=function(ue){return{$$typeof:x,render:ue}},kt.isValidElement=X,kt.lazy=function(ue){return{$$typeof:S,_payload:{_status:-1,_result:ue},_init:st}},kt.memo=function(ue,xe){return{$$typeof:w,type:ue,compare:xe===void 0?null:xe}},kt.startTransition=function(ue){var xe=ke.transition;ke.transition={};try{ue()}finally{ke.transition=xe}},kt.unstable_act=Ge,kt.useCallback=function(ue,xe){return ze.current.useCallback(ue,xe)},kt.useContext=function(ue){return ze.current.useContext(ue)},kt.useDebugValue=function(){},kt.useDeferredValue=function(ue){return ze.current.useDeferredValue(ue)},kt.useEffect=function(ue,xe){return ze.current.useEffect(ue,xe)},kt.useId=function(){return ze.current.useId()},kt.useImperativeHandle=function(ue,xe,qe){return ze.current.useImperativeHandle(ue,xe,qe)},kt.useInsertionEffect=function(ue,xe){return ze.current.useInsertionEffect(ue,xe)},kt.useLayoutEffect=function(ue,xe){return ze.current.useLayoutEffect(ue,xe)},kt.useMemo=function(ue,xe){return ze.current.useMemo(ue,xe)},kt.useReducer=function(ue,xe,qe){return ze.current.useReducer(ue,xe,qe)},kt.useRef=function(ue){return ze.current.useRef(ue)},kt.useState=function(ue){return ze.current.useState(ue)},kt.useSyncExternalStore=function(ue,xe,qe){return ze.current.useSyncExternalStore(ue,xe,qe)},kt.useTransition=function(){return ze.current.useTransition()},kt.version="18.3.1",kt}var G0;function Hu(){return G0||(G0=1,Xf.exports=Oy()),Xf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function Dy(){if(Y0)return xu;Y0=1;var s=Hu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function y(x,v,w){var S,N={},k=null,U=null;w!==void 0&&(k=""+w),v.key!==void 0&&(k=""+v.key),v.ref!==void 0&&(U=v.ref);for(S in v)l.call(v,S)&&!f.hasOwnProperty(S)&&(N[S]=v[S]);if(x&&x.defaultProps)for(S in v=x.defaultProps,v)N[S]===void 0&&(N[S]=v[S]);return{$$typeof:e,type:x,key:k,ref:U,props:N,_owner:c.current}}return xu.Fragment=n,xu.jsx=y,xu.jsxs=y,xu}var $0;function My(){return $0||($0=1,$f.exports=Dy()),$f.exports}var Ce=My(),Yc={},Kf={exports:{}},Yi={},Qf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function Ly(){return X0||(X0=1,function(s){function e(ke,Qe){var Ge=ke.length;ke.push(Qe);e:for(;0<Ge;){var ue=Ge-1>>>1,xe=ke[ue];if(0<c(xe,Qe))ke[ue]=Qe,ke[Ge]=xe,Ge=ue;else break e}}function n(ke){return ke.length===0?null:ke[0]}function l(ke){if(ke.length===0)return null;var Qe=ke[0],Ge=ke.pop();if(Ge!==Qe){ke[0]=Ge;e:for(var ue=0,xe=ke.length,qe=xe>>>1;ue<qe;){var tt=2*(ue+1)-1,ht=ke[tt],Be=tt+1,St=ke[Be];if(0>c(ht,Ge))Be<xe&&0>c(St,ht)?(ke[ue]=St,ke[Be]=Ge,ue=Be):(ke[ue]=ht,ke[tt]=Ge,ue=tt);else if(Be<xe&&0>c(St,Ge))ke[ue]=St,ke[Be]=Ge,ue=Be;else break e}}return Qe}function c(ke,Qe){var Ge=ke.sortIndex-Qe.sortIndex;return Ge!==0?Ge:ke.id-Qe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var y=Date,x=y.now();s.unstable_now=function(){return y.now()-x}}var v=[],w=[],S=1,N=null,k=3,U=!1,z=!1,$=!1,q=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(ke){for(var Qe=n(w);Qe!==null;){if(Qe.callback===null)l(w);else if(Qe.startTime<=ke)l(w),Qe.sortIndex=Qe.expirationTime,e(v,Qe);else break;Qe=n(w)}}function se(ke){if($=!1,J(ke),!z)if(n(v)!==null)z=!0,st(Ee);else{var Qe=n(w);Qe!==null&&ze(se,Qe.startTime-ke)}}function Ee(ke,Qe){z=!1,$&&($=!1,j(F),F=-1),U=!0;var Ge=k;try{for(J(Qe),N=n(v);N!==null&&(!(N.expirationTime>Qe)||ke&&!G());){var ue=N.callback;if(typeof ue=="function"){N.callback=null,k=N.priorityLevel;var xe=ue(N.expirationTime<=Qe);Qe=s.unstable_now(),typeof xe=="function"?N.callback=xe:N===n(v)&&l(v),J(Qe)}else l(v);N=n(v)}if(N!==null)var qe=!0;else{var tt=n(w);tt!==null&&ze(se,tt.startTime-Qe),qe=!1}return qe}finally{N=null,k=Ge,U=!1}}var Te=!1,H=null,F=-1,D=5,X=-1;function G(){return!(s.unstable_now()-X<D)}function ee(){if(H!==null){var ke=s.unstable_now();X=ke;var Qe=!0;try{Qe=H(!0,ke)}finally{Qe?Y():(Te=!1,H=null)}}else Te=!1}var Y;if(typeof Q=="function")Y=function(){Q(ee)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,he=$e.port2;$e.port1.onmessage=ee,Y=function(){he.postMessage(null)}}else Y=function(){q(ee,0)};function st(ke){H=ke,Te||(Te=!0,Y())}function ze(ke,Qe){F=q(function(){ke(s.unstable_now())},Qe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(ke){ke.callback=null},s.unstable_continueExecution=function(){z||U||(z=!0,st(Ee))},s.unstable_forceFrameRate=function(ke){0>ke||125<ke?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ke?Math.floor(1e3/ke):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_getFirstCallbackNode=function(){return n(v)},s.unstable_next=function(ke){switch(k){case 1:case 2:case 3:var Qe=3;break;default:Qe=k}var Ge=k;k=Qe;try{return ke()}finally{k=Ge}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(ke,Qe){switch(ke){case 1:case 2:case 3:case 4:case 5:break;default:ke=3}var Ge=k;k=ke;try{return Qe()}finally{k=Ge}},s.unstable_scheduleCallback=function(ke,Qe,Ge){var ue=s.unstable_now();switch(typeof Ge=="object"&&Ge!==null?(Ge=Ge.delay,Ge=typeof Ge=="number"&&0<Ge?ue+Ge:ue):Ge=ue,ke){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Ge+xe,ke={id:S++,callback:Qe,priorityLevel:ke,startTime:Ge,expirationTime:xe,sortIndex:-1},Ge>ue?(ke.sortIndex=Ge,e(w,ke),n(v)===null&&ke===n(w)&&($?(j(F),F=-1):$=!0,ze(se,Ge-ue))):(ke.sortIndex=xe,e(v,ke),z||U||(z=!0,st(Ee))),ke},s.unstable_shouldYield=G,s.unstable_wrapCallback=function(ke){var Qe=k;return function(){var Ge=k;k=Qe;try{return ke.apply(this,arguments)}finally{k=Ge}}}}(qf)),qf}var K0;function Py(){return K0||(K0=1,Qf.exports=Ly()),Qf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function ky(){if(Q0)return Yi;Q0=1;var s=Hu(),e=Py();function n(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,p=1;p<arguments.length;p++)a+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function f(r,a){y(r,a),y(r+"Capture",a)}function y(r,a){for(c[r]=a,r=0;r<a.length;r++)l.add(a[r])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},N={};function k(r){return v.call(N,r)?!0:v.call(S,r)?!1:w.test(r)?N[r]=!0:(S[r]=!0,!1)}function U(r,a,p,E){if(p!==null&&p.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return E?!1:p!==null?!p.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function z(r,a,p,E){if(a===null||typeof a>"u"||U(r,a,p,E))return!0;if(E)return!1;if(p!==null)switch(p.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function $(r,a,p,E,T,b,B){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=E,this.attributeNamespace=T,this.mustUseProperty=p,this.propertyName=r,this.type=a,this.sanitizeURL=b,this.removeEmptyString=B}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){q[r]=new $(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];q[a]=new $(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){q[r]=new $(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){q[r]=new $(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){q[r]=new $(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){q[r]=new $(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){q[r]=new $(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){q[r]=new $(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){q[r]=new $(r,5,!1,r.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function Q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(j,Q);q[a]=new $(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(j,Q);q[a]=new $(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(j,Q);q[a]=new $(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){q[r]=new $(r,1,!1,r.toLowerCase(),null,!1,!1)}),q.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){q[r]=new $(r,1,!1,r.toLowerCase(),null,!0,!0)});function J(r,a,p,E){var T=q.hasOwnProperty(a)?q[a]:null;(T!==null?T.type!==0:E||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(z(a,p,T,E)&&(p=null),E||T===null?k(a)&&(p===null?r.removeAttribute(a):r.setAttribute(a,""+p)):T.mustUseProperty?r[T.propertyName]=p===null?T.type===3?!1:"":p:(a=T.attributeName,E=T.attributeNamespace,p===null?r.removeAttribute(a):(T=T.type,p=T===3||T===4&&p===!0?"":""+p,E?r.setAttributeNS(E,a,p):r.setAttribute(a,p))))}var se=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ee=Symbol.for("react.element"),Te=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),G=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),ke=Symbol.iterator;function Qe(r){return r===null||typeof r!="object"?null:(r=ke&&r[ke]||r["@@iterator"],typeof r=="function"?r:null)}var Ge=Object.assign,ue;function xe(r){if(ue===void 0)try{throw Error()}catch(p){var a=p.stack.trim().match(/\n( *(at )?)/);ue=a&&a[1]||""}return`
`+ue+r}var qe=!1;function tt(r,a){if(!r||qe)return"";qe=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(_e){var E=_e}Reflect.construct(r,[],a)}else{try{a.call()}catch(_e){E=_e}r.call(a.prototype)}else{try{throw Error()}catch(_e){E=_e}r()}}catch(_e){if(_e&&E&&typeof _e.stack=="string"){for(var T=_e.stack.split(`
`),b=E.stack.split(`
`),B=T.length-1,te=b.length-1;1<=B&&0<=te&&T[B]!==b[te];)te--;for(;1<=B&&0<=te;B--,te--)if(T[B]!==b[te]){if(B!==1||te!==1)do if(B--,te--,0>te||T[B]!==b[te]){var ae=`
`+T[B].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=B&&0<=te);break}}}finally{qe=!1,Error.prepareStackTrace=p}return(r=r?r.displayName||r.name:"")?xe(r):""}function ht(r){switch(r.tag){case 5:return xe(r.type);case 16:return xe("Lazy");case 13:return xe("Suspense");case 19:return xe("SuspenseList");case 0:case 2:case 15:return r=tt(r.type,!1),r;case 11:return r=tt(r.type.render,!1),r;case 1:return r=tt(r.type,!0),r;default:return""}}function Be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case H:return"Fragment";case Te:return"Portal";case D:return"Profiler";case F:return"StrictMode";case Y:return"Suspense";case $e:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case G:return(r.displayName||"Context")+".Consumer";case X:return(r._context.displayName||"Context")+".Provider";case ee:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case he:return a=r.displayName||null,a!==null?a:Be(r.type)||"Memo";case st:a=r._payload,r=r._init;try{return Be(r(a))}catch{}}return null}function St(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(a);case 8:return a===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function rt(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Mt(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ln(r){var a=Mt(r)?"checked":"value",p=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),E=""+r[a];if(!r.hasOwnProperty(a)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var T=p.get,b=p.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return T.call(this)},set:function(B){E=""+B,b.call(this,B)}}),Object.defineProperty(r,a,{enumerable:p.enumerable}),{getValue:function(){return E},setValue:function(B){E=""+B},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function ve(r){r._valueTracker||(r._valueTracker=ln(r))}function Vr(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var p=a.getValue(),E="";return r&&(E=Mt(r)?r.checked?"true":"false":r.value),r=E,r!==p?(a.setValue(r),!0):!1}function vt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function lr(r,a){var p=a.checked;return Ge({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??r._wrapperState.initialChecked})}function un(r,a){var p=a.defaultValue==null?"":a.defaultValue,E=a.checked!=null?a.checked:a.defaultChecked;p=rt(a.value!=null?a.value:p),r._wrapperState={initialChecked:E,initialValue:p,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ur(r,a){a=a.checked,a!=null&&J(r,"checked",a,!1)}function mn(r,a){ur(r,a);var p=rt(a.value),E=a.type;if(p!=null)E==="number"?(p===0&&r.value===""||r.value!=p)&&(r.value=""+p):r.value!==""+p&&(r.value=""+p);else if(E==="submit"||E==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?At(r,a.type,p):a.hasOwnProperty("defaultValue")&&At(r,a.type,rt(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function It(r,a,p){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var E=a.type;if(!(E!=="submit"&&E!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,p||a===r.value||(r.value=a),r.defaultValue=a}p=r.name,p!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,p!==""&&(r.name=p)}function At(r,a,p){(a!=="number"||vt(r.ownerDocument)!==r)&&(p==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+p&&(r.defaultValue=""+p))}var Xe=Array.isArray;function Ye(r,a,p,E){if(r=r.options,a){a={};for(var T=0;T<p.length;T++)a["$"+p[T]]=!0;for(p=0;p<r.length;p++)T=a.hasOwnProperty("$"+r[p].value),r[p].selected!==T&&(r[p].selected=T),T&&E&&(r[p].defaultSelected=!0)}else{for(p=""+rt(p),a=null,T=0;T<r.length;T++){if(r[T].value===p){r[T].selected=!0,E&&(r[T].defaultSelected=!0);return}a!==null||r[T].disabled||(a=r[T])}a!==null&&(a.selected=!0)}}function gi(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return Ge({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ki(r,a){var p=a.value;if(p==null){if(p=a.children,a=a.defaultValue,p!=null){if(a!=null)throw Error(n(92));if(Xe(p)){if(1<p.length)throw Error(n(93));p=p[0]}a=p}a==null&&(a=""),p=a}r._wrapperState={initialValue:rt(p)}}function zn(r,a){var p=rt(a.value),E=rt(a.defaultValue);p!=null&&(p=""+p,p!==r.value&&(r.value=p),a.defaultValue==null&&r.defaultValue!==p&&(r.defaultValue=p)),E!=null&&(r.defaultValue=""+E)}function Pi(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function Vt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vn(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?Vt(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Hn,An=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,p,E,T){MSApp.execUnsafeLocalFunction(function(){return r(a,p,E,T)})}:r}(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(Hn=Hn||document.createElement("div"),Hn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Hn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function Qi(r,a){if(a){var p=r.firstChild;if(p&&p===r.lastChild&&p.nodeType===3){p.nodeValue=a;return}}r.textContent=a}var qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ss=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(r){Ss.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),qi[a]=qi[r]})});function yn(r,a,p){return a==null||typeof a=="boolean"||a===""?"":p||typeof a!="number"||a===0||qi.hasOwnProperty(r)&&qi[r]?(""+a).trim():a+"px"}function je(r,a){r=r.style;for(var p in a)if(a.hasOwnProperty(p)){var E=p.indexOf("--")===0,T=yn(p,a[p],E);p==="float"&&(p="cssFloat"),E?r.setProperty(p,T):r[p]=T}}var En=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jt(r,a){if(a){if(En[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Ht(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mi=null;function Ur(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var bs=null,Ct=null,cr=null;function Ns(r){if(r=Da(r)){if(typeof bs!="function")throw Error(n(280));var a=r.stateNode;a&&(a=Bs(a),bs(r.stateNode,r.type,a))}}function yi(r){Ct?cr?cr.push(r):cr=[r]:Ct=r}function mr(){if(Ct){var r=Ct,a=cr;if(cr=Ct=null,Ns(r),a)for(r=0;r<a.length;r++)Ns(a[r])}}function Zi(r,a){return r(a)}function Fn(){}var Tr=!1;function ps(r,a,p){if(Tr)return r(a,p);Tr=!0;try{return Zi(r,a,p)}finally{Tr=!1,(Ct!==null||cr!==null)&&(Fn(),mr())}}function Wt(r,a){var p=r.stateNode;if(p===null)return null;var E=Bs(p);if(E===null)return null;p=E[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(r=r.type,E=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!E;break e;default:r=!1}if(r)return null;if(p&&typeof p!="function")throw Error(n(231,a,typeof p));return p}var Ji=!1;if(x)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Ji=!1}function gs(r,a,p,E,T,b,B,te,ae){var _e=Array.prototype.slice.call(arguments,3);try{a.apply(p,_e)}catch(Oe){this.onError(Oe)}}var en=!1,jr=null,In=!1,Ke=null,ms={onError:function(r){en=!0,jr=r}};function ei(r,a,p,E,T,b,B,te,ae){en=!1,jr=null,gs.apply(ms,arguments)}function Sn(r,a,p,E,T,b,B,te,ae){if(ei.apply(this,arguments),en){if(en){var _e=jr;en=!1,jr=null}else throw Error(n(198));In||(In=!0,Ke=_e)}}function Pn(r){var a=r,p=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,a.flags&4098&&(p=a.return),r=a.return;while(r)}return a.tag===3?p:null}function zr(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function Ir(r){if(Pn(r)!==r)throw Error(n(188))}function yr(r){var a=r.alternate;if(!a){if(a=Pn(r),a===null)throw Error(n(188));return a!==r?null:r}for(var p=r,E=a;;){var T=p.return;if(T===null)break;var b=T.alternate;if(b===null){if(E=T.return,E!==null){p=E;continue}break}if(T.child===b.child){for(b=T.child;b;){if(b===p)return Ir(T),r;if(b===E)return Ir(T),a;b=b.sibling}throw Error(n(188))}if(p.return!==E.return)p=T,E=b;else{for(var B=!1,te=T.child;te;){if(te===p){B=!0,p=T,E=b;break}if(te===E){B=!0,E=T,p=b;break}te=te.sibling}if(!B){for(te=b.child;te;){if(te===p){B=!0,p=b,E=T;break}if(te===E){B=!0,E=b,p=T;break}te=te.sibling}if(!B)throw Error(n(189))}}if(p.alternate!==E)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?r:a}function xo(r){return r=yr(r),r!==null?Xs(r):null}function Xs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=Xs(r);if(a!==null)return a;r=r.sibling}return null}var Er=e.unstable_scheduleCallback,Wn=e.unstable_cancelCallback,tn=e.unstable_shouldYield,Go=e.unstable_requestPaint,Lt=e.unstable_now,es=e.unstable_getCurrentPriorityLevel,Ie=e.unstable_ImmediatePriority,ys=e.unstable_UserBlockingPriority,Bt=e.unstable_NormalPriority,ki=e.unstable_LowPriority,Yo=e.unstable_IdlePriority,Nt=null,Et=null;function bt(r){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Nt,r,void 0,(r.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:bn,Rs=Math.log,Ks=Math.LN2;function bn(r){return r>>>=0,r===0?32:31-(Rs(r)/Ks|0)|0}var Hr=64,Qs=4194304;function qt(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gn(r,a){var p=r.pendingLanes;if(p===0)return 0;var E=0,T=r.suspendedLanes,b=r.pingedLanes,B=p&268435455;if(B!==0){var te=B&~T;te!==0?E=qt(te):(b&=B,b!==0&&(E=qt(b)))}else B=p&~T,B!==0?E=qt(B):b!==0&&(E=qt(b));if(E===0)return 0;if(a!==0&&a!==E&&!(a&T)&&(T=E&-E,b=a&-a,T>=b||T===16&&(b&4194240)!==0))return a;if(E&4&&(E|=p&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=E;0<a;)p=31-or(a),T=1<<p,E|=r[p],a&=~T;return E}function Aa(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(r,a){for(var p=r.suspendedLanes,E=r.pingedLanes,T=r.expirationTimes,b=r.pendingLanes;0<b;){var B=31-or(b),te=1<<B,ae=T[B];ae===-1?(!(te&p)||te&E)&&(T[B]=Aa(te,a)):ae<=a&&(r.expiredLanes|=te),b&=~te}}function Tt(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Nn(){var r=Hr;return Hr<<=1,!(Hr&4194240)&&(Hr=64),r}function fe(r){for(var a=[],p=0;31>p;p++)a.push(r);return a}function K(r,a,p){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-or(a),r[a]=p}function He(r,a){var p=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var E=r.eventTimes;for(r=r.expirationTimes;0<p;){var T=31-or(p),b=1<<T;a[T]=0,E[T]=-1,r[T]=-1,p&=~b}}function cn(r,a){var p=r.entangledLanes|=a;for(r=r.entanglements;p;){var E=31-or(p),T=1<<E;T&a|r[E]&a&&(r[E]|=a),p&=~T}}var mt=0;function Bi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ei,Vn,at,rn,vo,Ao=!1,ti=[],Un=null,wr=null,wi=null,hn=new Map,kn=new Map,Jn=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fi(r,a){switch(r){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":hn.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":kn.delete(a.pointerId)}}function ut(r,a,p,E,T,b){return r===null||r.nativeEvent!==b?(r={blockedOn:a,domEventName:p,eventSystemFlags:E,nativeEvent:b,targetContainers:[T]},a!==null&&(a=Da(a),a!==null&&Vn(a)),r):(r.eventSystemFlags|=E,a=r.targetContainers,T!==null&&a.indexOf(T)===-1&&a.push(T),r)}function Yn(r,a,p,E,T){switch(a){case"focusin":return Un=ut(Un,r,a,p,E,T),!0;case"dragenter":return wr=ut(wr,r,a,p,E,T),!0;case"mouseover":return wi=ut(wi,r,a,p,E,T),!0;case"pointerover":var b=T.pointerId;return hn.set(b,ut(hn.get(b)||null,r,a,p,E,T)),!0;case"gotpointercapture":return b=T.pointerId,kn.set(b,ut(kn.get(b)||null,r,a,p,E,T)),!0}return!1}function Co(r){var a=so(r.target);if(a!==null){var p=Pn(a);if(p!==null){if(a=p.tag,a===13){if(a=zr(p),a!==null){r.blockedOn=a,vo(r.priority,function(){at(p)});return}}else if(a===3&&p.stateNode.current.memoizedState.isDehydrated){r.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _i(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var p=Os(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(p===null){p=r.nativeEvent;var E=new p.constructor(p.type,p);mi=E,p.target.dispatchEvent(E),mi=null}else return a=Da(p),a!==null&&Vn(a),r.blockedOn=p,!1;a.shift()}return!0}function ts(r,a,p){_i(r)&&p.delete(a)}function Vi(){Ao=!1,Un!==null&&_i(Un)&&(Un=null),wr!==null&&_i(wr)&&(wr=null),wi!==null&&_i(wi)&&(wi=null),hn.forEach(ts),kn.forEach(ts)}function xi(r,a){r.blockedOn===a&&(r.blockedOn=null,Ao||(Ao=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vi)))}function _r(r){function a(T){return xi(T,r)}if(0<ti.length){xi(ti[0],r);for(var p=1;p<ti.length;p++){var E=ti[p];E.blockedOn===r&&(E.blockedOn=null)}}for(Un!==null&&xi(Un,r),wr!==null&&xi(wr,r),wi!==null&&xi(wi,r),hn.forEach(a),kn.forEach(a),p=0;p<Jn.length;p++)E=Jn[p],E.blockedOn===r&&(E.blockedOn=null);for(;0<Jn.length&&(p=Jn[0],p.blockedOn===null);)Co(p),p.blockedOn===null&&Jn.shift()}var Gr=se.ReactCurrentBatchConfig,ni=!0;function sn(r,a,p,E){var T=mt,b=Gr.transition;Gr.transition=null;try{mt=1,ns(r,a,p,E)}finally{mt=T,Gr.transition=b}}function Es(r,a,p,E){var T=mt,b=Gr.transition;Gr.transition=null;try{mt=4,ns(r,a,p,E)}finally{mt=T,Gr.transition=b}}function ns(r,a,p,E){if(ni){var T=Os(r,a,p,E);if(T===null)ba(r,a,E,fn,p),Fi(r,E);else if(Yn(T,r,a,p,E))E.stopPropagation();else if(Fi(r,E),a&4&&-1<ft.indexOf(r)){for(;T!==null;){var b=Da(T);if(b!==null&&Ei(b),b=Os(r,a,p,E),b===null&&ba(r,a,E,fn,p),b===T)break;T=b}T!==null&&E.stopPropagation()}else ba(r,a,E,null,p)}}var fn=null;function Os(r,a,p,E){if(fn=null,r=Ur(E),r=so(r),r!==null)if(a=Pn(r),a===null)r=null;else if(p=a.tag,p===13){if(r=zr(a),r!==null)return r;r=null}else if(p===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return fn=r,null}function qs(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(es()){case Ie:return 1;case ys:return 4;case Bt:case ki:return 16;case Yo:return 536870912;default:return 16}default:return 16}}var Sr=null,Zs=null,br=null;function vi(){if(br)return br;var r,a=Zs,p=a.length,E,T="value"in Sr?Sr.value:Sr.textContent,b=T.length;for(r=0;r<p&&a[r]===T[r];r++);var B=p-r;for(E=1;E<=B&&a[p-E]===T[b-E];E++);return br=T.slice(r,1<E?1-E:void 0)}function Ft(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Nr(){return!0}function ws(){return!1}function wn(r){function a(p,E,T,b,B){this._reactName=p,this._targetInst=T,this.type=E,this.nativeEvent=b,this.target=B,this.currentTarget=null;for(var te in r)r.hasOwnProperty(te)&&(p=r[te],this[te]=p?p(b):b[te]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Nr:ws,this.isPropagationStopped=ws,this}return Ge(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),a}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},me=wn(Ai),dt=Ge({},Ai,{view:0,detail:0}),$n=wn(dt),rs,Ui,_s,Ds=Ge({},dt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ii,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==_s&&(_s&&r.type==="mousemove"?(rs=r.screenX-_s.screenX,Ui=r.screenY-_s.screenY):Ui=rs=0,_s=r),rs)},movementY:function(r){return"movementY"in r?r.movementY:Ui}}),Js=wn(Ds),Ms=Ge({},Ds,{dataTransfer:0}),Rn=wn(Ms),er=Ge({},dt,{relatedTarget:0}),Zt=wn(er),Ls=Ge({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),hr=wn(Ls),zt=Ge({},Ai,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ct=wn(zt),$o=Ge({},Ai,{data:0}),Gt=wn($o),ri={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ps={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yr(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Ps[r])?!!a[r]:!1}function ii(){return Yr}var m=Ge({},dt,{key:function(r){if(r.key){var a=ri[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Ft(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Xn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ii,charCode:function(r){return r.type==="keypress"?Ft(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ft(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),I=wn(m),O=Ge({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W=wn(O),de=Ge({},dt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ii}),we=wn(de),Ve=Ge({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yt=wn(Ve),on=Ge({},Ds,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Dt=wn(on),nn=[9,13,27,32],Cn=x&&"CompositionEvent"in window,On=null;x&&"documentMode"in document&&(On=document.documentMode);var dn=x&&"TextEvent"in window&&!On,fr=x&&(!Cn||On&&8<On&&11>=On),eo=" ",Xo=!1;function sl(r,a){switch(r){case"keyup":return nn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ko(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var dr=!1;function Wl(r,a){switch(r){case"compositionend":return Ko(a);case"keypress":return a.which!==32?null:(Xo=!0,eo);case"textInput":return r=a.data,r===eo&&Xo?null:r;default:return null}}function Ca(r,a){if(dr)return r==="compositionend"||!Cn&&sl(r,a)?(r=vi(),br=Zs=Sr=null,dr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return fr&&a.locale!=="ko"?null:a.data;default:return null}}var To={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!To[r.type]:a==="textarea"}function Io(r,a,p,E){yi(E),a=al(a,"onChange"),0<a.length&&(p=new me("onChange","change",null,p,E),r.push({event:p,listeners:a}))}var M=null,t=null;function i(r){sc(r,0)}function o(r){var a=ea(r);if(Vr(a))return r}function u(r,a){if(r==="change")return a}var h=!1;if(x){var d;if(x){var g="oninput"in document;if(!g){var _=document.createElement("div");_.setAttribute("oninput","return;"),g=typeof _.oninput=="function"}d=g}else d=!1;h=d&&(!document.documentMode||9<document.documentMode)}function A(){M&&(M.detachEvent("onpropertychange",R),t=M=null)}function R(r){if(r.propertyName==="value"&&o(t)){var a=[];Io(a,t,r,Ur(r)),ps(i,a)}}function L(r,a,p){r==="focusin"?(A(),M=a,t=p,M.attachEvent("onpropertychange",R)):r==="focusout"&&A()}function V(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return o(t)}function Z(r,a){if(r==="click")return o(a)}function ie(r,a){if(r==="input"||r==="change")return o(a)}function oe(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var ce=typeof Object.is=="function"?Object.is:oe;function ye(r,a){if(ce(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var p=Object.keys(r),E=Object.keys(a);if(p.length!==E.length)return!1;for(E=0;E<p.length;E++){var T=p[E];if(!v.call(a,T)||!ce(r[T],a[T]))return!1}return!0}function De(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Me(r,a){var p=De(r);r=0;for(var E;p;){if(p.nodeType===3){if(E=r+p.textContent.length,r<=a&&E>=a)return{node:p,offset:a-r};r=E}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=De(p)}}function Ne(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Ne(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Rt(){for(var r=window,a=vt();a instanceof r.HTMLIFrameElement;){try{var p=typeof a.contentWindow.location.href=="string"}catch{p=!1}if(p)r=a.contentWindow;else break;a=vt(r.document)}return a}function yt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function Rr(r){var a=Rt(),p=r.focusedElem,E=r.selectionRange;if(a!==p&&p&&p.ownerDocument&&Ne(p.ownerDocument.documentElement,p)){if(E!==null&&yt(p)){if(a=E.start,r=E.end,r===void 0&&(r=a),"selectionStart"in p)p.selectionStart=a,p.selectionEnd=Math.min(r,p.value.length);else if(r=(a=p.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var T=p.textContent.length,b=Math.min(E.start,T);E=E.end===void 0?b:Math.min(E.end,T),!r.extend&&b>E&&(T=E,E=b,b=T),T=Me(p,b);var B=Me(p,E);T&&B&&(r.rangeCount!==1||r.anchorNode!==T.node||r.anchorOffset!==T.offset||r.focusNode!==B.node||r.focusOffset!==B.offset)&&(a=a.createRange(),a.setStart(T.node,T.offset),r.removeAllRanges(),b>E?(r.addRange(a),r.extend(B.node,B.offset)):(a.setEnd(B.node,B.offset),r.addRange(a)))}}for(a=[],r=p;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<a.length;p++)r=a[p],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Ci=x&&"documentMode"in document&&11>=document.documentMode,Kn=null,$t=null,Dn=null,xr=!1;function ks(r,a,p){var E=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;xr||Kn==null||Kn!==vt(E)||(E=Kn,"selectionStart"in E&&yt(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Dn&&ye(Dn,E)||(Dn=E,E=al($t,"onSelect"),0<E.length&&(a=new me("onSelect","select",null,a,p),r.push({event:a,listeners:E}),a.target=Kn)))}function is(r,a){var p={};return p[r.toLowerCase()]=a.toLowerCase(),p["Webkit"+r]="webkit"+a,p["Moz"+r]="moz"+a,p}var to={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionend:is("Transition","TransitionEnd")},Ta={},ec={};x&&(ec=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function ji(r){if(Ta[r])return Ta[r];if(!to[r])return r;var a=to[r],p;for(p in a)if(a.hasOwnProperty(p)&&p in ec)return Ta[r]=a[p];return r}var zh=ji("animationend"),Gl=ji("animationiteration"),tc=ji("animationstart"),nc=ji("transitionend"),rc=new Map,ic="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(r,a){rc.set(r,a),f(a,[r])}for(var Yl=0;Yl<ic.length;Yl++){var $l=ic[Yl],Hh=$l.toLowerCase(),Wh=$l[0].toUpperCase()+$l.slice(1);no(Hh,"on"+Wh)}no(zh,"onAnimationEnd"),no(Gl,"onAnimationIteration"),no(tc,"onAnimationStart"),no("dblclick","onDoubleClick"),no("focusin","onFocus"),no("focusout","onBlur"),no(nc,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function ol(r,a,p){var E=r.type||"unknown-event";r.currentTarget=p,Sn(E,a,void 0,r),r.currentTarget=null}function sc(r,a){a=(a&4)!==0;for(var p=0;p<r.length;p++){var E=r[p],T=E.event;E=E.listeners;e:{var b=void 0;if(a)for(var B=E.length-1;0<=B;B--){var te=E[B],ae=te.instance,_e=te.currentTarget;if(te=te.listener,ae!==b&&T.isPropagationStopped())break e;ol(T,te,_e),b=ae}else for(B=0;B<E.length;B++){if(te=E[B],ae=te.instance,_e=te.currentTarget,te=te.listener,ae!==b&&T.isPropagationStopped())break e;ol(T,te,_e),b=ae}}}if(In)throw r=Ke,In=!1,Ke=null,r}function an(r,a){var p=a[Oa];p===void 0&&(p=a[Oa]=new Set);var E=r+"__bubble";p.has(E)||(qo(a,r,2,!1),p.add(E))}function Xl(r,a,p){var E=0;a&&(E|=4),qo(p,r,E,a)}var Sa="_reactListening"+Math.random().toString(36).slice(2);function Qo(r){if(!r[Sa]){r[Sa]=!0,l.forEach(function(p){p!=="selectionchange"&&(Gh.has(p)||Xl(p,!1,r),Xl(p,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Sa]||(a[Sa]=!0,Xl("selectionchange",!1,a))}}function qo(r,a,p,E){switch(qs(a)){case 1:var T=sn;break;case 4:T=Es;break;default:T=ns}p=T.bind(null,a,p,r),T=void 0,!Ji||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(T=!0),E?T!==void 0?r.addEventListener(a,p,{capture:!0,passive:T}):r.addEventListener(a,p,!0):T!==void 0?r.addEventListener(a,p,{passive:T}):r.addEventListener(a,p,!1)}function ba(r,a,p,E,T){var b=E;if(!(a&1)&&!(a&2)&&E!==null)e:for(;;){if(E===null)return;var B=E.tag;if(B===3||B===4){var te=E.stateNode.containerInfo;if(te===T||te.nodeType===8&&te.parentNode===T)break;if(B===4)for(B=E.return;B!==null;){var ae=B.tag;if((ae===3||ae===4)&&(ae=B.stateNode.containerInfo,ae===T||ae.nodeType===8&&ae.parentNode===T))return;B=B.return}for(;te!==null;){if(B=so(te),B===null)return;if(ae=B.tag,ae===5||ae===6){E=b=B;continue e}te=te.parentNode}}E=E.return}ps(function(){var _e=b,Oe=Ur(p),Pe=[];e:{var Re=rc.get(r);if(Re!==void 0){var Ze=me,nt=r;switch(r){case"keypress":if(Ft(p)===0)break e;case"keydown":case"keyup":Ze=I;break;case"focusin":nt="focus",Ze=Zt;break;case"focusout":nt="blur",Ze=Zt;break;case"beforeblur":case"afterblur":Ze=Zt;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=Js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=Rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=we;break;case zh:case Gl:case tc:Ze=hr;break;case nc:Ze=Yt;break;case"scroll":Ze=$n;break;case"wheel":Ze=Dt;break;case"copy":case"cut":case"paste":Ze=ct;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=W}var it=(a&4)!==0,ar=!it&&r==="scroll",pe=it?Re!==null?Re+"Capture":null:Re;it=[];for(var le=_e,ge;le!==null;){ge=le;var Ue=ge.stateNode;if(ge.tag===5&&Ue!==null&&(ge=Ue,pe!==null&&(Ue=Wt(le,pe),Ue!=null&&it.push(Na(le,Ue,ge)))),ar)break;le=le.return}0<it.length&&(Re=new Ze(Re,nt,null,p,Oe),Pe.push({event:Re,listeners:it}))}}if(!(a&7)){e:{if(Re=r==="mouseover"||r==="pointerover",Ze=r==="mouseout"||r==="pointerout",Re&&p!==mi&&(nt=p.relatedTarget||p.fromElement)&&(so(nt)||nt[io]))break e;if((Ze||Re)&&(Re=Oe.window===Oe?Oe:(Re=Oe.ownerDocument)?Re.defaultView||Re.parentWindow:window,Ze?(nt=p.relatedTarget||p.toElement,Ze=_e,nt=nt?so(nt):null,nt!==null&&(ar=Pn(nt),nt!==ar||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(Ze=null,nt=_e),Ze!==nt)){if(it=Js,Ue="onMouseLeave",pe="onMouseEnter",le="mouse",(r==="pointerout"||r==="pointerover")&&(it=W,Ue="onPointerLeave",pe="onPointerEnter",le="pointer"),ar=Ze==null?Re:ea(Ze),ge=nt==null?Re:ea(nt),Re=new it(Ue,le+"leave",Ze,p,Oe),Re.target=ar,Re.relatedTarget=ge,Ue=null,so(Oe)===_e&&(it=new it(pe,le+"enter",nt,p,Oe),it.target=ge,it.relatedTarget=ar,Ue=it),ar=Ue,Ze&&nt)t:{for(it=Ze,pe=nt,le=0,ge=it;ge;ge=Zo(ge))le++;for(ge=0,Ue=pe;Ue;Ue=Zo(Ue))ge++;for(;0<le-ge;)it=Zo(it),le--;for(;0<ge-le;)pe=Zo(pe),ge--;for(;le--;){if(it===pe||pe!==null&&it===pe.alternate)break t;it=Zo(it),pe=Zo(pe)}it=null}else it=null;Ze!==null&&oc(Pe,Re,Ze,it,!1),nt!==null&&ar!==null&&oc(Pe,ar,nt,it,!0)}}e:{if(Re=_e?ea(_e):window,Ze=Re.nodeName&&Re.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&Re.type==="file")var lt=u;else if(Pt(Re))if(h)lt=ie;else{lt=V;var pt=L}else(Ze=Re.nodeName)&&Ze.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(lt=Z);if(lt&&(lt=lt(r,_e))){Io(Pe,lt,p,Oe);break e}pt&&pt(r,Re,_e),r==="focusout"&&(pt=Re._wrapperState)&&pt.controlled&&Re.type==="number"&&At(Re,"number",Re.value)}switch(pt=_e?ea(_e):window,r){case"focusin":(Pt(pt)||pt.contentEditable==="true")&&(Kn=pt,$t=_e,Dn=null);break;case"focusout":Dn=$t=Kn=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,ks(Pe,p,Oe);break;case"selectionchange":if(Ci)break;case"keydown":case"keyup":ks(Pe,p,Oe)}var gt;if(Cn)e:{switch(r){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else dr?sl(r,p)&&(xt="onCompositionEnd"):r==="keydown"&&p.keyCode===229&&(xt="onCompositionStart");xt&&(fr&&p.locale!=="ko"&&(dr||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&dr&&(gt=vi()):(Sr=Oe,Zs="value"in Sr?Sr.value:Sr.textContent,dr=!0)),pt=al(_e,xt),0<pt.length&&(xt=new Gt(xt,r,null,p,Oe),Pe.push({event:xt,listeners:pt}),gt?xt.data=gt:(gt=Ko(p),gt!==null&&(xt.data=gt)))),(gt=dn?Wl(r,p):Ca(r,p))&&(_e=al(_e,"onBeforeInput"),0<_e.length&&(Oe=new Gt("onBeforeInput","beforeinput",null,p,Oe),Pe.push({event:Oe,listeners:_e}),Oe.data=gt))}sc(Pe,a)})}function Na(r,a,p){return{instance:r,listener:a,currentTarget:p}}function al(r,a){for(var p=a+"Capture",E=[];r!==null;){var T=r,b=T.stateNode;T.tag===5&&b!==null&&(T=b,b=Wt(r,p),b!=null&&E.unshift(Na(r,b,T)),b=Wt(r,a),b!=null&&E.push(Na(r,b,T))),r=r.return}return E}function Zo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function oc(r,a,p,E,T){for(var b=a._reactName,B=[];p!==null&&p!==E;){var te=p,ae=te.alternate,_e=te.stateNode;if(ae!==null&&ae===E)break;te.tag===5&&_e!==null&&(te=_e,T?(ae=Wt(p,b),ae!=null&&B.unshift(Na(p,ae,te))):T||(ae=Wt(p,b),ae!=null&&B.push(Na(p,ae,te)))),p=p.return}B.length!==0&&r.push({event:a,listeners:B})}var Yh=/\r\n?/g,$h=/\u0000|\uFFFD/g;function ac(r){return(typeof r=="string"?r:""+r).replace(Yh,`
`).replace($h,"")}function ll(r,a,p){if(a=ac(a),ac(r)!==a&&p)throw Error(n(425))}function ul(){}var Kl=null,Ql=null;function ql(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Zl=typeof setTimeout=="function"?setTimeout:void 0,Xh=typeof clearTimeout=="function"?clearTimeout:void 0,lc=typeof Promise=="function"?Promise:void 0,So=typeof queueMicrotask=="function"?queueMicrotask:typeof lc<"u"?function(r){return lc.resolve(null).then(r).catch(Kh)}:Zl;function Kh(r){setTimeout(function(){throw r})}function Jl(r,a){var p=a,E=0;do{var T=p.nextSibling;if(r.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"){if(E===0){r.removeChild(T),_r(a);return}E--}else p!=="$"&&p!=="$?"&&p!=="$!"||E++;p=T}while(p);_r(a)}function ro(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function uc(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var p=r.data;if(p==="$"||p==="$!"||p==="$?"){if(a===0)return r;a--}else p==="/$"&&a++}r=r.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Jo,Ra="__reactProps$"+Jo,io="__reactContainer$"+Jo,Oa="__reactEvents$"+Jo,Qh="__reactListeners$"+Jo,qh="__reactHandles$"+Jo;function so(r){var a=r[Ti];if(a)return a;for(var p=r.parentNode;p;){if(a=p[io]||p[Ti]){if(p=a.alternate,a.child!==null||p!==null&&p.child!==null)for(r=uc(r);r!==null;){if(p=r[Ti])return p;r=uc(r)}return a}r=p,p=r.parentNode}return null}function Da(r){return r=r[Ti]||r[io],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ea(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Bs(r){return r[Ra]||null}var eu=[],oo=-1;function ao(r){return{current:r}}function _n(r){0>oo||(r.current=eu[oo],eu[oo]=null,oo--)}function Tn(r,a){oo++,eu[oo]=r.current,r.current=a}var bo={},Or=ao(bo),si=ao(!1),No=bo;function ta(r,a){var p=r.type.contextTypes;if(!p)return bo;var E=r.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===a)return E.__reactInternalMemoizedMaskedChildContext;var T={},b;for(b in p)T[b]=a[b];return E&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=T),T}function oi(r){return r=r.childContextTypes,r!=null}function lo(){_n(si),_n(Or)}function cc(r,a,p){if(Or.current!==bo)throw Error(n(168));Tn(Or,a),Tn(si,p)}function Zh(r,a,p){var E=r.stateNode;if(a=a.childContextTypes,typeof E.getChildContext!="function")return p;E=E.getChildContext();for(var T in E)if(!(T in a))throw Error(n(108,St(r)||"Unknown",T));return Ge({},p,E)}function xs(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||bo,No=Or.current,Tn(Or,r),Tn(si,si.current),!0}function hc(r,a,p){var E=r.stateNode;if(!E)throw Error(n(169));p?(r=Zh(r,a,No),E.__reactInternalMemoizedMergedChildContext=r,_n(si),_n(Or),Tn(Or,r)):_n(si),Tn(si,p)}var Fs=null,cl=!1,tu=!1;function fc(r){Fs===null?Fs=[r]:Fs.push(r)}function Jh(r){cl=!0,fc(r)}function uo(){if(!tu&&Fs!==null){tu=!0;var r=0,a=mt;try{var p=Fs;for(mt=1;r<p.length;r++){var E=p[r];do E=E(!0);while(E!==null)}Fs=null,cl=!1}catch(T){throw Fs!==null&&(Fs=Fs.slice(r+1)),Er(Ie,uo),T}finally{mt=a,tu=!1}}return null}var na=[],Ro=0,hl=null,Ma=0,ai=[],Ii=0,Si=null,vs=1,ss="";function Oo(r,a){na[Ro++]=Ma,na[Ro++]=hl,hl=r,Ma=a}function nu(r,a,p){ai[Ii++]=vs,ai[Ii++]=ss,ai[Ii++]=Si,Si=r;var E=vs;r=ss;var T=32-or(E)-1;E&=~(1<<T),p+=1;var b=32-or(a)+T;if(30<b){var B=T-T%5;b=(E&(1<<B)-1).toString(32),E>>=B,T-=B,vs=1<<32-or(a)+T|p<<T|E,ss=b+r}else vs=1<<b|p<<T|E,ss=r}function ru(r){r.return!==null&&(Oo(r,1),nu(r,1,0))}function La(r){for(;r===hl;)hl=na[--Ro],na[Ro]=null,Ma=na[--Ro],na[Ro]=null;for(;r===Si;)Si=ai[--Ii],ai[Ii]=null,ss=ai[--Ii],ai[Ii]=null,vs=ai[--Ii],ai[Ii]=null}var bi=null,Ni=null,Mn=!1,zi=null;function fl(r,a){var p=Ts(5,null,null,0);p.elementType="DELETED",p.stateNode=a,p.return=r,a=r.deletions,a===null?(r.deletions=[p],r.flags|=16):a.push(p)}function dc(r,a){switch(r.tag){case 5:var p=r.type;return a=a.nodeType!==1||p.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,bi=r,Ni=ro(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,bi=r,Ni=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(p=Si!==null?{id:vs,overflow:ss}:null,r.memoizedState={dehydrated:a,treeContext:p,retryLane:1073741824},p=Ts(18,null,null,0),p.stateNode=a,p.return=r,r.child=p,bi=r,Ni=null,!0):!1;default:return!1}}function Vs(r){return(r.mode&1)!==0&&(r.flags&128)===0}function iu(r){if(Mn){var a=Ni;if(a){var p=a;if(!dc(r,a)){if(Vs(r))throw Error(n(418));a=ro(p.nextSibling);var E=bi;a&&dc(r,a)?fl(E,p):(r.flags=r.flags&-4097|2,Mn=!1,bi=r)}}else{if(Vs(r))throw Error(n(418));r.flags=r.flags&-4097|2,Mn=!1,bi=r}}}function ef(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;bi=r}function os(r){if(r!==bi)return!1;if(!Mn)return ef(r),Mn=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!ql(r.type,r.memoizedProps)),a&&(a=Ni)){if(Vs(r))throw pc(),Error(n(418));for(;a;)fl(r,a),a=ro(a.nextSibling)}if(ef(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var p=r.data;if(p==="/$"){if(a===0){Ni=ro(r.nextSibling);break e}a--}else p!=="$"&&p!=="$!"&&p!=="$?"||a++}r=r.nextSibling}Ni=null}}else Ni=bi?ro(r.stateNode.nextSibling):null;return!0}function pc(){for(var r=Ni;r;)r=ro(r.nextSibling)}function ra(){Ni=bi=null,Mn=!1}function su(r){zi===null?zi=[r]:zi.push(r)}var tf=se.ReactCurrentBatchConfig;function Pa(r,a,p){if(r=p.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var E=p.stateNode}if(!E)throw Error(n(147,r));var T=E,b=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(B){var te=T.refs;B===null?delete te[b]:te[b]=B},a._stringRef=b,a)}if(typeof r!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,r))}return r}function dl(r,a){throw r=Object.prototype.toString.call(a),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function gc(r){var a=r._init;return a(r._payload)}function mc(r){function a(pe,le){if(r){var ge=pe.deletions;ge===null?(pe.deletions=[le],pe.flags|=16):ge.push(le)}}function p(pe,le){if(!r)return null;for(;le!==null;)a(pe,le),le=le.sibling;return null}function E(pe,le){for(pe=new Map;le!==null;)le.key!==null?pe.set(le.key,le):pe.set(le.index,le),le=le.sibling;return pe}function T(pe,le){return pe=ha(pe,le),pe.index=0,pe.sibling=null,pe}function b(pe,le,ge){return pe.index=ge,r?(ge=pe.alternate,ge!==null?(ge=ge.index,ge<le?(pe.flags|=2,le):ge):(pe.flags|=2,le)):(pe.flags|=1048576,le)}function B(pe){return r&&pe.alternate===null&&(pe.flags|=2),pe}function te(pe,le,ge,Ue){return le===null||le.tag!==6?(le=jf(ge,pe.mode,Ue),le.return=pe,le):(le=T(le,ge),le.return=pe,le)}function ae(pe,le,ge,Ue){var lt=ge.type;return lt===H?Oe(pe,le,ge.props.children,Ue,ge.key):le!==null&&(le.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===st&&gc(lt)===le.type)?(Ue=T(le,ge.props),Ue.ref=Pa(pe,le,ge),Ue.return=pe,Ue):(Ue=Bc(ge.type,ge.key,ge.props,null,pe.mode,Ue),Ue.ref=Pa(pe,le,ge),Ue.return=pe,Ue)}function _e(pe,le,ge,Ue){return le===null||le.tag!==4||le.stateNode.containerInfo!==ge.containerInfo||le.stateNode.implementation!==ge.implementation?(le=zf(ge,pe.mode,Ue),le.return=pe,le):(le=T(le,ge.children||[]),le.return=pe,le)}function Oe(pe,le,ge,Ue,lt){return le===null||le.tag!==7?(le=Ha(ge,pe.mode,Ue,lt),le.return=pe,le):(le=T(le,ge),le.return=pe,le)}function Pe(pe,le,ge){if(typeof le=="string"&&le!==""||typeof le=="number")return le=jf(""+le,pe.mode,ge),le.return=pe,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case Ee:return ge=Bc(le.type,le.key,le.props,null,pe.mode,ge),ge.ref=Pa(pe,null,le),ge.return=pe,ge;case Te:return le=zf(le,pe.mode,ge),le.return=pe,le;case st:var Ue=le._init;return Pe(pe,Ue(le._payload),ge)}if(Xe(le)||Qe(le))return le=Ha(le,pe.mode,ge,null),le.return=pe,le;dl(pe,le)}return null}function Re(pe,le,ge,Ue){var lt=le!==null?le.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return lt!==null?null:te(pe,le,""+ge,Ue);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case Ee:return ge.key===lt?ae(pe,le,ge,Ue):null;case Te:return ge.key===lt?_e(pe,le,ge,Ue):null;case st:return lt=ge._init,Re(pe,le,lt(ge._payload),Ue)}if(Xe(ge)||Qe(ge))return lt!==null?null:Oe(pe,le,ge,Ue,null);dl(pe,ge)}return null}function Ze(pe,le,ge,Ue,lt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return pe=pe.get(ge)||null,te(le,pe,""+Ue,lt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case Ee:return pe=pe.get(Ue.key===null?ge:Ue.key)||null,ae(le,pe,Ue,lt);case Te:return pe=pe.get(Ue.key===null?ge:Ue.key)||null,_e(le,pe,Ue,lt);case st:var pt=Ue._init;return Ze(pe,le,ge,pt(Ue._payload),lt)}if(Xe(Ue)||Qe(Ue))return pe=pe.get(ge)||null,Oe(le,pe,Ue,lt,null);dl(le,Ue)}return null}function nt(pe,le,ge,Ue){for(var lt=null,pt=null,gt=le,xt=le=0,Pr=null;gt!==null&&xt<ge.length;xt++){gt.index>xt?(Pr=gt,gt=null):Pr=gt.sibling;var Jt=Re(pe,gt,ge[xt],Ue);if(Jt===null){gt===null&&(gt=Pr);break}r&&gt&&Jt.alternate===null&&a(pe,gt),le=b(Jt,le,xt),pt===null?lt=Jt:pt.sibling=Jt,pt=Jt,gt=Pr}if(xt===ge.length)return p(pe,gt),Mn&&Oo(pe,xt),lt;if(gt===null){for(;xt<ge.length;xt++)gt=Pe(pe,ge[xt],Ue),gt!==null&&(le=b(gt,le,xt),pt===null?lt=gt:pt.sibling=gt,pt=gt);return Mn&&Oo(pe,xt),lt}for(gt=E(pe,gt);xt<ge.length;xt++)Pr=Ze(gt,pe,xt,ge[xt],Ue),Pr!==null&&(r&&Pr.alternate!==null&&gt.delete(Pr.key===null?xt:Pr.key),le=b(Pr,le,xt),pt===null?lt=Pr:pt.sibling=Pr,pt=Pr);return r&&gt.forEach(function(fa){return a(pe,fa)}),Mn&&Oo(pe,xt),lt}function it(pe,le,ge,Ue){var lt=Qe(ge);if(typeof lt!="function")throw Error(n(150));if(ge=lt.call(ge),ge==null)throw Error(n(151));for(var pt=lt=null,gt=le,xt=le=0,Pr=null,Jt=ge.next();gt!==null&&!Jt.done;xt++,Jt=ge.next()){gt.index>xt?(Pr=gt,gt=null):Pr=gt.sibling;var fa=Re(pe,gt,Jt.value,Ue);if(fa===null){gt===null&&(gt=Pr);break}r&&gt&&fa.alternate===null&&a(pe,gt),le=b(fa,le,xt),pt===null?lt=fa:pt.sibling=fa,pt=fa,gt=Pr}if(Jt.done)return p(pe,gt),Mn&&Oo(pe,xt),lt;if(gt===null){for(;!Jt.done;xt++,Jt=ge.next())Jt=Pe(pe,Jt.value,Ue),Jt!==null&&(le=b(Jt,le,xt),pt===null?lt=Jt:pt.sibling=Jt,pt=Jt);return Mn&&Oo(pe,xt),lt}for(gt=E(pe,gt);!Jt.done;xt++,Jt=ge.next())Jt=Ze(gt,pe,xt,Jt.value,Ue),Jt!==null&&(r&&Jt.alternate!==null&&gt.delete(Jt.key===null?xt:Jt.key),le=b(Jt,le,xt),pt===null?lt=Jt:pt.sibling=Jt,pt=Jt);return r&&gt.forEach(function(by){return a(pe,by)}),Mn&&Oo(pe,xt),lt}function ar(pe,le,ge,Ue){if(typeof ge=="object"&&ge!==null&&ge.type===H&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case Ee:e:{for(var lt=ge.key,pt=le;pt!==null;){if(pt.key===lt){if(lt=ge.type,lt===H){if(pt.tag===7){p(pe,pt.sibling),le=T(pt,ge.props.children),le.return=pe,pe=le;break e}}else if(pt.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===st&&gc(lt)===pt.type){p(pe,pt.sibling),le=T(pt,ge.props),le.ref=Pa(pe,pt,ge),le.return=pe,pe=le;break e}p(pe,pt);break}else a(pe,pt);pt=pt.sibling}ge.type===H?(le=Ha(ge.props.children,pe.mode,Ue,ge.key),le.return=pe,pe=le):(Ue=Bc(ge.type,ge.key,ge.props,null,pe.mode,Ue),Ue.ref=Pa(pe,le,ge),Ue.return=pe,pe=Ue)}return B(pe);case Te:e:{for(pt=ge.key;le!==null;){if(le.key===pt)if(le.tag===4&&le.stateNode.containerInfo===ge.containerInfo&&le.stateNode.implementation===ge.implementation){p(pe,le.sibling),le=T(le,ge.children||[]),le.return=pe,pe=le;break e}else{p(pe,le);break}else a(pe,le);le=le.sibling}le=zf(ge,pe.mode,Ue),le.return=pe,pe=le}return B(pe);case st:return pt=ge._init,ar(pe,le,pt(ge._payload),Ue)}if(Xe(ge))return nt(pe,le,ge,Ue);if(Qe(ge))return it(pe,le,ge,Ue);dl(pe,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,le!==null&&le.tag===6?(p(pe,le.sibling),le=T(le,ge),le.return=pe,pe=le):(p(pe,le),le=jf(ge,pe.mode,Ue),le.return=pe,pe=le),B(pe)):p(pe,le)}return ar}var ia=mc(!0),ou=mc(!1),Do=ao(null),Mo=null,sa=null,au=null;function Lo(){au=sa=Mo=null}function yc(r){var a=Do.current;_n(Do),r._currentValue=a}function ne(r,a,p){for(;r!==null;){var E=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,E!==null&&(E.childLanes|=a)):E!==null&&(E.childLanes&a)!==a&&(E.childLanes|=a),r===p)break;r=r.return}}function C(r,a){Mo=r,au=sa=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&a&&(Hi=!0),r.firstContext=null)}function P(r){var a=r._currentValue;if(au!==r)if(r={context:r,memoizedValue:a,next:null},sa===null){if(Mo===null)throw Error(n(308));sa=r,Mo.dependencies={lanes:0,firstContext:r}}else sa=sa.next=r;return a}var re=null;function Ae(r){re===null?re=[r]:re.push(r)}function We(r,a,p,E){var T=a.interleaved;return T===null?(p.next=p,Ae(a)):(p.next=T.next,T.next=p),a.interleaved=p,Le(r,E)}function Le(r,a){r.lanes|=a;var p=r.alternate;for(p!==null&&(p.lanes|=a),p=r,r=r.return;r!==null;)r.childLanes|=a,p=r.alternate,p!==null&&(p.childLanes|=a),p=r,r=r.return;return p.tag===3?p.stateNode:null}var wt=!1;function Dr(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ri(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function xn(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function vr(r,a,p){var E=r.updateQueue;if(E===null)return null;if(E=E.shared,Qt&2){var T=E.pending;return T===null?a.next=a:(a.next=T.next,T.next=a),E.pending=a,Le(r,p)}return T=E.interleaved,T===null?(a.next=a,Ae(E)):(a.next=T.next,T.next=a),E.interleaved=a,Le(r,p)}function li(r,a,p){if(a=a.updateQueue,a!==null&&(a=a.shared,(p&4194240)!==0)){var E=a.lanes;E&=r.pendingLanes,p|=E,a.lanes=p,cn(r,p)}}function ka(r,a){var p=r.updateQueue,E=r.alternate;if(E!==null&&(E=E.updateQueue,p===E)){var T=null,b=null;if(p=p.firstBaseUpdate,p!==null){do{var B={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};b===null?T=b=B:b=b.next=B,p=p.next}while(p!==null);b===null?T=b=a:b=b.next=a}else T=b=a;p={baseState:E.baseState,firstBaseUpdate:T,lastBaseUpdate:b,shared:E.shared,effects:E.effects},r.updateQueue=p;return}r=p.lastBaseUpdate,r===null?p.firstBaseUpdate=a:r.next=a,p.lastBaseUpdate=a}function pl(r,a,p,E){var T=r.updateQueue;wt=!1;var b=T.firstBaseUpdate,B=T.lastBaseUpdate,te=T.shared.pending;if(te!==null){T.shared.pending=null;var ae=te,_e=ae.next;ae.next=null,B===null?b=_e:B.next=_e,B=ae;var Oe=r.alternate;Oe!==null&&(Oe=Oe.updateQueue,te=Oe.lastBaseUpdate,te!==B&&(te===null?Oe.firstBaseUpdate=_e:te.next=_e,Oe.lastBaseUpdate=ae))}if(b!==null){var Pe=T.baseState;B=0,Oe=_e=ae=null,te=b;do{var Re=te.lane,Ze=te.eventTime;if((E&Re)===Re){Oe!==null&&(Oe=Oe.next={eventTime:Ze,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var nt=r,it=te;switch(Re=a,Ze=p,it.tag){case 1:if(nt=it.payload,typeof nt=="function"){Pe=nt.call(Ze,Pe,Re);break e}Pe=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=it.payload,Re=typeof nt=="function"?nt.call(Ze,Pe,Re):nt,Re==null)break e;Pe=Ge({},Pe,Re);break e;case 2:wt=!0}}te.callback!==null&&te.lane!==0&&(r.flags|=64,Re=T.effects,Re===null?T.effects=[te]:Re.push(te))}else Ze={eventTime:Ze,lane:Re,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Oe===null?(_e=Oe=Ze,ae=Pe):Oe=Oe.next=Ze,B|=Re;if(te=te.next,te===null){if(te=T.shared.pending,te===null)break;Re=te,te=Re.next,Re.next=null,T.lastBaseUpdate=Re,T.shared.pending=null}}while(!0);if(Oe===null&&(ae=Pe),T.baseState=ae,T.firstBaseUpdate=_e,T.lastBaseUpdate=Oe,a=T.shared.interleaved,a!==null){T=a;do B|=T.lane,T=T.next;while(T!==a)}else b===null&&(T.shared.lanes=0);Va|=B,r.lanes=B,r.memoizedState=Pe}}function Po(r,a,p){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var E=r[a],T=E.callback;if(T!==null){if(E.callback=null,E=p,typeof T!="function")throw Error(n(191,T));T.call(E)}}}var lu={},co=ao(lu),uu=ao(lu),cu=ao(lu);function Ba(r){if(r===lu)throw Error(n(174));return r}function nf(r,a){switch(Tn(cu,a),Tn(uu,r),Tn(co,lu),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:vn(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=vn(a,r)}_n(co),Tn(co,a)}function gl(){_n(co),_n(uu),_n(cu)}function b1(r){Ba(cu.current);var a=Ba(co.current),p=vn(a,r.type);a!==p&&(Tn(uu,r),Tn(co,p))}function rf(r){uu.current===r&&(_n(co),_n(uu))}var Qn=ao(0);function Ec(r){for(var a=r;a!==null;){if(a.tag===13){var p=a.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var sf=[];function of(){for(var r=0;r<sf.length;r++)sf[r]._workInProgressVersionPrimary=null;sf.length=0}var wc=se.ReactCurrentDispatcher,af=se.ReactCurrentBatchConfig,Fa=0,qn=null,Ar=null,Mr=null,_c=!1,hu=!1,fu=0,Q2=0;function ui(){throw Error(n(321))}function lf(r,a){if(a===null)return!1;for(var p=0;p<a.length&&p<r.length;p++)if(!ce(r[p],a[p]))return!1;return!0}function uf(r,a,p,E,T,b){if(Fa=b,qn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,wc.current=r===null||r.memoizedState===null?ey:ty,r=p(E,T),hu){b=0;do{if(hu=!1,fu=0,25<=b)throw Error(n(301));b+=1,Mr=Ar=null,a.updateQueue=null,wc.current=ny,r=p(E,T)}while(hu)}if(wc.current=Ac,a=Ar!==null&&Ar.next!==null,Fa=0,Mr=Ar=qn=null,_c=!1,a)throw Error(n(300));return r}function cf(){var r=fu!==0;return fu=0,r}function ho(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?qn.memoizedState=Mr=r:Mr=Mr.next=r,Mr}function As(){if(Ar===null){var r=qn.alternate;r=r!==null?r.memoizedState:null}else r=Ar.next;var a=Mr===null?qn.memoizedState:Mr.next;if(a!==null)Mr=a,Ar=r;else{if(r===null)throw Error(n(310));Ar=r,r={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Mr===null?qn.memoizedState=Mr=r:Mr=Mr.next=r}return Mr}function du(r,a){return typeof a=="function"?a(r):a}function hf(r){var a=As(),p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=r;var E=Ar,T=E.baseQueue,b=p.pending;if(b!==null){if(T!==null){var B=T.next;T.next=b.next,b.next=B}E.baseQueue=T=b,p.pending=null}if(T!==null){b=T.next,E=E.baseState;var te=B=null,ae=null,_e=b;do{var Oe=_e.lane;if((Fa&Oe)===Oe)ae!==null&&(ae=ae.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),E=_e.hasEagerState?_e.eagerState:r(E,_e.action);else{var Pe={lane:Oe,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};ae===null?(te=ae=Pe,B=E):ae=ae.next=Pe,qn.lanes|=Oe,Va|=Oe}_e=_e.next}while(_e!==null&&_e!==b);ae===null?B=E:ae.next=te,ce(E,a.memoizedState)||(Hi=!0),a.memoizedState=E,a.baseState=B,a.baseQueue=ae,p.lastRenderedState=E}if(r=p.interleaved,r!==null){T=r;do b=T.lane,qn.lanes|=b,Va|=b,T=T.next;while(T!==r)}else T===null&&(p.lanes=0);return[a.memoizedState,p.dispatch]}function ff(r){var a=As(),p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=r;var E=p.dispatch,T=p.pending,b=a.memoizedState;if(T!==null){p.pending=null;var B=T=T.next;do b=r(b,B.action),B=B.next;while(B!==T);ce(b,a.memoizedState)||(Hi=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),p.lastRenderedState=b}return[b,E]}function N1(){}function R1(r,a){var p=qn,E=As(),T=a(),b=!ce(E.memoizedState,T);if(b&&(E.memoizedState=T,Hi=!0),E=E.queue,df(M1.bind(null,p,E,r),[r]),E.getSnapshot!==a||b||Mr!==null&&Mr.memoizedState.tag&1){if(p.flags|=2048,pu(9,D1.bind(null,p,E,T,a),void 0,null),Lr===null)throw Error(n(349));Fa&30||O1(p,a,T)}return T}function O1(r,a,p){r.flags|=16384,r={getSnapshot:a,value:p},a=qn.updateQueue,a===null?(a={lastEffect:null,stores:null},qn.updateQueue=a,a.stores=[r]):(p=a.stores,p===null?a.stores=[r]:p.push(r))}function D1(r,a,p,E){a.value=p,a.getSnapshot=E,L1(a)&&P1(r)}function M1(r,a,p){return p(function(){L1(a)&&P1(r)})}function L1(r){var a=r.getSnapshot;r=r.value;try{var p=a();return!ce(r,p)}catch{return!0}}function P1(r){var a=Le(r,1);a!==null&&Hs(a,r,1,-1)}function k1(r){var a=ho();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:r},a.queue=r,r=r.dispatch=J2.bind(null,qn,r),[a.memoizedState,r]}function pu(r,a,p,E){return r={tag:r,create:a,destroy:p,deps:E,next:null},a=qn.updateQueue,a===null?(a={lastEffect:null,stores:null},qn.updateQueue=a,a.lastEffect=r.next=r):(p=a.lastEffect,p===null?a.lastEffect=r.next=r:(E=p.next,p.next=r,r.next=E,a.lastEffect=r)),r}function B1(){return As().memoizedState}function xc(r,a,p,E){var T=ho();qn.flags|=r,T.memoizedState=pu(1|a,p,void 0,E===void 0?null:E)}function vc(r,a,p,E){var T=As();E=E===void 0?null:E;var b=void 0;if(Ar!==null){var B=Ar.memoizedState;if(b=B.destroy,E!==null&&lf(E,B.deps)){T.memoizedState=pu(a,p,b,E);return}}qn.flags|=r,T.memoizedState=pu(1|a,p,b,E)}function F1(r,a){return xc(8390656,8,r,a)}function df(r,a){return vc(2048,8,r,a)}function V1(r,a){return vc(4,2,r,a)}function U1(r,a){return vc(4,4,r,a)}function j1(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function z1(r,a,p){return p=p!=null?p.concat([r]):null,vc(4,4,j1.bind(null,a,r),p)}function pf(){}function H1(r,a){var p=As();a=a===void 0?null:a;var E=p.memoizedState;return E!==null&&a!==null&&lf(a,E[1])?E[0]:(p.memoizedState=[r,a],r)}function W1(r,a){var p=As();a=a===void 0?null:a;var E=p.memoizedState;return E!==null&&a!==null&&lf(a,E[1])?E[0]:(r=r(),p.memoizedState=[r,a],r)}function G1(r,a,p){return Fa&21?(ce(p,a)||(p=Nn(),qn.lanes|=p,Va|=p,r.baseState=!0),a):(r.baseState&&(r.baseState=!1,Hi=!0),r.memoizedState=p)}function q2(r,a){var p=mt;mt=p!==0&&4>p?p:4,r(!0);var E=af.transition;af.transition={};try{r(!1),a()}finally{mt=p,af.transition=E}}function Y1(){return As().memoizedState}function Z2(r,a,p){var E=ua(r);if(p={lane:E,action:p,hasEagerState:!1,eagerState:null,next:null},$1(r))X1(a,p);else if(p=We(r,a,p,E),p!==null){var T=Di();Hs(p,r,E,T),K1(p,a,E)}}function J2(r,a,p){var E=ua(r),T={lane:E,action:p,hasEagerState:!1,eagerState:null,next:null};if($1(r))X1(a,T);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var B=a.lastRenderedState,te=b(B,p);if(T.hasEagerState=!0,T.eagerState=te,ce(te,B)){var ae=a.interleaved;ae===null?(T.next=T,Ae(a)):(T.next=ae.next,ae.next=T),a.interleaved=T;return}}catch{}finally{}p=We(r,a,T,E),p!==null&&(T=Di(),Hs(p,r,E,T),K1(p,a,E))}}function $1(r){var a=r.alternate;return r===qn||a!==null&&a===qn}function X1(r,a){hu=_c=!0;var p=r.pending;p===null?a.next=a:(a.next=p.next,p.next=a),r.pending=a}function K1(r,a,p){if(p&4194240){var E=a.lanes;E&=r.pendingLanes,p|=E,a.lanes=p,cn(r,p)}}var Ac={readContext:P,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useInsertionEffect:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useSyncExternalStore:ui,useId:ui,unstable_isNewReconciler:!1},ey={readContext:P,useCallback:function(r,a){return ho().memoizedState=[r,a===void 0?null:a],r},useContext:P,useEffect:F1,useImperativeHandle:function(r,a,p){return p=p!=null?p.concat([r]):null,xc(4194308,4,j1.bind(null,a,r),p)},useLayoutEffect:function(r,a){return xc(4194308,4,r,a)},useInsertionEffect:function(r,a){return xc(4,2,r,a)},useMemo:function(r,a){var p=ho();return a=a===void 0?null:a,r=r(),p.memoizedState=[r,a],r},useReducer:function(r,a,p){var E=ho();return a=p!==void 0?p(a):a,E.memoizedState=E.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},E.queue=r,r=r.dispatch=Z2.bind(null,qn,r),[E.memoizedState,r]},useRef:function(r){var a=ho();return r={current:r},a.memoizedState=r},useState:k1,useDebugValue:pf,useDeferredValue:function(r){return ho().memoizedState=r},useTransition:function(){var r=k1(!1),a=r[0];return r=q2.bind(null,r[1]),ho().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,p){var E=qn,T=ho();if(Mn){if(p===void 0)throw Error(n(407));p=p()}else{if(p=a(),Lr===null)throw Error(n(349));Fa&30||O1(E,a,p)}T.memoizedState=p;var b={value:p,getSnapshot:a};return T.queue=b,F1(M1.bind(null,E,b,r),[r]),E.flags|=2048,pu(9,D1.bind(null,E,b,p,a),void 0,null),p},useId:function(){var r=ho(),a=Lr.identifierPrefix;if(Mn){var p=ss,E=vs;p=(E&~(1<<32-or(E)-1)).toString(32)+p,a=":"+a+"R"+p,p=fu++,0<p&&(a+="H"+p.toString(32)),a+=":"}else p=Q2++,a=":"+a+"r"+p.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},ty={readContext:P,useCallback:H1,useContext:P,useEffect:df,useImperativeHandle:z1,useInsertionEffect:V1,useLayoutEffect:U1,useMemo:W1,useReducer:hf,useRef:B1,useState:function(){return hf(du)},useDebugValue:pf,useDeferredValue:function(r){var a=As();return G1(a,Ar.memoizedState,r)},useTransition:function(){var r=hf(du)[0],a=As().memoizedState;return[r,a]},useMutableSource:N1,useSyncExternalStore:R1,useId:Y1,unstable_isNewReconciler:!1},ny={readContext:P,useCallback:H1,useContext:P,useEffect:df,useImperativeHandle:z1,useInsertionEffect:V1,useLayoutEffect:U1,useMemo:W1,useReducer:ff,useRef:B1,useState:function(){return ff(du)},useDebugValue:pf,useDeferredValue:function(r){var a=As();return Ar===null?a.memoizedState=r:G1(a,Ar.memoizedState,r)},useTransition:function(){var r=ff(du)[0],a=As().memoizedState;return[r,a]},useMutableSource:N1,useSyncExternalStore:R1,useId:Y1,unstable_isNewReconciler:!1};function Us(r,a){if(r&&r.defaultProps){a=Ge({},a),r=r.defaultProps;for(var p in r)a[p]===void 0&&(a[p]=r[p]);return a}return a}function gf(r,a,p,E){a=r.memoizedState,p=p(E,a),p=p==null?a:Ge({},a,p),r.memoizedState=p,r.lanes===0&&(r.updateQueue.baseState=p)}var Cc={isMounted:function(r){return(r=r._reactInternals)?Pn(r)===r:!1},enqueueSetState:function(r,a,p){r=r._reactInternals;var E=Di(),T=ua(r),b=xn(E,T);b.payload=a,p!=null&&(b.callback=p),a=vr(r,b,T),a!==null&&(Hs(a,r,T,E),li(a,r,T))},enqueueReplaceState:function(r,a,p){r=r._reactInternals;var E=Di(),T=ua(r),b=xn(E,T);b.tag=1,b.payload=a,p!=null&&(b.callback=p),a=vr(r,b,T),a!==null&&(Hs(a,r,T,E),li(a,r,T))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var p=Di(),E=ua(r),T=xn(p,E);T.tag=2,a!=null&&(T.callback=a),a=vr(r,T,E),a!==null&&(Hs(a,r,E,p),li(a,r,E))}};function Q1(r,a,p,E,T,b,B){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(E,b,B):a.prototype&&a.prototype.isPureReactComponent?!ye(p,E)||!ye(T,b):!0}function q1(r,a,p){var E=!1,T=bo,b=a.contextType;return typeof b=="object"&&b!==null?b=P(b):(T=oi(a)?No:Or.current,E=a.contextTypes,b=(E=E!=null)?ta(r,T):bo),a=new a(p,b),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Cc,r.stateNode=a,a._reactInternals=r,E&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=T,r.__reactInternalMemoizedMaskedChildContext=b),a}function Z1(r,a,p,E){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(p,E),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(p,E),a.state!==r&&Cc.enqueueReplaceState(a,a.state,null)}function mf(r,a,p,E){var T=r.stateNode;T.props=p,T.state=r.memoizedState,T.refs={},Dr(r);var b=a.contextType;typeof b=="object"&&b!==null?T.context=P(b):(b=oi(a)?No:Or.current,T.context=ta(r,b)),T.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(gf(r,a,b,p),T.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(a=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),a!==T.state&&Cc.enqueueReplaceState(T,T.state,null),pl(r,p,T,E),T.state=r.memoizedState),typeof T.componentDidMount=="function"&&(r.flags|=4194308)}function ml(r,a){try{var p="",E=a;do p+=ht(E),E=E.return;while(E);var T=p}catch(b){T=`
Error generating stack: `+b.message+`
`+b.stack}return{value:r,source:a,stack:T,digest:null}}function yf(r,a,p){return{value:r,source:null,stack:p??null,digest:a??null}}function Ef(r,a){try{console.error(a.value)}catch(p){setTimeout(function(){throw p})}}var ry=typeof WeakMap=="function"?WeakMap:Map;function J1(r,a,p){p=xn(-1,p),p.tag=3,p.payload={element:null};var E=a.value;return p.callback=function(){Oc||(Oc=!0,Mf=E),Ef(r,a)},p}function e0(r,a,p){p=xn(-1,p),p.tag=3;var E=r.type.getDerivedStateFromError;if(typeof E=="function"){var T=a.value;p.payload=function(){return E(T)},p.callback=function(){Ef(r,a)}}var b=r.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(p.callback=function(){Ef(r,a),typeof E!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var B=a.stack;this.componentDidCatch(a.value,{componentStack:B!==null?B:""})}),p}function t0(r,a,p){var E=r.pingCache;if(E===null){E=r.pingCache=new ry;var T=new Set;E.set(a,T)}else T=E.get(a),T===void 0&&(T=new Set,E.set(a,T));T.has(p)||(T.add(p),r=yy.bind(null,r,a,p),a.then(r,r))}function n0(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function r0(r,a,p,E,T){return r.mode&1?(r.flags|=65536,r.lanes=T,r):(r===a?r.flags|=65536:(r.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(a=xn(-1,1),a.tag=2,vr(p,a,1))),p.lanes|=1),r)}var iy=se.ReactCurrentOwner,Hi=!1;function Oi(r,a,p,E){a.child=r===null?ou(a,null,p,E):ia(a,r.child,p,E)}function i0(r,a,p,E,T){p=p.render;var b=a.ref;return C(a,T),E=uf(r,a,p,E,b,T),p=cf(),r!==null&&!Hi?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~T,ko(r,a,T)):(Mn&&p&&ru(a),a.flags|=1,Oi(r,a,E,T),a.child)}function s0(r,a,p,E,T){if(r===null){var b=p.type;return typeof b=="function"&&!Uf(b)&&b.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(a.tag=15,a.type=b,o0(r,a,b,E,T)):(r=Bc(p.type,null,E,a,a.mode,T),r.ref=a.ref,r.return=a,a.child=r)}if(b=r.child,!(r.lanes&T)){var B=b.memoizedProps;if(p=p.compare,p=p!==null?p:ye,p(B,E)&&r.ref===a.ref)return ko(r,a,T)}return a.flags|=1,r=ha(b,E),r.ref=a.ref,r.return=a,a.child=r}function o0(r,a,p,E,T){if(r!==null){var b=r.memoizedProps;if(ye(b,E)&&r.ref===a.ref)if(Hi=!1,a.pendingProps=E=b,(r.lanes&T)!==0)r.flags&131072&&(Hi=!0);else return a.lanes=r.lanes,ko(r,a,T)}return wf(r,a,p,E,T)}function a0(r,a,p){var E=a.pendingProps,T=E.children,b=r!==null?r.memoizedState:null;if(E.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tn(El,as),as|=p;else{if(!(p&1073741824))return r=b!==null?b.baseLanes|p:p,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,Tn(El,as),as|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=b!==null?b.baseLanes:p,Tn(El,as),as|=E}else b!==null?(E=b.baseLanes|p,a.memoizedState=null):E=p,Tn(El,as),as|=E;return Oi(r,a,T,p),a.child}function l0(r,a){var p=a.ref;(r===null&&p!==null||r!==null&&r.ref!==p)&&(a.flags|=512,a.flags|=2097152)}function wf(r,a,p,E,T){var b=oi(p)?No:Or.current;return b=ta(a,b),C(a,T),p=uf(r,a,p,E,b,T),E=cf(),r!==null&&!Hi?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~T,ko(r,a,T)):(Mn&&E&&ru(a),a.flags|=1,Oi(r,a,p,T),a.child)}function u0(r,a,p,E,T){if(oi(p)){var b=!0;xs(a)}else b=!1;if(C(a,T),a.stateNode===null)Ic(r,a),q1(a,p,E),mf(a,p,E,T),E=!0;else if(r===null){var B=a.stateNode,te=a.memoizedProps;B.props=te;var ae=B.context,_e=p.contextType;typeof _e=="object"&&_e!==null?_e=P(_e):(_e=oi(p)?No:Or.current,_e=ta(a,_e));var Oe=p.getDerivedStateFromProps,Pe=typeof Oe=="function"||typeof B.getSnapshotBeforeUpdate=="function";Pe||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(te!==E||ae!==_e)&&Z1(a,B,E,_e),wt=!1;var Re=a.memoizedState;B.state=Re,pl(a,E,B,T),ae=a.memoizedState,te!==E||Re!==ae||si.current||wt?(typeof Oe=="function"&&(gf(a,p,Oe,E),ae=a.memoizedState),(te=wt||Q1(a,p,te,E,Re,ae,_e))?(Pe||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(a.flags|=4194308)):(typeof B.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=E,a.memoizedState=ae),B.props=E,B.state=ae,B.context=_e,E=te):(typeof B.componentDidMount=="function"&&(a.flags|=4194308),E=!1)}else{B=a.stateNode,Ri(r,a),te=a.memoizedProps,_e=a.type===a.elementType?te:Us(a.type,te),B.props=_e,Pe=a.pendingProps,Re=B.context,ae=p.contextType,typeof ae=="object"&&ae!==null?ae=P(ae):(ae=oi(p)?No:Or.current,ae=ta(a,ae));var Ze=p.getDerivedStateFromProps;(Oe=typeof Ze=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(te!==Pe||Re!==ae)&&Z1(a,B,E,ae),wt=!1,Re=a.memoizedState,B.state=Re,pl(a,E,B,T);var nt=a.memoizedState;te!==Pe||Re!==nt||si.current||wt?(typeof Ze=="function"&&(gf(a,p,Ze,E),nt=a.memoizedState),(_e=wt||Q1(a,p,_e,E,Re,nt,ae)||!1)?(Oe||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(E,nt,ae),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(E,nt,ae)),typeof B.componentDidUpdate=="function"&&(a.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof B.componentDidUpdate!="function"||te===r.memoizedProps&&Re===r.memoizedState||(a.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||te===r.memoizedProps&&Re===r.memoizedState||(a.flags|=1024),a.memoizedProps=E,a.memoizedState=nt),B.props=E,B.state=nt,B.context=ae,E=_e):(typeof B.componentDidUpdate!="function"||te===r.memoizedProps&&Re===r.memoizedState||(a.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||te===r.memoizedProps&&Re===r.memoizedState||(a.flags|=1024),E=!1)}return _f(r,a,p,E,b,T)}function _f(r,a,p,E,T,b){l0(r,a);var B=(a.flags&128)!==0;if(!E&&!B)return T&&hc(a,p,!1),ko(r,a,b);E=a.stateNode,iy.current=a;var te=B&&typeof p.getDerivedStateFromError!="function"?null:E.render();return a.flags|=1,r!==null&&B?(a.child=ia(a,r.child,null,b),a.child=ia(a,null,te,b)):Oi(r,a,te,b),a.memoizedState=E.state,T&&hc(a,p,!0),a.child}function c0(r){var a=r.stateNode;a.pendingContext?cc(r,a.pendingContext,a.pendingContext!==a.context):a.context&&cc(r,a.context,!1),nf(r,a.containerInfo)}function h0(r,a,p,E,T){return ra(),su(T),a.flags|=256,Oi(r,a,p,E),a.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function vf(r){return{baseLanes:r,cachePool:null,transitions:null}}function f0(r,a,p){var E=a.pendingProps,T=Qn.current,b=!1,B=(a.flags&128)!==0,te;if((te=B)||(te=r!==null&&r.memoizedState===null?!1:(T&2)!==0),te?(b=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(T|=1),Tn(Qn,T&1),r===null)return iu(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(a.mode&1?r.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(B=E.children,r=E.fallback,b?(E=a.mode,b=a.child,B={mode:"hidden",children:B},!(E&1)&&b!==null?(b.childLanes=0,b.pendingProps=B):b=Fc(B,E,0,null),r=Ha(r,E,p,null),b.return=a,r.return=a,b.sibling=r,a.child=b,a.child.memoizedState=vf(p),a.memoizedState=xf,r):Af(a,B));if(T=r.memoizedState,T!==null&&(te=T.dehydrated,te!==null))return sy(r,a,B,E,te,T,p);if(b){b=E.fallback,B=a.mode,T=r.child,te=T.sibling;var ae={mode:"hidden",children:E.children};return!(B&1)&&a.child!==T?(E=a.child,E.childLanes=0,E.pendingProps=ae,a.deletions=null):(E=ha(T,ae),E.subtreeFlags=T.subtreeFlags&14680064),te!==null?b=ha(te,b):(b=Ha(b,B,p,null),b.flags|=2),b.return=a,E.return=a,E.sibling=b,a.child=E,E=b,b=a.child,B=r.child.memoizedState,B=B===null?vf(p):{baseLanes:B.baseLanes|p,cachePool:null,transitions:B.transitions},b.memoizedState=B,b.childLanes=r.childLanes&~p,a.memoizedState=xf,E}return b=r.child,r=b.sibling,E=ha(b,{mode:"visible",children:E.children}),!(a.mode&1)&&(E.lanes=p),E.return=a,E.sibling=null,r!==null&&(p=a.deletions,p===null?(a.deletions=[r],a.flags|=16):p.push(r)),a.child=E,a.memoizedState=null,E}function Af(r,a){return a=Fc({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function Tc(r,a,p,E){return E!==null&&su(E),ia(a,r.child,null,p),r=Af(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function sy(r,a,p,E,T,b,B){if(p)return a.flags&256?(a.flags&=-257,E=yf(Error(n(422))),Tc(r,a,B,E)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(b=E.fallback,T=a.mode,E=Fc({mode:"visible",children:E.children},T,0,null),b=Ha(b,T,B,null),b.flags|=2,E.return=a,b.return=a,E.sibling=b,a.child=E,a.mode&1&&ia(a,r.child,null,B),a.child.memoizedState=vf(B),a.memoizedState=xf,b);if(!(a.mode&1))return Tc(r,a,B,null);if(T.data==="$!"){if(E=T.nextSibling&&T.nextSibling.dataset,E)var te=E.dgst;return E=te,b=Error(n(419)),E=yf(b,E,void 0),Tc(r,a,B,E)}if(te=(B&r.childLanes)!==0,Hi||te){if(E=Lr,E!==null){switch(B&-B){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=T&(E.suspendedLanes|B)?0:T,T!==0&&T!==b.retryLane&&(b.retryLane=T,Le(r,T),Hs(E,r,T,-1))}return Vf(),E=yf(Error(n(421))),Tc(r,a,B,E)}return T.data==="$?"?(a.flags|=128,a.child=r.child,a=Ey.bind(null,r),T._reactRetry=a,null):(r=b.treeContext,Ni=ro(T.nextSibling),bi=a,Mn=!0,zi=null,r!==null&&(ai[Ii++]=vs,ai[Ii++]=ss,ai[Ii++]=Si,vs=r.id,ss=r.overflow,Si=a),a=Af(a,E.children),a.flags|=4096,a)}function d0(r,a,p){r.lanes|=a;var E=r.alternate;E!==null&&(E.lanes|=a),ne(r.return,a,p)}function Cf(r,a,p,E,T){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:E,tail:p,tailMode:T}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=E,b.tail=p,b.tailMode=T)}function p0(r,a,p){var E=a.pendingProps,T=E.revealOrder,b=E.tail;if(Oi(r,a,E.children,p),E=Qn.current,E&2)E=E&1|2,a.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&d0(r,p,a);else if(r.tag===19)d0(r,p,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}E&=1}if(Tn(Qn,E),!(a.mode&1))a.memoizedState=null;else switch(T){case"forwards":for(p=a.child,T=null;p!==null;)r=p.alternate,r!==null&&Ec(r)===null&&(T=p),p=p.sibling;p=T,p===null?(T=a.child,a.child=null):(T=p.sibling,p.sibling=null),Cf(a,!1,T,p,b);break;case"backwards":for(p=null,T=a.child,a.child=null;T!==null;){if(r=T.alternate,r!==null&&Ec(r)===null){a.child=T;break}r=T.sibling,T.sibling=p,p=T,T=r}Cf(a,!0,p,null,b);break;case"together":Cf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ic(r,a){!(a.mode&1)&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function ko(r,a,p){if(r!==null&&(a.dependencies=r.dependencies),Va|=a.lanes,!(p&a.childLanes))return null;if(r!==null&&a.child!==r.child)throw Error(n(153));if(a.child!==null){for(r=a.child,p=ha(r,r.pendingProps),a.child=p,p.return=a;r.sibling!==null;)r=r.sibling,p=p.sibling=ha(r,r.pendingProps),p.return=a;p.sibling=null}return a.child}function oy(r,a,p){switch(a.tag){case 3:c0(a),ra();break;case 5:b1(a);break;case 1:oi(a.type)&&xs(a);break;case 4:nf(a,a.stateNode.containerInfo);break;case 10:var E=a.type._context,T=a.memoizedProps.value;Tn(Do,E._currentValue),E._currentValue=T;break;case 13:if(E=a.memoizedState,E!==null)return E.dehydrated!==null?(Tn(Qn,Qn.current&1),a.flags|=128,null):p&a.child.childLanes?f0(r,a,p):(Tn(Qn,Qn.current&1),r=ko(r,a,p),r!==null?r.sibling:null);Tn(Qn,Qn.current&1);break;case 19:if(E=(p&a.childLanes)!==0,r.flags&128){if(E)return p0(r,a,p);a.flags|=128}if(T=a.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Tn(Qn,Qn.current),E)break;return null;case 22:case 23:return a.lanes=0,a0(r,a,p)}return ko(r,a,p)}var g0,Tf,m0,y0;g0=function(r,a){for(var p=a.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break;for(;p.sibling===null;){if(p.return===null||p.return===a)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Tf=function(){},m0=function(r,a,p,E){var T=r.memoizedProps;if(T!==E){r=a.stateNode,Ba(co.current);var b=null;switch(p){case"input":T=lr(r,T),E=lr(r,E),b=[];break;case"select":T=Ge({},T,{value:void 0}),E=Ge({},E,{value:void 0}),b=[];break;case"textarea":T=gi(r,T),E=gi(r,E),b=[];break;default:typeof T.onClick!="function"&&typeof E.onClick=="function"&&(r.onclick=ul)}jt(p,E);var B;p=null;for(_e in T)if(!E.hasOwnProperty(_e)&&T.hasOwnProperty(_e)&&T[_e]!=null)if(_e==="style"){var te=T[_e];for(B in te)te.hasOwnProperty(B)&&(p||(p={}),p[B]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(c.hasOwnProperty(_e)?b||(b=[]):(b=b||[]).push(_e,null));for(_e in E){var ae=E[_e];if(te=T!=null?T[_e]:void 0,E.hasOwnProperty(_e)&&ae!==te&&(ae!=null||te!=null))if(_e==="style")if(te){for(B in te)!te.hasOwnProperty(B)||ae&&ae.hasOwnProperty(B)||(p||(p={}),p[B]="");for(B in ae)ae.hasOwnProperty(B)&&te[B]!==ae[B]&&(p||(p={}),p[B]=ae[B])}else p||(b||(b=[]),b.push(_e,p)),p=ae;else _e==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,te=te?te.__html:void 0,ae!=null&&te!==ae&&(b=b||[]).push(_e,ae)):_e==="children"?typeof ae!="string"&&typeof ae!="number"||(b=b||[]).push(_e,""+ae):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(c.hasOwnProperty(_e)?(ae!=null&&_e==="onScroll"&&an("scroll",r),b||te===ae||(b=[])):(b=b||[]).push(_e,ae))}p&&(b=b||[]).push("style",p);var _e=b;(a.updateQueue=_e)&&(a.flags|=4)}},y0=function(r,a,p,E){p!==E&&(a.flags|=4)};function gu(r,a){if(!Mn)switch(r.tailMode){case"hidden":a=r.tail;for(var p=null;a!==null;)a.alternate!==null&&(p=a),a=a.sibling;p===null?r.tail=null:p.sibling=null;break;case"collapsed":p=r.tail;for(var E=null;p!==null;)p.alternate!==null&&(E=p),p=p.sibling;E===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:E.sibling=null}}function ci(r){var a=r.alternate!==null&&r.alternate.child===r.child,p=0,E=0;if(a)for(var T=r.child;T!==null;)p|=T.lanes|T.childLanes,E|=T.subtreeFlags&14680064,E|=T.flags&14680064,T.return=r,T=T.sibling;else for(T=r.child;T!==null;)p|=T.lanes|T.childLanes,E|=T.subtreeFlags,E|=T.flags,T.return=r,T=T.sibling;return r.subtreeFlags|=E,r.childLanes=p,a}function ay(r,a,p){var E=a.pendingProps;switch(La(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(a),null;case 1:return oi(a.type)&&lo(),ci(a),null;case 3:return E=a.stateNode,gl(),_n(si),_n(Or),of(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(r===null||r.child===null)&&(os(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,zi!==null&&(kf(zi),zi=null))),Tf(r,a),ci(a),null;case 5:rf(a);var T=Ba(cu.current);if(p=a.type,r!==null&&a.stateNode!=null)m0(r,a,p,E,T),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!E){if(a.stateNode===null)throw Error(n(166));return ci(a),null}if(r=Ba(co.current),os(a)){E=a.stateNode,p=a.type;var b=a.memoizedProps;switch(E[Ti]=a,E[Ra]=b,r=(a.mode&1)!==0,p){case"dialog":an("cancel",E),an("close",E);break;case"iframe":case"object":case"embed":an("load",E);break;case"video":case"audio":for(T=0;T<Ia.length;T++)an(Ia[T],E);break;case"source":an("error",E);break;case"img":case"image":case"link":an("error",E),an("load",E);break;case"details":an("toggle",E);break;case"input":un(E,b),an("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!b.multiple},an("invalid",E);break;case"textarea":Ki(E,b),an("invalid",E)}jt(p,b),T=null;for(var B in b)if(b.hasOwnProperty(B)){var te=b[B];B==="children"?typeof te=="string"?E.textContent!==te&&(b.suppressHydrationWarning!==!0&&ll(E.textContent,te,r),T=["children",te]):typeof te=="number"&&E.textContent!==""+te&&(b.suppressHydrationWarning!==!0&&ll(E.textContent,te,r),T=["children",""+te]):c.hasOwnProperty(B)&&te!=null&&B==="onScroll"&&an("scroll",E)}switch(p){case"input":ve(E),It(E,b,!0);break;case"textarea":ve(E),Pi(E);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(E.onclick=ul)}E=T,a.updateQueue=E,E!==null&&(a.flags|=4)}else{B=T.nodeType===9?T:T.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Vt(p)),r==="http://www.w3.org/1999/xhtml"?p==="script"?(r=B.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof E.is=="string"?r=B.createElement(p,{is:E.is}):(r=B.createElement(p),p==="select"&&(B=r,E.multiple?B.multiple=!0:E.size&&(B.size=E.size))):r=B.createElementNS(r,p),r[Ti]=a,r[Ra]=E,g0(r,a,!1,!1),a.stateNode=r;e:{switch(B=Ht(p,E),p){case"dialog":an("cancel",r),an("close",r),T=E;break;case"iframe":case"object":case"embed":an("load",r),T=E;break;case"video":case"audio":for(T=0;T<Ia.length;T++)an(Ia[T],r);T=E;break;case"source":an("error",r),T=E;break;case"img":case"image":case"link":an("error",r),an("load",r),T=E;break;case"details":an("toggle",r),T=E;break;case"input":un(r,E),T=lr(r,E),an("invalid",r);break;case"option":T=E;break;case"select":r._wrapperState={wasMultiple:!!E.multiple},T=Ge({},E,{value:void 0}),an("invalid",r);break;case"textarea":Ki(r,E),T=gi(r,E),an("invalid",r);break;default:T=E}jt(p,T),te=T;for(b in te)if(te.hasOwnProperty(b)){var ae=te[b];b==="style"?je(r,ae):b==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,ae!=null&&An(r,ae)):b==="children"?typeof ae=="string"?(p!=="textarea"||ae!=="")&&Qi(r,ae):typeof ae=="number"&&Qi(r,""+ae):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(c.hasOwnProperty(b)?ae!=null&&b==="onScroll"&&an("scroll",r):ae!=null&&J(r,b,ae,B))}switch(p){case"input":ve(r),It(r,E,!1);break;case"textarea":ve(r),Pi(r);break;case"option":E.value!=null&&r.setAttribute("value",""+rt(E.value));break;case"select":r.multiple=!!E.multiple,b=E.value,b!=null?Ye(r,!!E.multiple,b,!1):E.defaultValue!=null&&Ye(r,!!E.multiple,E.defaultValue,!0);break;default:typeof T.onClick=="function"&&(r.onclick=ul)}switch(p){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return ci(a),null;case 6:if(r&&a.stateNode!=null)y0(r,a,r.memoizedProps,E);else{if(typeof E!="string"&&a.stateNode===null)throw Error(n(166));if(p=Ba(cu.current),Ba(co.current),os(a)){if(E=a.stateNode,p=a.memoizedProps,E[Ti]=a,(b=E.nodeValue!==p)&&(r=bi,r!==null))switch(r.tag){case 3:ll(E.nodeValue,p,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ll(E.nodeValue,p,(r.mode&1)!==0)}b&&(a.flags|=4)}else E=(p.nodeType===9?p:p.ownerDocument).createTextNode(E),E[Ti]=a,a.stateNode=E}return ci(a),null;case 13:if(_n(Qn),E=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Mn&&Ni!==null&&a.mode&1&&!(a.flags&128))pc(),ra(),a.flags|=98560,b=!1;else if(b=os(a),E!==null&&E.dehydrated!==null){if(r===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Ti]=a}else ra(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;ci(a),b=!1}else zi!==null&&(kf(zi),zi=null),b=!0;if(!b)return a.flags&65536?a:null}return a.flags&128?(a.lanes=p,a):(E=E!==null,E!==(r!==null&&r.memoizedState!==null)&&E&&(a.child.flags|=8192,a.mode&1&&(r===null||Qn.current&1?Cr===0&&(Cr=3):Vf())),a.updateQueue!==null&&(a.flags|=4),ci(a),null);case 4:return gl(),Tf(r,a),r===null&&Qo(a.stateNode.containerInfo),ci(a),null;case 10:return yc(a.type._context),ci(a),null;case 17:return oi(a.type)&&lo(),ci(a),null;case 19:if(_n(Qn),b=a.memoizedState,b===null)return ci(a),null;if(E=(a.flags&128)!==0,B=b.rendering,B===null)if(E)gu(b,!1);else{if(Cr!==0||r!==null&&r.flags&128)for(r=a.child;r!==null;){if(B=Ec(r),B!==null){for(a.flags|=128,gu(b,!1),E=B.updateQueue,E!==null&&(a.updateQueue=E,a.flags|=4),a.subtreeFlags=0,E=p,p=a.child;p!==null;)b=p,r=E,b.flags&=14680066,B=b.alternate,B===null?(b.childLanes=0,b.lanes=r,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=B.childLanes,b.lanes=B.lanes,b.child=B.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=B.memoizedProps,b.memoizedState=B.memoizedState,b.updateQueue=B.updateQueue,b.type=B.type,r=B.dependencies,b.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),p=p.sibling;return Tn(Qn,Qn.current&1|2),a.child}r=r.sibling}b.tail!==null&&Lt()>wl&&(a.flags|=128,E=!0,gu(b,!1),a.lanes=4194304)}else{if(!E)if(r=Ec(B),r!==null){if(a.flags|=128,E=!0,p=r.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),gu(b,!0),b.tail===null&&b.tailMode==="hidden"&&!B.alternate&&!Mn)return ci(a),null}else 2*Lt()-b.renderingStartTime>wl&&p!==1073741824&&(a.flags|=128,E=!0,gu(b,!1),a.lanes=4194304);b.isBackwards?(B.sibling=a.child,a.child=B):(p=b.last,p!==null?p.sibling=B:a.child=B,b.last=B)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=Lt(),a.sibling=null,p=Qn.current,Tn(Qn,E?p&1|2:p&1),a):(ci(a),null);case 22:case 23:return Ff(),E=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==E&&(a.flags|=8192),E&&a.mode&1?as&1073741824&&(ci(a),a.subtreeFlags&6&&(a.flags|=8192)):ci(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function ly(r,a){switch(La(a),a.tag){case 1:return oi(a.type)&&lo(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return gl(),_n(si),_n(Or),of(),r=a.flags,r&65536&&!(r&128)?(a.flags=r&-65537|128,a):null;case 5:return rf(a),null;case 13:if(_n(Qn),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ra()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return _n(Qn),null;case 4:return gl(),null;case 10:return yc(a.type._context),null;case 22:case 23:return Ff(),null;case 24:return null;default:return null}}var Sc=!1,hi=!1,uy=typeof WeakSet=="function"?WeakSet:Set,et=null;function yl(r,a){var p=r.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(E){tr(r,a,E)}else p.current=null}function If(r,a,p){try{p()}catch(E){tr(r,a,E)}}var E0=!1;function cy(r,a){if(Kl=ni,r=Rt(),yt(r)){if("selectionStart"in r)var p={start:r.selectionStart,end:r.selectionEnd};else e:{p=(p=r.ownerDocument)&&p.defaultView||window;var E=p.getSelection&&p.getSelection();if(E&&E.rangeCount!==0){p=E.anchorNode;var T=E.anchorOffset,b=E.focusNode;E=E.focusOffset;try{p.nodeType,b.nodeType}catch{p=null;break e}var B=0,te=-1,ae=-1,_e=0,Oe=0,Pe=r,Re=null;t:for(;;){for(var Ze;Pe!==p||T!==0&&Pe.nodeType!==3||(te=B+T),Pe!==b||E!==0&&Pe.nodeType!==3||(ae=B+E),Pe.nodeType===3&&(B+=Pe.nodeValue.length),(Ze=Pe.firstChild)!==null;)Re=Pe,Pe=Ze;for(;;){if(Pe===r)break t;if(Re===p&&++_e===T&&(te=B),Re===b&&++Oe===E&&(ae=B),(Ze=Pe.nextSibling)!==null)break;Pe=Re,Re=Pe.parentNode}Pe=Ze}p=te===-1||ae===-1?null:{start:te,end:ae}}else p=null}p=p||{start:0,end:0}}else p=null;for(Ql={focusedElem:r,selectionRange:p},ni=!1,et=a;et!==null;)if(a=et,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,et=r;else for(;et!==null;){a=et;try{var nt=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var it=nt.memoizedProps,ar=nt.memoizedState,pe=a.stateNode,le=pe.getSnapshotBeforeUpdate(a.elementType===a.type?it:Us(a.type,it),ar);pe.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var ge=a.stateNode.containerInfo;ge.nodeType===1?ge.textContent="":ge.nodeType===9&&ge.documentElement&&ge.removeChild(ge.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ue){tr(a,a.return,Ue)}if(r=a.sibling,r!==null){r.return=a.return,et=r;break}et=a.return}return nt=E0,E0=!1,nt}function mu(r,a,p){var E=a.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var T=E=E.next;do{if((T.tag&r)===r){var b=T.destroy;T.destroy=void 0,b!==void 0&&If(a,p,b)}T=T.next}while(T!==E)}}function bc(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var p=a=a.next;do{if((p.tag&r)===r){var E=p.create;p.destroy=E()}p=p.next}while(p!==a)}}function Sf(r){var a=r.ref;if(a!==null){var p=r.stateNode;switch(r.tag){case 5:r=p;break;default:r=p}typeof a=="function"?a(r):a.current=r}}function w0(r){var a=r.alternate;a!==null&&(r.alternate=null,w0(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[Ti],delete a[Ra],delete a[Oa],delete a[Qh],delete a[qh])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function _0(r){return r.tag===5||r.tag===3||r.tag===4}function x0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function bf(r,a,p){var E=r.tag;if(E===5||E===6)r=r.stateNode,a?p.nodeType===8?p.parentNode.insertBefore(r,a):p.insertBefore(r,a):(p.nodeType===8?(a=p.parentNode,a.insertBefore(r,p)):(a=p,a.appendChild(r)),p=p._reactRootContainer,p!=null||a.onclick!==null||(a.onclick=ul));else if(E!==4&&(r=r.child,r!==null))for(bf(r,a,p),r=r.sibling;r!==null;)bf(r,a,p),r=r.sibling}function Nf(r,a,p){var E=r.tag;if(E===5||E===6)r=r.stateNode,a?p.insertBefore(r,a):p.appendChild(r);else if(E!==4&&(r=r.child,r!==null))for(Nf(r,a,p),r=r.sibling;r!==null;)Nf(r,a,p),r=r.sibling}var $r=null,js=!1;function oa(r,a,p){for(p=p.child;p!==null;)v0(r,a,p),p=p.sibling}function v0(r,a,p){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Nt,p)}catch{}switch(p.tag){case 5:hi||yl(p,a);case 6:var E=$r,T=js;$r=null,oa(r,a,p),$r=E,js=T,$r!==null&&(js?(r=$r,p=p.stateNode,r.nodeType===8?r.parentNode.removeChild(p):r.removeChild(p)):$r.removeChild(p.stateNode));break;case 18:$r!==null&&(js?(r=$r,p=p.stateNode,r.nodeType===8?Jl(r.parentNode,p):r.nodeType===1&&Jl(r,p),_r(r)):Jl($r,p.stateNode));break;case 4:E=$r,T=js,$r=p.stateNode.containerInfo,js=!0,oa(r,a,p),$r=E,js=T;break;case 0:case 11:case 14:case 15:if(!hi&&(E=p.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){T=E=E.next;do{var b=T,B=b.destroy;b=b.tag,B!==void 0&&(b&2||b&4)&&If(p,a,B),T=T.next}while(T!==E)}oa(r,a,p);break;case 1:if(!hi&&(yl(p,a),E=p.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=p.memoizedProps,E.state=p.memoizedState,E.componentWillUnmount()}catch(te){tr(p,a,te)}oa(r,a,p);break;case 21:oa(r,a,p);break;case 22:p.mode&1?(hi=(E=hi)||p.memoizedState!==null,oa(r,a,p),hi=E):oa(r,a,p);break;default:oa(r,a,p)}}function A0(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var p=r.stateNode;p===null&&(p=r.stateNode=new uy),a.forEach(function(E){var T=wy.bind(null,r,E);p.has(E)||(p.add(E),E.then(T,T))})}}function zs(r,a){var p=a.deletions;if(p!==null)for(var E=0;E<p.length;E++){var T=p[E];try{var b=r,B=a,te=B;e:for(;te!==null;){switch(te.tag){case 5:$r=te.stateNode,js=!1;break e;case 3:$r=te.stateNode.containerInfo,js=!0;break e;case 4:$r=te.stateNode.containerInfo,js=!0;break e}te=te.return}if($r===null)throw Error(n(160));v0(b,B,T),$r=null,js=!1;var ae=T.alternate;ae!==null&&(ae.return=null),T.return=null}catch(_e){tr(T,a,_e)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)C0(a,r),a=a.sibling}function C0(r,a){var p=r.alternate,E=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(zs(a,r),fo(r),E&4){try{mu(3,r,r.return),bc(3,r)}catch(it){tr(r,r.return,it)}try{mu(5,r,r.return)}catch(it){tr(r,r.return,it)}}break;case 1:zs(a,r),fo(r),E&512&&p!==null&&yl(p,p.return);break;case 5:if(zs(a,r),fo(r),E&512&&p!==null&&yl(p,p.return),r.flags&32){var T=r.stateNode;try{Qi(T,"")}catch(it){tr(r,r.return,it)}}if(E&4&&(T=r.stateNode,T!=null)){var b=r.memoizedProps,B=p!==null?p.memoizedProps:b,te=r.type,ae=r.updateQueue;if(r.updateQueue=null,ae!==null)try{te==="input"&&b.type==="radio"&&b.name!=null&&ur(T,b),Ht(te,B);var _e=Ht(te,b);for(B=0;B<ae.length;B+=2){var Oe=ae[B],Pe=ae[B+1];Oe==="style"?je(T,Pe):Oe==="dangerouslySetInnerHTML"?An(T,Pe):Oe==="children"?Qi(T,Pe):J(T,Oe,Pe,_e)}switch(te){case"input":mn(T,b);break;case"textarea":zn(T,b);break;case"select":var Re=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!b.multiple;var Ze=b.value;Ze!=null?Ye(T,!!b.multiple,Ze,!1):Re!==!!b.multiple&&(b.defaultValue!=null?Ye(T,!!b.multiple,b.defaultValue,!0):Ye(T,!!b.multiple,b.multiple?[]:"",!1))}T[Ra]=b}catch(it){tr(r,r.return,it)}}break;case 6:if(zs(a,r),fo(r),E&4){if(r.stateNode===null)throw Error(n(162));T=r.stateNode,b=r.memoizedProps;try{T.nodeValue=b}catch(it){tr(r,r.return,it)}}break;case 3:if(zs(a,r),fo(r),E&4&&p!==null&&p.memoizedState.isDehydrated)try{_r(a.containerInfo)}catch(it){tr(r,r.return,it)}break;case 4:zs(a,r),fo(r);break;case 13:zs(a,r),fo(r),T=r.child,T.flags&8192&&(b=T.memoizedState!==null,T.stateNode.isHidden=b,!b||T.alternate!==null&&T.alternate.memoizedState!==null||(Df=Lt())),E&4&&A0(r);break;case 22:if(Oe=p!==null&&p.memoizedState!==null,r.mode&1?(hi=(_e=hi)||Oe,zs(a,r),hi=_e):zs(a,r),fo(r),E&8192){if(_e=r.memoizedState!==null,(r.stateNode.isHidden=_e)&&!Oe&&r.mode&1)for(et=r,Oe=r.child;Oe!==null;){for(Pe=et=Oe;et!==null;){switch(Re=et,Ze=Re.child,Re.tag){case 0:case 11:case 14:case 15:mu(4,Re,Re.return);break;case 1:yl(Re,Re.return);var nt=Re.stateNode;if(typeof nt.componentWillUnmount=="function"){E=Re,p=Re.return;try{a=E,nt.props=a.memoizedProps,nt.state=a.memoizedState,nt.componentWillUnmount()}catch(it){tr(E,p,it)}}break;case 5:yl(Re,Re.return);break;case 22:if(Re.memoizedState!==null){S0(Pe);continue}}Ze!==null?(Ze.return=Re,et=Ze):S0(Pe)}Oe=Oe.sibling}e:for(Oe=null,Pe=r;;){if(Pe.tag===5){if(Oe===null){Oe=Pe;try{T=Pe.stateNode,_e?(b=T.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(te=Pe.stateNode,ae=Pe.memoizedProps.style,B=ae!=null&&ae.hasOwnProperty("display")?ae.display:null,te.style.display=yn("display",B))}catch(it){tr(r,r.return,it)}}}else if(Pe.tag===6){if(Oe===null)try{Pe.stateNode.nodeValue=_e?"":Pe.memoizedProps}catch(it){tr(r,r.return,it)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===r)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===r)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===r)break e;Oe===Pe&&(Oe=null),Pe=Pe.return}Oe===Pe&&(Oe=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:zs(a,r),fo(r),E&4&&A0(r);break;case 21:break;default:zs(a,r),fo(r)}}function fo(r){var a=r.flags;if(a&2){try{e:{for(var p=r.return;p!==null;){if(_0(p)){var E=p;break e}p=p.return}throw Error(n(160))}switch(E.tag){case 5:var T=E.stateNode;E.flags&32&&(Qi(T,""),E.flags&=-33);var b=x0(r);Nf(r,b,T);break;case 3:case 4:var B=E.stateNode.containerInfo,te=x0(r);bf(r,te,B);break;default:throw Error(n(161))}}catch(ae){tr(r,r.return,ae)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function hy(r,a,p){et=r,T0(r)}function T0(r,a,p){for(var E=(r.mode&1)!==0;et!==null;){var T=et,b=T.child;if(T.tag===22&&E){var B=T.memoizedState!==null||Sc;if(!B){var te=T.alternate,ae=te!==null&&te.memoizedState!==null||hi;te=Sc;var _e=hi;if(Sc=B,(hi=ae)&&!_e)for(et=T;et!==null;)B=et,ae=B.child,B.tag===22&&B.memoizedState!==null?b0(T):ae!==null?(ae.return=B,et=ae):b0(T);for(;b!==null;)et=b,T0(b),b=b.sibling;et=T,Sc=te,hi=_e}I0(r)}else T.subtreeFlags&8772&&b!==null?(b.return=T,et=b):I0(r)}}function I0(r){for(;et!==null;){var a=et;if(a.flags&8772){var p=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:hi||bc(5,a);break;case 1:var E=a.stateNode;if(a.flags&4&&!hi)if(p===null)E.componentDidMount();else{var T=a.elementType===a.type?p.memoizedProps:Us(a.type,p.memoizedProps);E.componentDidUpdate(T,p.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&Po(a,b,E);break;case 3:var B=a.updateQueue;if(B!==null){if(p=null,a.child!==null)switch(a.child.tag){case 5:p=a.child.stateNode;break;case 1:p=a.child.stateNode}Po(a,B,p)}break;case 5:var te=a.stateNode;if(p===null&&a.flags&4){p=te;var ae=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ae.autoFocus&&p.focus();break;case"img":ae.src&&(p.src=ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var _e=a.alternate;if(_e!==null){var Oe=_e.memoizedState;if(Oe!==null){var Pe=Oe.dehydrated;Pe!==null&&_r(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}hi||a.flags&512&&Sf(a)}catch(Re){tr(a,a.return,Re)}}if(a===r){et=null;break}if(p=a.sibling,p!==null){p.return=a.return,et=p;break}et=a.return}}function S0(r){for(;et!==null;){var a=et;if(a===r){et=null;break}var p=a.sibling;if(p!==null){p.return=a.return,et=p;break}et=a.return}}function b0(r){for(;et!==null;){var a=et;try{switch(a.tag){case 0:case 11:case 15:var p=a.return;try{bc(4,a)}catch(ae){tr(a,p,ae)}break;case 1:var E=a.stateNode;if(typeof E.componentDidMount=="function"){var T=a.return;try{E.componentDidMount()}catch(ae){tr(a,T,ae)}}var b=a.return;try{Sf(a)}catch(ae){tr(a,b,ae)}break;case 5:var B=a.return;try{Sf(a)}catch(ae){tr(a,B,ae)}}}catch(ae){tr(a,a.return,ae)}if(a===r){et=null;break}var te=a.sibling;if(te!==null){te.return=a.return,et=te;break}et=a.return}}var fy=Math.ceil,Nc=se.ReactCurrentDispatcher,Rf=se.ReactCurrentOwner,Cs=se.ReactCurrentBatchConfig,Qt=0,Lr=null,pr=null,Xr=0,as=0,El=ao(0),Cr=0,yu=null,Va=0,Rc=0,Of=0,Eu=null,Wi=null,Df=0,wl=1/0,Bo=null,Oc=!1,Mf=null,aa=null,Dc=!1,la=null,Mc=0,wu=0,Lf=null,Lc=-1,Pc=0;function Di(){return Qt&6?Lt():Lc!==-1?Lc:Lc=Lt()}function ua(r){return r.mode&1?Qt&2&&Xr!==0?Xr&-Xr:tf.transition!==null?(Pc===0&&(Pc=Nn()),Pc):(r=mt,r!==0||(r=window.event,r=r===void 0?16:qs(r.type)),r):1}function Hs(r,a,p,E){if(50<wu)throw wu=0,Lf=null,Error(n(185));K(r,p,E),(!(Qt&2)||r!==Lr)&&(r===Lr&&(!(Qt&2)&&(Rc|=p),Cr===4&&ca(r,Xr)),Gi(r,E),p===1&&Qt===0&&!(a.mode&1)&&(wl=Lt()+500,cl&&uo()))}function Gi(r,a){var p=r.callbackNode;Wr(r,a);var E=Gn(r,r===Lr?Xr:0);if(E===0)p!==null&&Wn(p),r.callbackNode=null,r.callbackPriority=0;else if(a=E&-E,r.callbackPriority!==a){if(p!=null&&Wn(p),a===1)r.tag===0?Jh(R0.bind(null,r)):fc(R0.bind(null,r)),So(function(){!(Qt&6)&&uo()}),p=null;else{switch(Bi(E)){case 1:p=Ie;break;case 4:p=ys;break;case 16:p=Bt;break;case 536870912:p=Yo;break;default:p=Bt}p=F0(p,N0.bind(null,r))}r.callbackPriority=a,r.callbackNode=p}}function N0(r,a){if(Lc=-1,Pc=0,Qt&6)throw Error(n(327));var p=r.callbackNode;if(_l()&&r.callbackNode!==p)return null;var E=Gn(r,r===Lr?Xr:0);if(E===0)return null;if(E&30||E&r.expiredLanes||a)a=kc(r,E);else{a=E;var T=Qt;Qt|=2;var b=D0();(Lr!==r||Xr!==a)&&(Bo=null,wl=Lt()+500,ja(r,a));do try{gy();break}catch(te){O0(r,te)}while(!0);Lo(),Nc.current=b,Qt=T,pr!==null?a=0:(Lr=null,Xr=0,a=Cr)}if(a!==0){if(a===2&&(T=Tt(r),T!==0&&(E=T,a=Pf(r,T))),a===1)throw p=yu,ja(r,0),ca(r,E),Gi(r,Lt()),p;if(a===6)ca(r,E);else{if(T=r.current.alternate,!(E&30)&&!dy(T)&&(a=kc(r,E),a===2&&(b=Tt(r),b!==0&&(E=b,a=Pf(r,b))),a===1))throw p=yu,ja(r,0),ca(r,E),Gi(r,Lt()),p;switch(r.finishedWork=T,r.finishedLanes=E,a){case 0:case 1:throw Error(n(345));case 2:za(r,Wi,Bo);break;case 3:if(ca(r,E),(E&130023424)===E&&(a=Df+500-Lt(),10<a)){if(Gn(r,0)!==0)break;if(T=r.suspendedLanes,(T&E)!==E){Di(),r.pingedLanes|=r.suspendedLanes&T;break}r.timeoutHandle=Zl(za.bind(null,r,Wi,Bo),a);break}za(r,Wi,Bo);break;case 4:if(ca(r,E),(E&4194240)===E)break;for(a=r.eventTimes,T=-1;0<E;){var B=31-or(E);b=1<<B,B=a[B],B>T&&(T=B),E&=~b}if(E=T,E=Lt()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*fy(E/1960))-E,10<E){r.timeoutHandle=Zl(za.bind(null,r,Wi,Bo),E);break}za(r,Wi,Bo);break;case 5:za(r,Wi,Bo);break;default:throw Error(n(329))}}}return Gi(r,Lt()),r.callbackNode===p?N0.bind(null,r):null}function Pf(r,a){var p=Eu;return r.current.memoizedState.isDehydrated&&(ja(r,a).flags|=256),r=kc(r,a),r!==2&&(a=Wi,Wi=p,a!==null&&kf(a)),r}function kf(r){Wi===null?Wi=r:Wi.push.apply(Wi,r)}function dy(r){for(var a=r;;){if(a.flags&16384){var p=a.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var E=0;E<p.length;E++){var T=p[E],b=T.getSnapshot;T=T.value;try{if(!ce(b(),T))return!1}catch{return!1}}}if(p=a.child,a.subtreeFlags&16384&&p!==null)p.return=a,a=p;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ca(r,a){for(a&=~Of,a&=~Rc,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var p=31-or(a),E=1<<p;r[p]=-1,a&=~E}}function R0(r){if(Qt&6)throw Error(n(327));_l();var a=Gn(r,0);if(!(a&1))return Gi(r,Lt()),null;var p=kc(r,a);if(r.tag!==0&&p===2){var E=Tt(r);E!==0&&(a=E,p=Pf(r,E))}if(p===1)throw p=yu,ja(r,0),ca(r,a),Gi(r,Lt()),p;if(p===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,za(r,Wi,Bo),Gi(r,Lt()),null}function Bf(r,a){var p=Qt;Qt|=1;try{return r(a)}finally{Qt=p,Qt===0&&(wl=Lt()+500,cl&&uo())}}function Ua(r){la!==null&&la.tag===0&&!(Qt&6)&&_l();var a=Qt;Qt|=1;var p=Cs.transition,E=mt;try{if(Cs.transition=null,mt=1,r)return r()}finally{mt=E,Cs.transition=p,Qt=a,!(Qt&6)&&uo()}}function Ff(){as=El.current,_n(El)}function ja(r,a){r.finishedWork=null,r.finishedLanes=0;var p=r.timeoutHandle;if(p!==-1&&(r.timeoutHandle=-1,Xh(p)),pr!==null)for(p=pr.return;p!==null;){var E=p;switch(La(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&lo();break;case 3:gl(),_n(si),_n(Or),of();break;case 5:rf(E);break;case 4:gl();break;case 13:_n(Qn);break;case 19:_n(Qn);break;case 10:yc(E.type._context);break;case 22:case 23:Ff()}p=p.return}if(Lr=r,pr=r=ha(r.current,null),Xr=as=a,Cr=0,yu=null,Of=Rc=Va=0,Wi=Eu=null,re!==null){for(a=0;a<re.length;a++)if(p=re[a],E=p.interleaved,E!==null){p.interleaved=null;var T=E.next,b=p.pending;if(b!==null){var B=b.next;b.next=T,E.next=B}p.pending=E}re=null}return r}function O0(r,a){do{var p=pr;try{if(Lo(),wc.current=Ac,_c){for(var E=qn.memoizedState;E!==null;){var T=E.queue;T!==null&&(T.pending=null),E=E.next}_c=!1}if(Fa=0,Mr=Ar=qn=null,hu=!1,fu=0,Rf.current=null,p===null||p.return===null){Cr=1,yu=a,pr=null;break}e:{var b=r,B=p.return,te=p,ae=a;if(a=Xr,te.flags|=32768,ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var _e=ae,Oe=te,Pe=Oe.tag;if(!(Oe.mode&1)&&(Pe===0||Pe===11||Pe===15)){var Re=Oe.alternate;Re?(Oe.updateQueue=Re.updateQueue,Oe.memoizedState=Re.memoizedState,Oe.lanes=Re.lanes):(Oe.updateQueue=null,Oe.memoizedState=null)}var Ze=n0(B);if(Ze!==null){Ze.flags&=-257,r0(Ze,B,te,b,a),Ze.mode&1&&t0(b,_e,a),a=Ze,ae=_e;var nt=a.updateQueue;if(nt===null){var it=new Set;it.add(ae),a.updateQueue=it}else nt.add(ae);break e}else{if(!(a&1)){t0(b,_e,a),Vf();break e}ae=Error(n(426))}}else if(Mn&&te.mode&1){var ar=n0(B);if(ar!==null){!(ar.flags&65536)&&(ar.flags|=256),r0(ar,B,te,b,a),su(ml(ae,te));break e}}b=ae=ml(ae,te),Cr!==4&&(Cr=2),Eu===null?Eu=[b]:Eu.push(b),b=B;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var pe=J1(b,ae,a);ka(b,pe);break e;case 1:te=ae;var le=b.type,ge=b.stateNode;if(!(b.flags&128)&&(typeof le.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(aa===null||!aa.has(ge)))){b.flags|=65536,a&=-a,b.lanes|=a;var Ue=e0(b,te,a);ka(b,Ue);break e}}b=b.return}while(b!==null)}L0(p)}catch(lt){a=lt,pr===p&&p!==null&&(pr=p=p.return);continue}break}while(!0)}function D0(){var r=Nc.current;return Nc.current=Ac,r===null?Ac:r}function Vf(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),Lr===null||!(Va&268435455)&&!(Rc&268435455)||ca(Lr,Xr)}function kc(r,a){var p=Qt;Qt|=2;var E=D0();(Lr!==r||Xr!==a)&&(Bo=null,ja(r,a));do try{py();break}catch(T){O0(r,T)}while(!0);if(Lo(),Qt=p,Nc.current=E,pr!==null)throw Error(n(261));return Lr=null,Xr=0,Cr}function py(){for(;pr!==null;)M0(pr)}function gy(){for(;pr!==null&&!tn();)M0(pr)}function M0(r){var a=B0(r.alternate,r,as);r.memoizedProps=r.pendingProps,a===null?L0(r):pr=a,Rf.current=null}function L0(r){var a=r;do{var p=a.alternate;if(r=a.return,a.flags&32768){if(p=ly(p,a),p!==null){p.flags&=32767,pr=p;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Cr=6,pr=null;return}}else if(p=ay(p,a,as),p!==null){pr=p;return}if(a=a.sibling,a!==null){pr=a;return}pr=a=r}while(a!==null);Cr===0&&(Cr=5)}function za(r,a,p){var E=mt,T=Cs.transition;try{Cs.transition=null,mt=1,my(r,a,p,E)}finally{Cs.transition=T,mt=E}return null}function my(r,a,p,E){do _l();while(la!==null);if(Qt&6)throw Error(n(327));p=r.finishedWork;var T=r.finishedLanes;if(p===null)return null;if(r.finishedWork=null,r.finishedLanes=0,p===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var b=p.lanes|p.childLanes;if(He(r,b),r===Lr&&(pr=Lr=null,Xr=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||Dc||(Dc=!0,F0(Bt,function(){return _l(),null})),b=(p.flags&15990)!==0,p.subtreeFlags&15990||b){b=Cs.transition,Cs.transition=null;var B=mt;mt=1;var te=Qt;Qt|=4,Rf.current=null,cy(r,p),C0(p,r),Rr(Ql),ni=!!Kl,Ql=Kl=null,r.current=p,hy(p),Go(),Qt=te,mt=B,Cs.transition=b}else r.current=p;if(Dc&&(Dc=!1,la=r,Mc=T),b=r.pendingLanes,b===0&&(aa=null),bt(p.stateNode),Gi(r,Lt()),a!==null)for(E=r.onRecoverableError,p=0;p<a.length;p++)T=a[p],E(T.value,{componentStack:T.stack,digest:T.digest});if(Oc)throw Oc=!1,r=Mf,Mf=null,r;return Mc&1&&r.tag!==0&&_l(),b=r.pendingLanes,b&1?r===Lf?wu++:(wu=0,Lf=r):wu=0,uo(),null}function _l(){if(la!==null){var r=Bi(Mc),a=Cs.transition,p=mt;try{if(Cs.transition=null,mt=16>r?16:r,la===null)var E=!1;else{if(r=la,la=null,Mc=0,Qt&6)throw Error(n(331));var T=Qt;for(Qt|=4,et=r.current;et!==null;){var b=et,B=b.child;if(et.flags&16){var te=b.deletions;if(te!==null){for(var ae=0;ae<te.length;ae++){var _e=te[ae];for(et=_e;et!==null;){var Oe=et;switch(Oe.tag){case 0:case 11:case 15:mu(8,Oe,b)}var Pe=Oe.child;if(Pe!==null)Pe.return=Oe,et=Pe;else for(;et!==null;){Oe=et;var Re=Oe.sibling,Ze=Oe.return;if(w0(Oe),Oe===_e){et=null;break}if(Re!==null){Re.return=Ze,et=Re;break}et=Ze}}}var nt=b.alternate;if(nt!==null){var it=nt.child;if(it!==null){nt.child=null;do{var ar=it.sibling;it.sibling=null,it=ar}while(it!==null)}}et=b}}if(b.subtreeFlags&2064&&B!==null)B.return=b,et=B;else e:for(;et!==null;){if(b=et,b.flags&2048)switch(b.tag){case 0:case 11:case 15:mu(9,b,b.return)}var pe=b.sibling;if(pe!==null){pe.return=b.return,et=pe;break e}et=b.return}}var le=r.current;for(et=le;et!==null;){B=et;var ge=B.child;if(B.subtreeFlags&2064&&ge!==null)ge.return=B,et=ge;else e:for(B=le;et!==null;){if(te=et,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:bc(9,te)}}catch(lt){tr(te,te.return,lt)}if(te===B){et=null;break e}var Ue=te.sibling;if(Ue!==null){Ue.return=te.return,et=Ue;break e}et=te.return}}if(Qt=T,uo(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Nt,r)}catch{}E=!0}return E}finally{mt=p,Cs.transition=a}}return!1}function P0(r,a,p){a=ml(p,a),a=J1(r,a,1),r=vr(r,a,1),a=Di(),r!==null&&(K(r,1,a),Gi(r,a))}function tr(r,a,p){if(r.tag===3)P0(r,r,p);else for(;a!==null;){if(a.tag===3){P0(a,r,p);break}else if(a.tag===1){var E=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(aa===null||!aa.has(E))){r=ml(p,r),r=e0(a,r,1),a=vr(a,r,1),r=Di(),a!==null&&(K(a,1,r),Gi(a,r));break}}a=a.return}}function yy(r,a,p){var E=r.pingCache;E!==null&&E.delete(a),a=Di(),r.pingedLanes|=r.suspendedLanes&p,Lr===r&&(Xr&p)===p&&(Cr===4||Cr===3&&(Xr&130023424)===Xr&&500>Lt()-Df?ja(r,0):Of|=p),Gi(r,a)}function k0(r,a){a===0&&(r.mode&1?(a=Qs,Qs<<=1,!(Qs&130023424)&&(Qs=4194304)):a=1);var p=Di();r=Le(r,a),r!==null&&(K(r,a,p),Gi(r,p))}function Ey(r){var a=r.memoizedState,p=0;a!==null&&(p=a.retryLane),k0(r,p)}function wy(r,a){var p=0;switch(r.tag){case 13:var E=r.stateNode,T=r.memoizedState;T!==null&&(p=T.retryLane);break;case 19:E=r.stateNode;break;default:throw Error(n(314))}E!==null&&E.delete(a),k0(r,p)}var B0;B0=function(r,a,p){if(r!==null)if(r.memoizedProps!==a.pendingProps||si.current)Hi=!0;else{if(!(r.lanes&p)&&!(a.flags&128))return Hi=!1,oy(r,a,p);Hi=!!(r.flags&131072)}else Hi=!1,Mn&&a.flags&1048576&&nu(a,Ma,a.index);switch(a.lanes=0,a.tag){case 2:var E=a.type;Ic(r,a),r=a.pendingProps;var T=ta(a,Or.current);C(a,p),T=uf(null,a,E,r,T,p);var b=cf();return a.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,oi(E)?(b=!0,xs(a)):b=!1,a.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,Dr(a),T.updater=Cc,a.stateNode=T,T._reactInternals=a,mf(a,E,r,p),a=_f(null,a,E,!0,b,p)):(a.tag=0,Mn&&b&&ru(a),Oi(null,a,T,p),a=a.child),a;case 16:E=a.elementType;e:{switch(Ic(r,a),r=a.pendingProps,T=E._init,E=T(E._payload),a.type=E,T=a.tag=xy(E),r=Us(E,r),T){case 0:a=wf(null,a,E,r,p);break e;case 1:a=u0(null,a,E,r,p);break e;case 11:a=i0(null,a,E,r,p);break e;case 14:a=s0(null,a,E,Us(E.type,r),p);break e}throw Error(n(306,E,""))}return a;case 0:return E=a.type,T=a.pendingProps,T=a.elementType===E?T:Us(E,T),wf(r,a,E,T,p);case 1:return E=a.type,T=a.pendingProps,T=a.elementType===E?T:Us(E,T),u0(r,a,E,T,p);case 3:e:{if(c0(a),r===null)throw Error(n(387));E=a.pendingProps,b=a.memoizedState,T=b.element,Ri(r,a),pl(a,E,null,p);var B=a.memoizedState;if(E=B.element,b.isDehydrated)if(b={element:E,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){T=ml(Error(n(423)),a),a=h0(r,a,E,p,T);break e}else if(E!==T){T=ml(Error(n(424)),a),a=h0(r,a,E,p,T);break e}else for(Ni=ro(a.stateNode.containerInfo.firstChild),bi=a,Mn=!0,zi=null,p=ou(a,null,E,p),a.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(ra(),E===T){a=ko(r,a,p);break e}Oi(r,a,E,p)}a=a.child}return a;case 5:return b1(a),r===null&&iu(a),E=a.type,T=a.pendingProps,b=r!==null?r.memoizedProps:null,B=T.children,ql(E,T)?B=null:b!==null&&ql(E,b)&&(a.flags|=32),l0(r,a),Oi(r,a,B,p),a.child;case 6:return r===null&&iu(a),null;case 13:return f0(r,a,p);case 4:return nf(a,a.stateNode.containerInfo),E=a.pendingProps,r===null?a.child=ia(a,null,E,p):Oi(r,a,E,p),a.child;case 11:return E=a.type,T=a.pendingProps,T=a.elementType===E?T:Us(E,T),i0(r,a,E,T,p);case 7:return Oi(r,a,a.pendingProps,p),a.child;case 8:return Oi(r,a,a.pendingProps.children,p),a.child;case 12:return Oi(r,a,a.pendingProps.children,p),a.child;case 10:e:{if(E=a.type._context,T=a.pendingProps,b=a.memoizedProps,B=T.value,Tn(Do,E._currentValue),E._currentValue=B,b!==null)if(ce(b.value,B)){if(b.children===T.children&&!si.current){a=ko(r,a,p);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var te=b.dependencies;if(te!==null){B=b.child;for(var ae=te.firstContext;ae!==null;){if(ae.context===E){if(b.tag===1){ae=xn(-1,p&-p),ae.tag=2;var _e=b.updateQueue;if(_e!==null){_e=_e.shared;var Oe=_e.pending;Oe===null?ae.next=ae:(ae.next=Oe.next,Oe.next=ae),_e.pending=ae}}b.lanes|=p,ae=b.alternate,ae!==null&&(ae.lanes|=p),ne(b.return,p,a),te.lanes|=p;break}ae=ae.next}}else if(b.tag===10)B=b.type===a.type?null:b.child;else if(b.tag===18){if(B=b.return,B===null)throw Error(n(341));B.lanes|=p,te=B.alternate,te!==null&&(te.lanes|=p),ne(B,p,a),B=b.sibling}else B=b.child;if(B!==null)B.return=b;else for(B=b;B!==null;){if(B===a){B=null;break}if(b=B.sibling,b!==null){b.return=B.return,B=b;break}B=B.return}b=B}Oi(r,a,T.children,p),a=a.child}return a;case 9:return T=a.type,E=a.pendingProps.children,C(a,p),T=P(T),E=E(T),a.flags|=1,Oi(r,a,E,p),a.child;case 14:return E=a.type,T=Us(E,a.pendingProps),T=Us(E.type,T),s0(r,a,E,T,p);case 15:return o0(r,a,a.type,a.pendingProps,p);case 17:return E=a.type,T=a.pendingProps,T=a.elementType===E?T:Us(E,T),Ic(r,a),a.tag=1,oi(E)?(r=!0,xs(a)):r=!1,C(a,p),q1(a,E,T),mf(a,E,T,p),_f(null,a,E,!0,r,p);case 19:return p0(r,a,p);case 22:return a0(r,a,p)}throw Error(n(156,a.tag))};function F0(r,a){return Er(r,a)}function _y(r,a,p,E){this.tag=r,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(r,a,p,E){return new _y(r,a,p,E)}function Uf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xy(r){if(typeof r=="function")return Uf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ee)return 11;if(r===he)return 14}return 2}function ha(r,a){var p=r.alternate;return p===null?(p=Ts(r.tag,a,r.key,r.mode),p.elementType=r.elementType,p.type=r.type,p.stateNode=r.stateNode,p.alternate=r,r.alternate=p):(p.pendingProps=a,p.type=r.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=r.flags&14680064,p.childLanes=r.childLanes,p.lanes=r.lanes,p.child=r.child,p.memoizedProps=r.memoizedProps,p.memoizedState=r.memoizedState,p.updateQueue=r.updateQueue,a=r.dependencies,p.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},p.sibling=r.sibling,p.index=r.index,p.ref=r.ref,p}function Bc(r,a,p,E,T,b){var B=2;if(E=r,typeof r=="function")Uf(r)&&(B=1);else if(typeof r=="string")B=5;else e:switch(r){case H:return Ha(p.children,T,b,a);case F:B=8,T|=8;break;case D:return r=Ts(12,p,a,T|2),r.elementType=D,r.lanes=b,r;case Y:return r=Ts(13,p,a,T),r.elementType=Y,r.lanes=b,r;case $e:return r=Ts(19,p,a,T),r.elementType=$e,r.lanes=b,r;case ze:return Fc(p,T,b,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case X:B=10;break e;case G:B=9;break e;case ee:B=11;break e;case he:B=14;break e;case st:B=16,E=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return a=Ts(B,p,a,T),a.elementType=r,a.type=E,a.lanes=b,a}function Ha(r,a,p,E){return r=Ts(7,r,E,a),r.lanes=p,r}function Fc(r,a,p,E){return r=Ts(22,r,E,a),r.elementType=ze,r.lanes=p,r.stateNode={isHidden:!1},r}function jf(r,a,p){return r=Ts(6,r,null,a),r.lanes=p,r}function zf(r,a,p){return a=Ts(4,r.children!==null?r.children:[],r.key,a),a.lanes=p,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function vy(r,a,p,E,T){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fe(0),this.expirationTimes=fe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fe(0),this.identifierPrefix=E,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Hf(r,a,p,E,T,b,B,te,ae){return r=new vy(r,a,p,te,ae),a===1?(a=1,b===!0&&(a|=8)):a=0,b=Ts(3,null,null,a),r.current=b,b.stateNode=r,b.memoizedState={element:E,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dr(b),r}function Ay(r,a,p){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:E==null?null:""+E,children:r,containerInfo:a,implementation:p}}function V0(r){if(!r)return bo;r=r._reactInternals;e:{if(Pn(r)!==r||r.tag!==1)throw Error(n(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(oi(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(r.tag===1){var p=r.type;if(oi(p))return Zh(r,p,a)}return a}function U0(r,a,p,E,T,b,B,te,ae){return r=Hf(p,E,!0,r,T,b,B,te,ae),r.context=V0(null),p=r.current,E=Di(),T=ua(p),b=xn(E,T),b.callback=a??null,vr(p,b,T),r.current.lanes=T,K(r,T,E),Gi(r,E),r}function Vc(r,a,p,E){var T=a.current,b=Di(),B=ua(T);return p=V0(p),a.context===null?a.context=p:a.pendingContext=p,a=xn(b,B),a.payload={element:r},E=E===void 0?null:E,E!==null&&(a.callback=E),r=vr(T,a,B),r!==null&&(Hs(r,T,B,b),li(r,T,B)),B}function Uc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function j0(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var p=r.retryLane;r.retryLane=p!==0&&p<a?p:a}}function Wf(r,a){j0(r,a),(r=r.alternate)&&j0(r,a)}function Cy(){return null}var z0=typeof reportError=="function"?reportError:function(r){console.error(r)};function Gf(r){this._internalRoot=r}jc.prototype.render=Gf.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(n(409));Vc(r,a,null,null)},jc.prototype.unmount=Gf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Ua(function(){Vc(null,r,null,null)}),a[io]=null}};function jc(r){this._internalRoot=r}jc.prototype.unstable_scheduleHydration=function(r){if(r){var a=rn();r={blockedOn:null,target:r,priority:a};for(var p=0;p<Jn.length&&a!==0&&a<Jn[p].priority;p++);Jn.splice(p,0,r),p===0&&Co(r)}};function Yf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function zc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function H0(){}function Ty(r,a,p,E,T){if(T){if(typeof E=="function"){var b=E;E=function(){var _e=Uc(B);b.call(_e)}}var B=U0(a,E,r,0,null,!1,!1,"",H0);return r._reactRootContainer=B,r[io]=B.current,Qo(r.nodeType===8?r.parentNode:r),Ua(),B}for(;T=r.lastChild;)r.removeChild(T);if(typeof E=="function"){var te=E;E=function(){var _e=Uc(ae);te.call(_e)}}var ae=Hf(r,0,!1,null,null,!1,!1,"",H0);return r._reactRootContainer=ae,r[io]=ae.current,Qo(r.nodeType===8?r.parentNode:r),Ua(function(){Vc(a,ae,p,E)}),ae}function Hc(r,a,p,E,T){var b=p._reactRootContainer;if(b){var B=b;if(typeof T=="function"){var te=T;T=function(){var ae=Uc(B);te.call(ae)}}Vc(a,B,r,T)}else B=Ty(p,a,r,T,E);return Uc(B)}Ei=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var p=qt(a.pendingLanes);p!==0&&(cn(a,p|1),Gi(a,Lt()),!(Qt&6)&&(wl=Lt()+500,uo()))}break;case 13:Ua(function(){var E=Le(r,1);if(E!==null){var T=Di();Hs(E,r,1,T)}}),Wf(r,1)}},Vn=function(r){if(r.tag===13){var a=Le(r,134217728);if(a!==null){var p=Di();Hs(a,r,134217728,p)}Wf(r,134217728)}},at=function(r){if(r.tag===13){var a=ua(r),p=Le(r,a);if(p!==null){var E=Di();Hs(p,r,a,E)}Wf(r,a)}},rn=function(){return mt},vo=function(r,a){var p=mt;try{return mt=r,a()}finally{mt=p}},bs=function(r,a,p){switch(a){case"input":if(mn(r,p),a=p.name,p.type==="radio"&&a!=null){for(p=r;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<p.length;a++){var E=p[a];if(E!==r&&E.form===r.form){var T=Bs(E);if(!T)throw Error(n(90));Vr(E),mn(E,T)}}}break;case"textarea":zn(r,p);break;case"select":a=p.value,a!=null&&Ye(r,!!p.multiple,a,!1)}},Zi=Bf,Fn=Ua;var Iy={usingClientEntryPoint:!1,Events:[Da,ea,Bs,yi,mr,Bf]},_u={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sy={bundleType:_u.bundleType,version:_u.version,rendererPackageName:_u.rendererPackageName,rendererConfig:_u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=xo(r),r===null?null:r.stateNode},findFiberByHostInstance:_u.findFiberByHostInstance||Cy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Nt=Wc.inject(Sy),Et=Wc}catch{}}return Yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iy,Yi.createPortal=function(r,a){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yf(a))throw Error(n(200));return Ay(r,a,null,p)},Yi.createRoot=function(r,a){if(!Yf(r))throw Error(n(299));var p=!1,E="",T=z0;return a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(E=a.identifierPrefix),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),a=Hf(r,1,!1,null,null,p,!1,E,T),r[io]=a.current,Qo(r.nodeType===8?r.parentNode:r),new Gf(a)},Yi.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=xo(a),r=r===null?null:r.stateNode,r},Yi.flushSync=function(r){return Ua(r)},Yi.hydrate=function(r,a,p){if(!zc(a))throw Error(n(200));return Hc(null,r,a,!0,p)},Yi.hydrateRoot=function(r,a,p){if(!Yf(r))throw Error(n(405));var E=p!=null&&p.hydratedSources||null,T=!1,b="",B=z0;if(p!=null&&(p.unstable_strictMode===!0&&(T=!0),p.identifierPrefix!==void 0&&(b=p.identifierPrefix),p.onRecoverableError!==void 0&&(B=p.onRecoverableError)),a=U0(a,null,r,1,p??null,T,!1,b,B),r[io]=a.current,Qo(r),E)for(r=0;r<E.length;r++)p=E[r],T=p._getVersion,T=T(p._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[p,T]:a.mutableSourceEagerHydrationData.push(p,T);return new jc(a)},Yi.render=function(r,a,p){if(!zc(a))throw Error(n(200));return Hc(null,r,a,!1,p)},Yi.unmountComponentAtNode=function(r){if(!zc(r))throw Error(n(40));return r._reactRootContainer?(Ua(function(){Hc(null,null,r,!1,function(){r._reactRootContainer=null,r[io]=null})}),!0):!1},Yi.unstable_batchedUpdates=Bf,Yi.unstable_renderSubtreeIntoContainer=function(r,a,p,E){if(!zc(p))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Hc(r,a,p,!1,E)},Yi.version="18.3.1-next-f1338f8080-20240426",Yi}var q0;function By(){if(q0)return Kf.exports;q0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kf.exports=ky(),Kf.exports}var Z0;function Fy(){if(Z0)return Yc;Z0=1;var s=By();return Yc.createRoot=s.createRoot,Yc.hydrateRoot=s.hydrateRoot,Yc}var Vy=Fy(),Se=Hu(),vu={},J0;function Uy(){if(J0)return vu;J0=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.parse=y,vu.serialize=w;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/,c=Object.prototype.toString,f=(()=>{const k=function(){};return k.prototype=Object.create(null),k})();function y(k,U){const z=new f,$=k.length;if($<2)return z;const q=(U==null?void 0:U.decode)||S;let j=0;do{const Q=k.indexOf("=",j);if(Q===-1)break;const J=k.indexOf(";",j),se=J===-1?$:J;if(Q>se){j=k.lastIndexOf(";",Q-1)+1;continue}const Ee=x(k,j,Q),Te=v(k,Q,Ee),H=k.slice(Ee,Te);if(z[H]===void 0){let F=x(k,Q+1,se),D=v(k,se,F);const X=q(k.slice(F,D));z[H]=X}j=se+1}while(j<$);return z}function x(k,U,z){do{const $=k.charCodeAt(U);if($!==32&&$!==9)return U}while(++U<z);return z}function v(k,U,z){for(;U>z;){const $=k.charCodeAt(--U);if($!==32&&$!==9)return U+1}return z}function w(k,U,z){const $=(z==null?void 0:z.encode)||encodeURIComponent;if(!s.test(k))throw new TypeError(`argument name is invalid: ${k}`);const q=$(U);if(!e.test(q))throw new TypeError(`argument val is invalid: ${U}`);let j=k+"="+q;if(!z)return j;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);j+="; Max-Age="+z.maxAge}if(z.domain){if(!n.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);j+="; Domain="+z.domain}if(z.path){if(!l.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);j+="; Path="+z.path}if(z.expires){if(!N(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);j+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(j+="; HttpOnly"),z.secure&&(j+="; Secure"),z.partitioned&&(j+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return j}function S(k){if(k.indexOf("%")===-1)return k;try{return decodeURIComponent(k)}catch{return k}}function N(k){return c.call(k)==="[object Date]"}return vu}Uy();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ep="popstate";function jy(s={}){function e(l,c){let{pathname:f,search:y,hash:x}=l.location;return wd("",{pathname:f,search:y,hash:x},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(l,c){return typeof c=="string"?c:Lu(c)}return Hy(e,n,null,s)}function Zn(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function mo(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zy(){return Math.random().toString(36).substring(2,10)}function tp(s,e){return{usr:s.state,key:s.key,idx:e}}function wd(s,e,n=null,l){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Fl(e):e,state:n,key:e&&e.key||l||zy()}}function Lu({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Fl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let l=s.indexOf("?");l>=0&&(e.search=s.substring(l),s=s.substring(0,l)),s&&(e.pathname=s)}return e}function Hy(s,e,n,l={}){let{window:c=document.defaultView,v5Compat:f=!1}=l,y=c.history,x="POP",v=null,w=S();w==null&&(w=0,y.replaceState({...y.state,idx:w},""));function S(){return(y.state||{idx:null}).idx}function N(){x="POP";let q=S(),j=q==null?null:q-w;w=q,v&&v({action:x,location:$.location,delta:j})}function k(q,j){x="PUSH";let Q=wd($.location,q,j);w=S()+1;let J=tp(Q,w),se=$.createHref(Q);try{y.pushState(J,"",se)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;c.location.assign(se)}f&&v&&v({action:x,location:$.location,delta:1})}function U(q,j){x="REPLACE";let Q=wd($.location,q,j);w=S();let J=tp(Q,w),se=$.createHref(Q);y.replaceState(J,"",se),f&&v&&v({action:x,location:$.location,delta:0})}function z(q){let j=c.location.origin!=="null"?c.location.origin:c.location.href,Q=typeof q=="string"?q:Lu(q);return Q=Q.replace(/ $/,"%20"),Zn(j,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,j)}let $={get action(){return x},get location(){return s(c,y)},listen(q){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(ep,N),v=q,()=>{c.removeEventListener(ep,N),v=null}},createHref(q){return e(c,q)},createURL:z,encodeLocation(q){let j=z(q);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:k,replace:U,go(q){return y.go(q)}};return $}function Dg(s,e,n="/"){return Wy(s,e,n,!1)}function Wy(s,e,n,l){let c=typeof e=="string"?Fl(e):e,f=ya(c.pathname||"/",n);if(f==null)return null;let y=Mg(s);Gy(y);let x=null;for(let v=0;x==null&&v<y.length;++v){let w=nE(f);x=eE(y[v],w,l)}return x}function Mg(s,e=[],n=[],l=""){let c=(f,y,x)=>{let v={relativePath:x===void 0?f.path||"":x,caseSensitive:f.caseSensitive===!0,childrenIndex:y,route:f};v.relativePath.startsWith("/")&&(Zn(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length));let w=Vo([l,v.relativePath]),S=n.concat(v);f.children&&f.children.length>0&&(Zn(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Mg(f.children,e,S,w)),!(f.path==null&&!f.index)&&e.push({path:w,score:Zy(w,f.index),routesMeta:S})};return s.forEach((f,y)=>{var x;if(f.path===""||!((x=f.path)!=null&&x.includes("?")))c(f,y);else for(let v of Lg(f.path))c(f,y,v)}),e}function Lg(s){let e=s.split("/");if(e.length===0)return[];let[n,...l]=e,c=n.endsWith("?"),f=n.replace(/\?$/,"");if(l.length===0)return c?[f,""]:[f];let y=Lg(l.join("/")),x=[];return x.push(...y.map(v=>v===""?f:[f,v].join("/"))),c&&x.push(...y),x.map(v=>s.startsWith("/")&&v===""?"/":v)}function Gy(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Jy(e.routesMeta.map(l=>l.childrenIndex),n.routesMeta.map(l=>l.childrenIndex)))}var Yy=/^:[\w-]+$/,$y=3,Xy=2,Ky=1,Qy=10,qy=-2,np=s=>s==="*";function Zy(s,e){let n=s.split("/"),l=n.length;return n.some(np)&&(l+=qy),e&&(l+=Xy),n.filter(c=>!np(c)).reduce((c,f)=>c+(Yy.test(f)?$y:f===""?Ky:Qy),l)}function Jy(s,e){return s.length===e.length&&s.slice(0,-1).every((l,c)=>l===e[c])?s[s.length-1]-e[e.length-1]:0}function eE(s,e,n=!1){let{routesMeta:l}=s,c={},f="/",y=[];for(let x=0;x<l.length;++x){let v=l[x],w=x===l.length-1,S=f==="/"?e:e.slice(f.length)||"/",N=ch({path:v.relativePath,caseSensitive:v.caseSensitive,end:w},S),k=v.route;if(!N&&w&&n&&!l[l.length-1].route.index&&(N=ch({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!N)return null;Object.assign(c,N.params),y.push({params:c,pathname:Vo([f,N.pathname]),pathnameBase:oE(Vo([f,N.pathnameBase])),route:k}),N.pathnameBase!=="/"&&(f=Vo([f,N.pathnameBase]))}return y}function ch(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,l]=tE(s.path,s.caseSensitive,s.end),c=e.match(n);if(!c)return null;let f=c[0],y=f.replace(/(.)\/+$/,"$1"),x=c.slice(1);return{params:l.reduce((w,{paramName:S,isOptional:N},k)=>{if(S==="*"){let z=x[k]||"";y=f.slice(0,f.length-z.length).replace(/(.)\/+$/,"$1")}const U=x[k];return N&&!U?w[S]=void 0:w[S]=(U||"").replace(/%2F/g,"/"),w},{}),pathname:f,pathnameBase:y,pattern:s}}function tE(s,e=!1,n=!0){mo(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let l=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,x,v)=>(l.push({paramName:x,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(l.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,e?void 0:"i"),l]}function nE(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mo(!1,`The URL path "${s}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ya(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,l=s.charAt(n);return l&&l!=="/"?null:s.slice(n)||"/"}function rE(s,e="/"){let{pathname:n,search:l="",hash:c=""}=typeof s=="string"?Fl(s):s;return{pathname:n?n.startsWith("/")?n:iE(n,e):e,search:aE(l),hash:lE(c)}}function iE(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function Zf(s,e,n,l){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sE(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pg(s){let e=sE(s);return e.map((n,l)=>l===e.length-1?n.pathname:n.pathnameBase)}function kg(s,e,n,l=!1){let c;typeof s=="string"?c=Fl(s):(c={...s},Zn(!c.pathname||!c.pathname.includes("?"),Zf("?","pathname","search",c)),Zn(!c.pathname||!c.pathname.includes("#"),Zf("#","pathname","hash",c)),Zn(!c.search||!c.search.includes("#"),Zf("#","search","hash",c)));let f=s===""||c.pathname==="",y=f?"/":c.pathname,x;if(y==null)x=n;else{let N=e.length-1;if(!l&&y.startsWith("..")){let k=y.split("/");for(;k[0]==="..";)k.shift(),N-=1;c.pathname=k.join("/")}x=N>=0?e[N]:"/"}let v=rE(c,x),w=y&&y!=="/"&&y.endsWith("/"),S=(f||y===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(w||S)&&(v.pathname+="/"),v}var Vo=s=>s.join("/").replace(/\/\/+/g,"/"),oE=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),aE=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,lE=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function uE(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Bg=["POST","PUT","PATCH","DELETE"];new Set(Bg);var cE=["GET",...Bg];new Set(cE);var Vl=Se.createContext(null);Vl.displayName="DataRouter";var Nh=Se.createContext(null);Nh.displayName="DataRouterState";var Fg=Se.createContext({isTransitioning:!1});Fg.displayName="ViewTransition";var hE=Se.createContext(new Map);hE.displayName="Fetchers";var fE=Se.createContext(null);fE.displayName="Await";var _o=Se.createContext(null);_o.displayName="Navigation";var Wu=Se.createContext(null);Wu.displayName="Location";var Wo=Se.createContext({outlet:null,matches:[],isDataRoute:!1});Wo.displayName="Route";var jd=Se.createContext(null);jd.displayName="RouteError";function dE(s,{relative:e}={}){Zn(Gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:l}=Se.useContext(_o),{hash:c,pathname:f,search:y}=$u(s,{relative:e}),x=f;return n!=="/"&&(x=f==="/"?n:Vo([n,f])),l.createHref({pathname:x,search:y,hash:c})}function Gu(){return Se.useContext(Wu)!=null}function nl(){return Zn(Gu(),"useLocation() may be used only in the context of a <Router> component."),Se.useContext(Wu).location}var Vg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ug(s){Se.useContext(_o).static||Se.useLayoutEffect(s)}function Yu(){let{isDataRoute:s}=Se.useContext(Wo);return s?IE():pE()}function pE(){Zn(Gu(),"useNavigate() may be used only in the context of a <Router> component.");let s=Se.useContext(Vl),{basename:e,navigator:n}=Se.useContext(_o),{matches:l}=Se.useContext(Wo),{pathname:c}=nl(),f=JSON.stringify(Pg(l)),y=Se.useRef(!1);return Ug(()=>{y.current=!0}),Se.useCallback((v,w={})=>{if(mo(y.current,Vg),!y.current)return;if(typeof v=="number"){n.go(v);return}let S=kg(v,JSON.parse(f),c,w.relative==="path");s==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:Vo([e,S.pathname])),(w.replace?n.replace:n.push)(S,w.state,w)},[e,n,f,c,s])}Se.createContext(null);function $u(s,{relative:e}={}){let{matches:n}=Se.useContext(Wo),{pathname:l}=nl(),c=JSON.stringify(Pg(n));return Se.useMemo(()=>kg(s,JSON.parse(c),l,e==="path"),[s,c,l,e])}function gE(s,e){return jg(s,e)}function jg(s,e,n,l){var j;Zn(Gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=Se.useContext(_o),{matches:f}=Se.useContext(Wo),y=f[f.length-1],x=y?y.params:{},v=y?y.pathname:"/",w=y?y.pathnameBase:"/",S=y&&y.route;{let Q=S&&S.path||"";zg(v,!S||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let N=nl(),k;if(e){let Q=typeof e=="string"?Fl(e):e;Zn(w==="/"||((j=Q.pathname)==null?void 0:j.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),k=Q}else k=N;let U=k.pathname||"/",z=U;if(w!=="/"){let Q=w.replace(/^\//,"").split("/");z="/"+U.replace(/^\//,"").split("/").slice(Q.length).join("/")}let $=Dg(s,{pathname:z});mo(S||$!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),mo($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=_E($&&$.map(Q=>Object.assign({},Q,{params:Object.assign({},x,Q.params),pathname:Vo([w,c.encodeLocation?c.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?w:Vo([w,c.encodeLocation?c.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),f,n,l);return e&&q?Se.createElement(Wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},q):q}function mE(){let s=TE(),e=uE(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},f={padding:"2px 4px",backgroundColor:l},y=null;return console.error("Error handled by React Router default ErrorBoundary:",s),y=Se.createElement(Se.Fragment,null,Se.createElement("p",null,"💿 Hey developer 👋"),Se.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Se.createElement("code",{style:f},"ErrorBoundary")," or"," ",Se.createElement("code",{style:f},"errorElement")," prop on your route.")),Se.createElement(Se.Fragment,null,Se.createElement("h2",null,"Unexpected Application Error!"),Se.createElement("h3",{style:{fontStyle:"italic"}},e),n?Se.createElement("pre",{style:c},n):null,y)}var yE=Se.createElement(mE,null),EE=class extends Se.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?Se.createElement(Wo.Provider,{value:this.props.routeContext},Se.createElement(jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wE({routeContext:s,match:e,children:n}){let l=Se.useContext(Vl);return l&&l.static&&l.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=e.route.id),Se.createElement(Wo.Provider,{value:s},n)}function _E(s,e=[],n=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,f=n==null?void 0:n.errors;if(f!=null){let v=c.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);Zn(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let y=!1,x=-1;if(n)for(let v=0;v<c.length;v++){let w=c[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(x=v),w.route.id){let{loaderData:S,errors:N}=n,k=w.route.loader&&!S.hasOwnProperty(w.route.id)&&(!N||N[w.route.id]===void 0);if(w.route.lazy||k){y=!0,x>=0?c=c.slice(0,x+1):c=[c[0]];break}}}return c.reduceRight((v,w,S)=>{let N,k=!1,U=null,z=null;n&&(N=f&&w.route.id?f[w.route.id]:void 0,U=w.route.errorElement||yE,y&&(x<0&&S===0?(zg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,z=null):x===S&&(k=!0,z=w.route.hydrateFallbackElement||null)));let $=e.concat(c.slice(0,S+1)),q=()=>{let j;return N?j=U:k?j=z:w.route.Component?j=Se.createElement(w.route.Component,null):w.route.element?j=w.route.element:j=v,Se.createElement(wE,{match:w,routeContext:{outlet:v,matches:$,isDataRoute:n!=null},children:j})};return n&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?Se.createElement(EE,{location:n.location,revalidation:n.revalidation,component:U,error:N,children:q(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):q()},null)}function zd(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xE(s){let e=Se.useContext(Vl);return Zn(e,zd(s)),e}function vE(s){let e=Se.useContext(Nh);return Zn(e,zd(s)),e}function AE(s){let e=Se.useContext(Wo);return Zn(e,zd(s)),e}function Hd(s){let e=AE(s),n=e.matches[e.matches.length-1];return Zn(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function CE(){return Hd("useRouteId")}function TE(){var l;let s=Se.useContext(jd),e=vE("useRouteError"),n=Hd("useRouteError");return s!==void 0?s:(l=e.errors)==null?void 0:l[n]}function IE(){let{router:s}=xE("useNavigate"),e=Hd("useNavigate"),n=Se.useRef(!1);return Ug(()=>{n.current=!0}),Se.useCallback(async(c,f={})=>{mo(n.current,Vg),n.current&&(typeof c=="number"?s.navigate(c):await s.navigate(c,{fromRouteId:e,...f}))},[s,e])}var rp={};function zg(s,e,n){!e&&!rp[s]&&(rp[s]=!0,mo(!1,n))}Se.memo(SE);function SE({routes:s,future:e,state:n}){return jg(s,void 0,n,e)}function Tu(s){Zn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bE({basename:s="/",children:e=null,location:n,navigationType:l="POP",navigator:c,static:f=!1}){Zn(!Gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=s.replace(/^\/*/,"/"),x=Se.useMemo(()=>({basename:y,navigator:c,static:f,future:{}}),[y,c,f]);typeof n=="string"&&(n=Fl(n));let{pathname:v="/",search:w="",hash:S="",state:N=null,key:k="default"}=n,U=Se.useMemo(()=>{let z=ya(v,y);return z==null?null:{location:{pathname:z,search:w,hash:S,state:N,key:k},navigationType:l}},[y,v,w,S,N,k,l]);return mo(U!=null,`<Router basename="${y}"> is not able to match the URL "${v}${w}${S}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:Se.createElement(_o.Provider,{value:x},Se.createElement(Wu.Provider,{children:e,value:U}))}function NE({children:s,location:e}){return gE(_d(s),e)}function _d(s,e=[]){let n=[];return Se.Children.forEach(s,(l,c)=>{if(!Se.isValidElement(l))return;let f=[...e,c];if(l.type===Se.Fragment){n.push.apply(n,_d(l.props.children,f));return}Zn(l.type===Tu,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zn(!l.props.index||!l.props.children,"An index route cannot have child routes.");let y={id:l.props.id||f.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(y.children=_d(l.props.children,f)),n.push(y)}),n}var th="get",nh="application/x-www-form-urlencoded";function Rh(s){return s!=null&&typeof s.tagName=="string"}function RE(s){return Rh(s)&&s.tagName.toLowerCase()==="button"}function OE(s){return Rh(s)&&s.tagName.toLowerCase()==="form"}function DE(s){return Rh(s)&&s.tagName.toLowerCase()==="input"}function ME(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function LE(s,e){return s.button===0&&(!e||e==="_self")&&!ME(s)}var $c=null;function PE(){if($c===null)try{new FormData(document.createElement("form"),0),$c=!1}catch{$c=!0}return $c}var kE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jf(s){return s!=null&&!kE.has(s)?(mo(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):s}function BE(s,e){let n,l,c,f,y;if(OE(s)){let x=s.getAttribute("action");l=x?ya(x,e):null,n=s.getAttribute("method")||th,c=Jf(s.getAttribute("enctype"))||nh,f=new FormData(s)}else if(RE(s)||DE(s)&&(s.type==="submit"||s.type==="image")){let x=s.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=s.getAttribute("formaction")||x.getAttribute("action");if(l=v?ya(v,e):null,n=s.getAttribute("formmethod")||x.getAttribute("method")||th,c=Jf(s.getAttribute("formenctype"))||Jf(x.getAttribute("enctype"))||nh,f=new FormData(x,s),!PE()){let{name:w,type:S,value:N}=s;if(S==="image"){let k=w?`${w}.`:"";f.append(`${k}x`,"0"),f.append(`${k}y`,"0")}else w&&f.append(w,N)}}else{if(Rh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=th,l=null,c=nh,y=s}return f&&c==="text/plain"&&(y=f,f=void 0),{action:l,method:n.toLowerCase(),encType:c,formData:f,body:y}}function Wd(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function FE(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VE(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function UE(s,e,n){let l=await Promise.all(s.map(async c=>{let f=e.routes[c.route.id];if(f){let y=await FE(f,n);return y.links?y.links():[]}return[]}));return WE(l.flat(1).filter(VE).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function ip(s,e,n,l,c,f){let y=(v,w)=>n[w]?v.route.id!==n[w].route.id:!0,x=(v,w)=>{var S;return n[w].pathname!==v.pathname||((S=n[w].route.path)==null?void 0:S.endsWith("*"))&&n[w].params["*"]!==v.params["*"]};return f==="assets"?e.filter((v,w)=>y(v,w)||x(v,w)):f==="data"?e.filter((v,w)=>{var N;let S=l.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(y(v,w)||x(v,w))return!0;if(v.route.shouldRevalidate){let k=v.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((N=n[0])==null?void 0:N.params)||{},nextUrl:new URL(s,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function jE(s,e){return zE(s.map(n=>{let l=e.routes[n.route.id];if(!l)return[];let c=[l.module];return l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function zE(s){return[...new Set(s)]}function HE(s){let e={},n=Object.keys(s).sort();for(let l of n)e[l]=s[l];return e}function WE(s,e){let n=new Set;return new Set(e),s.reduce((l,c)=>{let f=JSON.stringify(HE(c));return n.has(f)||(n.add(f),l.push({key:f,link:c})),l},[])}function GE(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function YE(){let s=Se.useContext(Vl);return Wd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function $E(){let s=Se.useContext(Nh);return Wd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Gd=Se.createContext(void 0);Gd.displayName="FrameworkContext";function Hg(){let s=Se.useContext(Gd);return Wd(s,"You must render this element inside a <HydratedRouter> element"),s}function XE(s,e){let n=Se.useContext(Gd),[l,c]=Se.useState(!1),[f,y]=Se.useState(!1),{onFocus:x,onBlur:v,onMouseEnter:w,onMouseLeave:S,onTouchStart:N}=e,k=Se.useRef(null);Se.useEffect(()=>{if(s==="render"&&y(!0),s==="viewport"){let $=j=>{j.forEach(Q=>{y(Q.isIntersecting)})},q=new IntersectionObserver($,{threshold:.5});return k.current&&q.observe(k.current),()=>{q.disconnect()}}},[s]),Se.useEffect(()=>{if(l){let $=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout($)}}},[l]);let U=()=>{c(!0)},z=()=>{c(!1),y(!1)};return n?s!=="intent"?[f,k,{}]:[f,k,{onFocus:Au(x,U),onBlur:Au(v,z),onMouseEnter:Au(w,U),onMouseLeave:Au(S,z),onTouchStart:Au(N,U)}]:[!1,k,{}]}function Au(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function KE({page:s,...e}){let{router:n}=YE(),l=Se.useMemo(()=>Dg(n.routes,s,n.basename),[n.routes,s,n.basename]);return l?Se.createElement(qE,{page:s,matches:l,...e}):(console.warn(`Tried to prefetch ${s} but no routes matched.`),null)}function QE(s){let{manifest:e,routeModules:n}=Hg(),[l,c]=Se.useState([]);return Se.useEffect(()=>{let f=!1;return UE(s,e,n).then(y=>{f||c(y)}),()=>{f=!0}},[s,e,n]),l}function qE({page:s,matches:e,...n}){let l=nl(),{manifest:c,routeModules:f}=Hg(),{loaderData:y,matches:x}=$E(),v=Se.useMemo(()=>ip(s,e,x,c,l,"data"),[s,e,x,c,l]),w=Se.useMemo(()=>ip(s,e,x,c,l,"assets"),[s,e,x,c,l]),S=Se.useMemo(()=>{if(s===l.pathname+l.search+l.hash)return[];let U=new Set,z=!1;if(e.forEach(q=>{var Q;let j=c.routes[q.route.id];!j||!j.hasLoader||(!v.some(J=>J.route.id===q.route.id)&&q.route.id in y&&((Q=f[q.route.id])!=null&&Q.shouldRevalidate)||j.hasClientLoader?z=!0:U.add(q.route.id))}),U.size===0)return[];let $=GE(s);return z&&U.size>0&&$.searchParams.set("_routes",e.filter(q=>U.has(q.route.id)).map(q=>q.route.id).join(",")),[$.pathname+$.search]},[y,l,c,v,e,s,f]),N=Se.useMemo(()=>jE(w,c),[w,c]),k=QE(w);return Se.createElement(Se.Fragment,null,S.map(U=>Se.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),N.map(U=>Se.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),k.map(({key:U,link:z})=>Se.createElement("link",{key:U,...z})))}function ZE(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Wg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wg&&(window.__reactRouterVersion="7.0.2")}catch{}function JE({basename:s,children:e,window:n}){let l=Se.useRef();l.current==null&&(l.current=jy({window:n,v5Compat:!0}));let c=l.current,[f,y]=Se.useState({action:c.action,location:c.location}),x=Se.useCallback(v=>{Se.startTransition(()=>y(v))},[y]);return Se.useLayoutEffect(()=>c.listen(x),[c,x]),Se.createElement(bE,{basename:s,children:e,location:f.location,navigationType:f.action,navigator:c})}var Gg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yg=Se.forwardRef(function({onClick:e,discover:n="render",prefetch:l="none",relative:c,reloadDocument:f,replace:y,state:x,target:v,to:w,preventScrollReset:S,viewTransition:N,...k},U){let{basename:z}=Se.useContext(_o),$=typeof w=="string"&&Gg.test(w),q,j=!1;if(typeof w=="string"&&$&&(q=w,Wg))try{let D=new URL(window.location.href),X=w.startsWith("//")?new URL(D.protocol+w):new URL(w),G=ya(X.pathname,z);X.origin===D.origin&&G!=null?w=G+X.search+X.hash:j=!0}catch{mo(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=dE(w,{relative:c}),[J,se,Ee]=XE(l,k),Te=rw(w,{replace:y,state:x,target:v,preventScrollReset:S,relative:c,viewTransition:N});function H(D){e&&e(D),D.defaultPrevented||Te(D)}let F=Se.createElement("a",{...k,...Ee,href:q||Q,onClick:j||f?e:H,ref:ZE(U,se),target:v,"data-discover":!$&&n==="render"?"true":void 0});return J&&!$?Se.createElement(Se.Fragment,null,F,Se.createElement(KE,{page:Q})):F});Yg.displayName="Link";var ew=Se.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:l="",end:c=!1,style:f,to:y,viewTransition:x,children:v,...w},S){let N=$u(y,{relative:w.relative}),k=nl(),U=Se.useContext(Nh),{navigator:z,basename:$}=Se.useContext(_o),q=U!=null&&lw(N)&&x===!0,j=z.encodeLocation?z.encodeLocation(N).pathname:N.pathname,Q=k.pathname,J=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),J=J?J.toLowerCase():null,j=j.toLowerCase()),J&&$&&(J=ya(J,$)||J);const se=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let Ee=Q===j||!c&&Q.startsWith(j)&&Q.charAt(se)==="/",Te=J!=null&&(J===j||!c&&J.startsWith(j)&&J.charAt(j.length)==="/"),H={isActive:Ee,isPending:Te,isTransitioning:q},F=Ee?e:void 0,D;typeof l=="function"?D=l(H):D=[l,Ee?"active":null,Te?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let X=typeof f=="function"?f(H):f;return Se.createElement(Yg,{...w,"aria-current":F,className:D,ref:S,style:X,to:y,viewTransition:x},typeof v=="function"?v(H):v)});ew.displayName="NavLink";var tw=Se.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:l,replace:c,state:f,method:y=th,action:x,onSubmit:v,relative:w,preventScrollReset:S,viewTransition:N,...k},U)=>{let z=ow(),$=aw(x,{relative:w}),q=y.toLowerCase()==="get"?"get":"post",j=typeof x=="string"&&Gg.test(x),Q=J=>{if(v&&v(J),J.defaultPrevented)return;J.preventDefault();let se=J.nativeEvent.submitter,Ee=(se==null?void 0:se.getAttribute("formmethod"))||y;z(se||J.currentTarget,{fetcherKey:e,method:Ee,navigate:n,replace:c,state:f,relative:w,preventScrollReset:S,viewTransition:N})};return Se.createElement("form",{ref:U,method:q,action:$,onSubmit:l?v:Q,...k,"data-discover":!j&&s==="render"?"true":void 0})});tw.displayName="Form";function nw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $g(s){let e=Se.useContext(Vl);return Zn(e,nw(s)),e}function rw(s,{target:e,replace:n,state:l,preventScrollReset:c,relative:f,viewTransition:y}={}){let x=Yu(),v=nl(),w=$u(s,{relative:f});return Se.useCallback(S=>{if(LE(S,e)){S.preventDefault();let N=n!==void 0?n:Lu(v)===Lu(w);x(s,{replace:N,state:l,preventScrollReset:c,relative:f,viewTransition:y})}},[v,x,w,n,l,e,s,c,f,y])}var iw=0,sw=()=>`__${String(++iw)}__`;function ow(){let{router:s}=$g("useSubmit"),{basename:e}=Se.useContext(_o),n=CE();return Se.useCallback(async(l,c={})=>{let{action:f,method:y,encType:x,formData:v,body:w}=BE(l,e);if(c.navigate===!1){let S=c.fetcherKey||sw();await s.fetch(S,n,c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:w,formMethod:c.method||y,formEncType:c.encType||x,flushSync:c.flushSync})}else await s.navigate(c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:w,formMethod:c.method||y,formEncType:c.encType||x,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,e,n])}function aw(s,{relative:e}={}){let{basename:n}=Se.useContext(_o),l=Se.useContext(Wo);Zn(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),f={...$u(s||".",{relative:e})},y=nl();if(s==null){f.search=y.search;let x=new URLSearchParams(f.search),v=x.getAll("index");if(v.some(S=>S==="")){x.delete("index"),v.filter(N=>N).forEach(N=>x.append("index",N));let S=x.toString();f.search=S?`?${S}`:""}}return(!s||s===".")&&c.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(f.pathname=f.pathname==="/"?n:Vo([n,f.pathname])),Lu(f)}function lw(s,e={}){let n=Se.useContext(Fg);Zn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=$g("useViewTransitionState"),c=$u(s,{relative:e.relative});if(!n.isTransitioning)return!1;let f=ya(n.currentLocation.pathname,l)||n.currentLocation.pathname,y=ya(n.nextLocation.pathname,l)||n.nextLocation.pathname;return ch(c.pathname,y)!=null||ch(c.pathname,f)!=null}new TextEncoder;const uw="/My-Scanner/assets/qr-img-1-BrImTO9y.png",cw=()=>{const s=Yu();return Ce.jsx("div",{className:"home-container container py-5 d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:Ce.jsxs("div",{className:"row align-items-center w-100",children:[Ce.jsxs("div",{className:"col-md-6 col-12 mb-4 text-center text-md-start",children:[Ce.jsx("h1",{className:"display-4 text-primary mb-4",children:"SCAN QR CODE"}),Ce.jsx("p",{className:"lead mb-4",children:"Effortlessly convert URLs into QR codes and decode QR codes back into links, simplifying sharing and accessing content in one seamless platform."}),Ce.jsx("button",{type:"button",className:"btn btn-primary btn-lg",onClick:()=>{s("/about")},children:"Read more"})]}),Ce.jsx("div",{className:"col-md-6 col-12 d-flex justify-content-center",children:Ce.jsx("div",{className:"image-container",children:Ce.jsx("img",{src:uw,alt:"QR Code",className:"qr-image img-fluid rounded"})})})]})})},Xg=()=>{const s=Yu();return Ce.jsxs("div",{className:"container py-5",children:[Ce.jsx("h1",{className:"display-4 text-center text-primary mb-4",children:"About Our QR Reader & Generator"}),Ce.jsx("p",{className:"lead text-center mb-4",children:"Welcome to the ultimate destination for all your QR code needs! Whether you're looking to decode a QR code or generate your own, our platform offers a seamless and intuitive experience that caters to individuals, businesses, and developers alike."}),Ce.jsx("h2",{className:"my-4",children:"Who We Are"}),Ce.jsx("p",{children:"We are a team of tech enthusiasts and digital innovators dedicated to making the world of QR codes accessible and user-friendly for everyone. Understanding the importance of QR codes in today's digital landscape, we've created a powerful yet easy-to-use tool that simplifies the process of reading and generating QR codes. Our mission is to empower users with the tools they need to connect, share, and access information effortlessly."}),Ce.jsx("h2",{className:"my-4",children:"What We Offer"}),Ce.jsx("h3",{className:"h4",children:"Instant QR Code Reading"}),Ce.jsx("p",{children:"Our QR Reader is fast, accurate, and compatible with all types of QR codes. Whether it's a URL, text, contact information, or a Wi-Fi password, our reader will decode it in seconds. Simply upload an image or scan a code directly with your device's camera, and get instant access to the content hidden within."}),Ce.jsx("h3",{className:"h4",children:"Custom QR Code Generation"}),Ce.jsx("p",{children:"Need to create your own QR code? Our QR Generator offers a variety of customization options to suit your specific needs. Whether you're a business looking to create branded QR codes, or an individual wanting to share personal links, our tool allows you to generate high-quality QR codes that are both functional and visually appealing."}),Ce.jsx("h3",{className:"h4",children:"Versatile Applications"}),Ce.jsx("p",{children:"QR codes are more than just a trend—they're a versatile tool for communication and interaction in the digital world. From marketing campaigns and product labeling to event management and personal sharing, our platform supports all your QR code use cases. Explore the endless possibilities of how QR codes can enhance your digital presence."}),Ce.jsx("h3",{className:"h4",children:"User-Friendly Interface"}),Ce.jsx("p",{children:"We believe in simplicity and efficiency. Our web platform is designed to be user-friendly, with a clean interface that makes QR code reading and generating a breeze. Whether you're tech-savvy or a beginner, you'll find our tools intuitive and easy to use."}),Ce.jsx("h3",{className:"h4",children:"Privacy and Security"}),Ce.jsx("p",{children:"Your data privacy is our top priority. We ensure that your QR codes are generated and read with the utmost security. We don't store any personal information unless you explicitly choose to, giving you full control over your data."}),Ce.jsx("h2",{className:"my-4",children:"Why Choose Us?"}),Ce.jsxs("ul",{className:"list-unstyled",children:[Ce.jsxs("li",{children:[Ce.jsx("strong",{children:"Fast and Reliable:"})," Our platform is optimized for speed and accuracy, ensuring that you can read and generate QR codes in a matter of seconds."]}),Ce.jsxs("li",{children:[Ce.jsx("strong",{children:"Customizable Options:"})," Tailor your QR codes to your specific needs with a range of customization features."]}),Ce.jsxs("li",{children:[Ce.jsx("strong",{children:"Cross-Platform Compatibility:"})," Our tools work seamlessly across all devices and operating systems."]}),Ce.jsxs("li",{children:[Ce.jsx("strong",{children:"No Software Required:"})," Everything is web-based, so you can access our tools anytime, anywhere, without the need for downloads or installations."]}),Ce.jsxs("li",{children:[Ce.jsx("strong",{children:"Comprehensive Support:"})," We're here to help! Our support team is available to assist with any questions or issues you might encounter."]})]}),Ce.jsx("h2",{className:"my-4",children:"Join the QR Revolution"}),Ce.jsx("p",{children:"Whether you're looking to simplify your life with QR codes, enhance your business operations, or just explore the potential of this powerful tool, our platform is your go-to resource. Join the thousands of users who trust us for their QR code needs, and take your digital interactions to the next level."}),Ce.jsx("p",{children:"Explore our QR Reader and Generator today and unlock the full potential of QR technology!"}),Ce.jsx("div",{className:"text-center",children:Ce.jsx("button",{type:"button",className:"btn btn-primary btn-lg",onClick:()=>{s("/")},children:"Go back"})})]})};class Xu{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const hw=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},qr={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:hw()},Yd=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},fw=(s,e="https://api.emailjs.com")=>{if(!s)return;const n=Yd(s);qr.publicKey=n.publicKey,qr.blockHeadless=n.blockHeadless,qr.storageProvider=n.storageProvider,qr.blockList=n.blockList,qr.limitRate=n.limitRate,qr.origin=n.origin||e},Kg=async(s,e,n={})=>{const l=await fetch(qr.origin+s,{method:"POST",headers:n,body:e}),c=await l.text(),f=new Xu(l.status,c);if(l.ok)return f;throw f},Qg=(s,e,n)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},dw=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},qg=s=>s.webdriver||!s.languages||s.languages.length===0,Zg=()=>new Xu(451,"Unavailable For Headless Browser"),pw=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},gw=s=>{var e;return!((e=s.list)!=null&&e.length)||!s.watchVariable},mw=(s,e)=>s instanceof FormData?s.get(e):s[e],Jg=(s,e)=>{if(gw(s))return!1;pw(s.list,s.watchVariable);const n=mw(e,s.watchVariable);return typeof n!="string"?!1:s.list.includes(n)},em=()=>new Xu(403,"Forbidden"),yw=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},Ew=async(s,e,n)=>{const l=Number(await n.get(s)||0);return e-Date.now()+l},tm=async(s,e,n)=>{if(!e.throttle||!n)return!1;yw(e.throttle,e.id);const l=e.id||s;return await Ew(l,e.throttle,n)>0?!0:(await n.set(l,Date.now().toString()),!1)},nm=()=>new Xu(429,"Too Many Requests"),ww=async(s,e,n,l)=>{const c=Yd(l),f=c.publicKey||qr.publicKey,y=c.blockHeadless||qr.blockHeadless,x=c.storageProvider||qr.storageProvider,v={...qr.blockList,...c.blockList},w={...qr.limitRate,...c.limitRate};return y&&qg(navigator)?Promise.reject(Zg()):(Qg(f,s,e),dw(n),n&&Jg(v,n)?Promise.reject(em()):await tm(location.pathname,w,x)?Promise.reject(nm()):Kg("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:f,service_id:s,template_id:e,template_params:n}),{"Content-type":"application/json"}))},_w=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},xw=s=>typeof s=="string"?document.querySelector(s):s,vw=async(s,e,n,l)=>{const c=Yd(l),f=c.publicKey||qr.publicKey,y=c.blockHeadless||qr.blockHeadless,x=qr.storageProvider||c.storageProvider,v={...qr.blockList,...c.blockList},w={...qr.limitRate,...c.limitRate};if(y&&qg(navigator))return Promise.reject(Zg());const S=xw(n);Qg(f,s,e),_w(S);const N=new FormData(S);return Jg(v,N)?Promise.reject(em()):await tm(location.pathname,w,x)?Promise.reject(nm()):(N.append("lib_version","4.4.1"),N.append("service_id",s),N.append("template_id",e),N.append("user_id",f),Kg("/api/v1.0/email/send-form",N))},Aw={init:fw,send:ww,sendForm:vw,EmailJSResponseStatus:Xu};var rh={exports:{}},Cw=rh.exports,sp;function Tw(){return sp||(sp=1,function(s,e){(function(n,l){s.exports=l()})(Cw,function(){return function(n){function l(f){if(c[f])return c[f].exports;var y=c[f]={i:f,l:!1,exports:{}};return n[f].call(y.exports,y,y.exports,l),y.l=!0,y.exports}var c={};return l.m=n,l.c=c,l.d=function(f,y,x){l.o(f,y)||Object.defineProperty(f,y,{configurable:!1,enumerable:!0,get:x})},l.n=function(f){var y=f&&f.__esModule?function(){return f.default}:function(){return f};return l.d(y,"a",y),y},l.o=function(f,y){return Object.prototype.hasOwnProperty.call(f,y)},l.p="",l(l.s=8)}([function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f="swal-button";l.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:f,CONFIRM_BUTTON:f+"--confirm",CANCEL_BUTTON:f+"--cancel",DANGER_BUTTON:f+"--danger",BUTTON_LOADING:f+"--loading",BUTTON_LOADER:f+"__loader"},l.default=l.CLASS_NAMES},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.getNode=function(f){var y="."+f;return document.querySelector(y)},l.stringToNode=function(f){var y=document.createElement("div");return y.innerHTML=f.trim(),y.firstChild},l.insertAfter=function(f,y){var x=y.nextSibling;y.parentNode.insertBefore(f,x)},l.removeNode=function(f){f.parentElement.removeChild(f)},l.throwErr=function(f){throw f=f.replace(/ +(?= )/g,""),"SweetAlert: "+(f=f.trim())},l.isPlainObject=function(f){if(Object.prototype.toString.call(f)!=="[object Object]")return!1;var y=Object.getPrototypeOf(f);return y===null||y===Object.prototype},l.ordinalSuffixOf=function(f){var y=f%10,x=f%100;return y===1&&x!==11?f+"st":y===2&&x!==12?f+"nd":y===3&&x!==13?f+"rd":f+"th"}},function(n,l,c){function f(k){for(var U in k)l.hasOwnProperty(U)||(l[U]=k[U])}Object.defineProperty(l,"__esModule",{value:!0}),f(c(25));var y=c(26);l.overlayMarkup=y.default,f(c(27)),f(c(28)),f(c(29));var x=c(0),v=x.default.MODAL_TITLE,w=x.default.MODAL_TEXT,S=x.default.ICON,N=x.default.FOOTER;l.iconMarkup=`
  <div class="`+S+'"></div>',l.titleMarkup=`
  <div class="`+v+`"></div>
`,l.textMarkup=`
  <div class="`+w+'"></div>',l.footerMarkup=`
  <div class="`+N+`"></div>
`},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(1);l.CONFIRM_KEY="confirm",l.CANCEL_KEY="cancel";var y={visible:!0,text:null,value:null,className:"",closeModal:!0},x=Object.assign({},y,{visible:!1,text:"Cancel",value:null}),v=Object.assign({},y,{text:"OK",value:!0});l.defaultButtonList={cancel:x,confirm:v};var w=function(U){switch(U){case l.CONFIRM_KEY:return v;case l.CANCEL_KEY:return x;default:var z=U.charAt(0).toUpperCase()+U.slice(1);return Object.assign({},y,{text:z,value:U})}},S=function(U,z){var $=w(U);return z===!0?Object.assign({},$,{visible:!0}):typeof z=="string"?Object.assign({},$,{visible:!0,text:z}):f.isPlainObject(z)?Object.assign({visible:!0},$,z):Object.assign({},$,{visible:!1})},N=function(U){for(var z={},$=0,q=Object.keys(U);$<q.length;$++){var j=q[$],Q=U[j],J=S(j,Q);z[j]=J}return z.cancel||(z.cancel=x),z},k=function(U){var z={};switch(U.length){case 1:z[l.CANCEL_KEY]=Object.assign({},x,{visible:!1});break;case 2:z[l.CANCEL_KEY]=S(l.CANCEL_KEY,U[0]),z[l.CONFIRM_KEY]=S(l.CONFIRM_KEY,U[1]);break;default:f.throwErr("Invalid number of 'buttons' in array ("+U.length+`).
      If you want more than 2 buttons, you need to use an object!`)}return z};l.getButtonListOpts=function(U){var z=l.defaultButtonList;return typeof U=="string"?z[l.CONFIRM_KEY]=S(l.CONFIRM_KEY,U):Array.isArray(U)?z=k(U):f.isPlainObject(U)?z=N(U):U===!0?z=k([!0,!0]):U===!1?z=k([!1,!1]):U===void 0&&(z=l.defaultButtonList),z}},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(1),y=c(2),x=c(0),v=x.default.MODAL,w=x.default.OVERLAY,S=c(30),N=c(31),k=c(32),U=c(33);l.injectElIntoModal=function(j){var Q=f.getNode(v),J=f.stringToNode(j);return Q.appendChild(J),J};var z=function(j){j.className=v,j.textContent=""},$=function(j,Q){z(j);var J=Q.className;J&&j.classList.add(J)};l.initModalContent=function(j){var Q=f.getNode(v);$(Q,j),S.default(j.icon),N.initTitle(j.title),N.initText(j.text),U.default(j.content),k.default(j.buttons,j.dangerMode)};var q=function(){var j=f.getNode(w),Q=f.stringToNode(y.modalMarkup);j.appendChild(Q)};l.default=q},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(3),y={isOpen:!1,promise:null,actions:{},timer:null},x=Object.assign({},y);l.resetState=function(){x=Object.assign({},y)},l.setActionValue=function(w){if(typeof w=="string")return v(f.CONFIRM_KEY,w);for(var S in w)v(S,w[S])};var v=function(w,S){x.actions[w]||(x.actions[w]={}),Object.assign(x.actions[w],{value:S})};l.setActionOptionsFor=function(w,S){var N=(S===void 0?{}:S).closeModal,k=N===void 0||N;Object.assign(x.actions[w],{closeModal:k})},l.default=x},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(1),y=c(3),x=c(0),v=x.default.OVERLAY,w=x.default.SHOW_MODAL,S=x.default.BUTTON,N=x.default.BUTTON_LOADING,k=c(5);l.openModal=function(){f.getNode(v).classList.add(w),k.default.isOpen=!0};var U=function(){f.getNode(v).classList.remove(w),k.default.isOpen=!1};l.onAction=function(z){z===void 0&&(z=y.CANCEL_KEY);var $=k.default.actions[z],q=$.value;if($.closeModal===!1){var j=S+"--"+z;f.getNode(j).classList.add(N)}else U();k.default.promise.resolve(q)},l.getState=function(){var z=Object.assign({},k.default);return delete z.promise,delete z.timer,z},l.stopLoading=function(){for(var z=document.querySelectorAll("."+S),$=0;$<z.length;$++)z[$].classList.remove(N)}},function(n,l){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(c=window)}n.exports=c},function(n,l,c){(function(f){n.exports=f.sweetAlert=c(9)}).call(l,c(7))},function(n,l,c){(function(f){n.exports=f.swal=c(10)}).call(l,c(7))},function(n,l,c){typeof window<"u"&&c(11),c(16);var f=c(23).default;n.exports=f},function(n,l,c){var f=c(12);typeof f=="string"&&(f=[[n.i,f,""]]);var y={insertAt:"top"};y.transform=void 0,c(14)(f,y),f.locals&&(n.exports=f.locals)},function(n,l,c){l=n.exports=c(13)(void 0),l.push([n.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(n,l){function c(y,x){var v=y[1]||"",w=y[3];if(!w)return v;if(x&&typeof btoa=="function"){var S=f(w);return[v].concat(w.sources.map(function(N){return"/*# sourceURL="+w.sourceRoot+N+" */"})).concat([S]).join(`
`)}return[v].join(`
`)}function f(y){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(y))))+" */"}n.exports=function(y){var x=[];return x.toString=function(){return this.map(function(v){var w=c(v,y);return v[2]?"@media "+v[2]+"{"+w+"}":w}).join("")},x.i=function(v,w){typeof v=="string"&&(v=[[null,v,""]]);for(var S={},N=0;N<this.length;N++){var k=this[N][0];typeof k=="number"&&(S[k]=!0)}for(N=0;N<v.length;N++){var U=v[N];typeof U[0]=="number"&&S[U[0]]||(w&&!U[2]?U[2]=w:w&&(U[2]="("+U[2]+") and ("+w+")"),x.push(U))}},x}},function(n,l,c){function f(F,D){for(var X=0;X<F.length;X++){var G=F[X],ee=q[G.id];if(ee){ee.refs++;for(var Y=0;Y<ee.parts.length;Y++)ee.parts[Y](G.parts[Y]);for(;Y<G.parts.length;Y++)ee.parts.push(k(G.parts[Y],D))}else{for(var $e=[],Y=0;Y<G.parts.length;Y++)$e.push(k(G.parts[Y],D));q[G.id]={id:G.id,refs:1,parts:$e}}}}function y(F,D){for(var X=[],G={},ee=0;ee<F.length;ee++){var Y=F[ee],$e=D.base?Y[0]+D.base:Y[0],he=Y[1],st=Y[2],ze=Y[3],ke={css:he,media:st,sourceMap:ze};G[$e]?G[$e].parts.push(ke):X.push(G[$e]={id:$e,parts:[ke]})}return X}function x(F,D){var X=Q(F.insertInto);if(!X)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var G=Ee[Ee.length-1];if(F.insertAt==="top")G?G.nextSibling?X.insertBefore(D,G.nextSibling):X.appendChild(D):X.insertBefore(D,X.firstChild),Ee.push(D);else{if(F.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");X.appendChild(D)}}function v(F){if(F.parentNode===null)return!1;F.parentNode.removeChild(F);var D=Ee.indexOf(F);D>=0&&Ee.splice(D,1)}function w(F){var D=document.createElement("style");return F.attrs.type="text/css",N(D,F.attrs),x(F,D),D}function S(F){var D=document.createElement("link");return F.attrs.type="text/css",F.attrs.rel="stylesheet",N(D,F.attrs),x(F,D),D}function N(F,D){Object.keys(D).forEach(function(X){F.setAttribute(X,D[X])})}function k(F,D){var X,G,ee,Y;if(D.transform&&F.css){if(!(Y=D.transform(F.css)))return function(){};F.css=Y}if(D.singleton){var $e=se++;X=J||(J=w(D)),G=U.bind(null,X,$e,!1),ee=U.bind(null,X,$e,!0)}else F.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(X=S(D),G=$.bind(null,X,D),ee=function(){v(X),X.href&&URL.revokeObjectURL(X.href)}):(X=w(D),G=z.bind(null,X),ee=function(){v(X)});return G(F),function(he){if(he){if(he.css===F.css&&he.media===F.media&&he.sourceMap===F.sourceMap)return;G(F=he)}else ee()}}function U(F,D,X,G){var ee=X?"":G.css;if(F.styleSheet)F.styleSheet.cssText=H(D,ee);else{var Y=document.createTextNode(ee),$e=F.childNodes;$e[D]&&F.removeChild($e[D]),$e.length?F.insertBefore(Y,$e[D]):F.appendChild(Y)}}function z(F,D){var X=D.css,G=D.media;if(G&&F.setAttribute("media",G),F.styleSheet)F.styleSheet.cssText=X;else{for(;F.firstChild;)F.removeChild(F.firstChild);F.appendChild(document.createTextNode(X))}}function $(F,D,X){var G=X.css,ee=X.sourceMap,Y=D.convertToAbsoluteUrls===void 0&&ee;(D.convertToAbsoluteUrls||Y)&&(G=Te(G)),ee&&(G+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(ee))))+" */");var $e=new Blob([G],{type:"text/css"}),he=F.href;F.href=URL.createObjectURL($e),he&&URL.revokeObjectURL(he)}var q={},j=function(F){var D;return function(){return D===void 0&&(D=F.apply(this,arguments)),D}}(function(){return window&&document&&document.all&&!window.atob}),Q=function(F){var D={};return function(X){return D[X]===void 0&&(D[X]=F.call(this,X)),D[X]}}(function(F){return document.querySelector(F)}),J=null,se=0,Ee=[],Te=c(15);n.exports=function(F,D){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");D=D||{},D.attrs=typeof D.attrs=="object"?D.attrs:{},D.singleton||(D.singleton=j()),D.insertInto||(D.insertInto="head"),D.insertAt||(D.insertAt="bottom");var X=y(F,D);return f(X,D),function(G){for(var ee=[],Y=0;Y<X.length;Y++){var $e=X[Y],he=q[$e.id];he.refs--,ee.push(he)}G&&f(y(G,D),D);for(var Y=0;Y<ee.length;Y++){var he=ee[Y];if(he.refs===0){for(var st=0;st<he.parts.length;st++)he.parts[st]();delete q[he.id]}}}};var H=function(){var F=[];return function(D,X){return F[D]=X,F.filter(Boolean).join(`
`)}}()},function(n,l){n.exports=function(c){var f=typeof window<"u"&&window.location;if(!f)throw new Error("fixUrls requires window.location");if(!c||typeof c!="string")return c;var y=f.protocol+"//"+f.host,x=y+f.pathname.replace(/\/[^\/]*$/,"/");return c.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(v,w){var S=w.trim().replace(/^"(.*)"$/,function(k,U){return U}).replace(/^'(.*)'$/,function(k,U){return U});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(S))return v;var N;return N=S.indexOf("//")===0?S:S.indexOf("/")===0?y+S:x+S.replace(/^\.\//,""),"url("+JSON.stringify(N)+")"})}},function(n,l,c){var f=c(17);typeof window>"u"||window.Promise||(window.Promise=f),c(21),String.prototype.includes||(String.prototype.includes=function(y,x){return typeof x!="number"&&(x=0),!(x+y.length>this.length)&&this.indexOf(y,x)!==-1}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(y,x){if(this==null)throw new TypeError('"this" is null or not defined');var v=Object(this),w=v.length>>>0;if(w===0)return!1;for(var S=0|x,N=Math.max(S>=0?S:w-Math.abs(S),0);N<w;){if(function(k,U){return k===U||typeof k=="number"&&typeof U=="number"&&isNaN(k)&&isNaN(U)}(v[N],y))return!0;N++}return!1}}),typeof window<"u"&&function(y){y.forEach(function(x){x.hasOwnProperty("remove")||Object.defineProperty(x,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(n,l,c){(function(f){(function(y){function x(){}function v(j,Q){return function(){j.apply(Q,arguments)}}function w(j){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof j!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],$(j,this)}function S(j,Q){for(;j._state===3;)j=j._value;if(j._state===0)return void j._deferreds.push(Q);j._handled=!0,w._immediateFn(function(){var J=j._state===1?Q.onFulfilled:Q.onRejected;if(J===null)return void(j._state===1?N:k)(Q.promise,j._value);var se;try{se=J(j._value)}catch(Ee){return void k(Q.promise,Ee)}N(Q.promise,se)})}function N(j,Q){try{if(Q===j)throw new TypeError("A promise cannot be resolved with itself.");if(Q&&(typeof Q=="object"||typeof Q=="function")){var J=Q.then;if(Q instanceof w)return j._state=3,j._value=Q,void U(j);if(typeof J=="function")return void $(v(J,Q),j)}j._state=1,j._value=Q,U(j)}catch(se){k(j,se)}}function k(j,Q){j._state=2,j._value=Q,U(j)}function U(j){j._state===2&&j._deferreds.length===0&&w._immediateFn(function(){j._handled||w._unhandledRejectionFn(j._value)});for(var Q=0,J=j._deferreds.length;Q<J;Q++)S(j,j._deferreds[Q]);j._deferreds=null}function z(j,Q,J){this.onFulfilled=typeof j=="function"?j:null,this.onRejected=typeof Q=="function"?Q:null,this.promise=J}function $(j,Q){var J=!1;try{j(function(se){J||(J=!0,N(Q,se))},function(se){J||(J=!0,k(Q,se))})}catch(se){if(J)return;J=!0,k(Q,se)}}var q=setTimeout;w.prototype.catch=function(j){return this.then(null,j)},w.prototype.then=function(j,Q){var J=new this.constructor(x);return S(this,new z(j,Q,J)),J},w.all=function(j){var Q=Array.prototype.slice.call(j);return new w(function(J,se){function Ee(F,D){try{if(D&&(typeof D=="object"||typeof D=="function")){var X=D.then;if(typeof X=="function")return void X.call(D,function(G){Ee(F,G)},se)}Q[F]=D,--Te==0&&J(Q)}catch(G){se(G)}}if(Q.length===0)return J([]);for(var Te=Q.length,H=0;H<Q.length;H++)Ee(H,Q[H])})},w.resolve=function(j){return j&&typeof j=="object"&&j.constructor===w?j:new w(function(Q){Q(j)})},w.reject=function(j){return new w(function(Q,J){J(j)})},w.race=function(j){return new w(function(Q,J){for(var se=0,Ee=j.length;se<Ee;se++)j[se].then(Q,J)})},w._immediateFn=typeof f=="function"&&function(j){f(j)}||function(j){q(j,0)},w._unhandledRejectionFn=function(j){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",j)},w._setImmediateFn=function(j){w._immediateFn=j},w._setUnhandledRejectionFn=function(j){w._unhandledRejectionFn=j},n!==void 0&&n.exports?n.exports=w:y.Promise||(y.Promise=w)})(this)}).call(l,c(18).setImmediate)},function(n,l,c){function f(x,v){this._id=x,this._clearFn=v}var y=Function.prototype.apply;l.setTimeout=function(){return new f(y.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new f(y.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(x){x&&x.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(x,v){clearTimeout(x._idleTimeoutId),x._idleTimeout=v},l.unenroll=function(x){clearTimeout(x._idleTimeoutId),x._idleTimeout=-1},l._unrefActive=l.active=function(x){clearTimeout(x._idleTimeoutId);var v=x._idleTimeout;v>=0&&(x._idleTimeoutId=setTimeout(function(){x._onTimeout&&x._onTimeout()},v))},c(19),l.setImmediate=setImmediate,l.clearImmediate=clearImmediate},function(n,l,c){(function(f,y){(function(x,v){function w(J){typeof J!="function"&&(J=new Function(""+J));for(var se=new Array(arguments.length-1),Ee=0;Ee<se.length;Ee++)se[Ee]=arguments[Ee+1];var Te={callback:J,args:se};return $[z]=Te,U(z),z++}function S(J){delete $[J]}function N(J){var se=J.callback,Ee=J.args;switch(Ee.length){case 0:se();break;case 1:se(Ee[0]);break;case 2:se(Ee[0],Ee[1]);break;case 3:se(Ee[0],Ee[1],Ee[2]);break;default:se.apply(v,Ee)}}function k(J){if(q)setTimeout(k,0,J);else{var se=$[J];if(se){q=!0;try{N(se)}finally{S(J),q=!1}}}}if(!x.setImmediate){var U,z=1,$={},q=!1,j=x.document,Q=Object.getPrototypeOf&&Object.getPrototypeOf(x);Q=Q&&Q.setTimeout?Q:x,{}.toString.call(x.process)==="[object process]"?function(){U=function(J){y.nextTick(function(){k(J)})}}():function(){if(x.postMessage&&!x.importScripts){var J=!0,se=x.onmessage;return x.onmessage=function(){J=!1},x.postMessage("","*"),x.onmessage=se,J}}()?function(){var J="setImmediate$"+Math.random()+"$",se=function(Ee){Ee.source===x&&typeof Ee.data=="string"&&Ee.data.indexOf(J)===0&&k(+Ee.data.slice(J.length))};x.addEventListener?x.addEventListener("message",se,!1):x.attachEvent("onmessage",se),U=function(Ee){x.postMessage(J+Ee,"*")}}():x.MessageChannel?function(){var J=new MessageChannel;J.port1.onmessage=function(se){k(se.data)},U=function(se){J.port2.postMessage(se)}}():j&&"onreadystatechange"in j.createElement("script")?function(){var J=j.documentElement;U=function(se){var Ee=j.createElement("script");Ee.onreadystatechange=function(){k(se),Ee.onreadystatechange=null,J.removeChild(Ee),Ee=null},J.appendChild(Ee)}}():function(){U=function(J){setTimeout(k,0,J)}}(),Q.setImmediate=w,Q.clearImmediate=S}})(typeof self>"u"?f===void 0?this:f:self)}).call(l,c(7),c(20))},function(n,l){function c(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function y(J){if(k===setTimeout)return setTimeout(J,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(J,0);try{return k(J,0)}catch{try{return k.call(null,J,0)}catch{return k.call(this,J,0)}}}function x(J){if(U===clearTimeout)return clearTimeout(J);if((U===f||!U)&&clearTimeout)return U=clearTimeout,clearTimeout(J);try{return U(J)}catch{try{return U.call(null,J)}catch{return U.call(this,J)}}}function v(){j&&$&&(j=!1,$.length?q=$.concat(q):Q=-1,q.length&&w())}function w(){if(!j){var J=y(v);j=!0;for(var se=q.length;se;){for($=q,q=[];++Q<se;)$&&$[Q].run();Q=-1,se=q.length}$=null,j=!1,x(J)}}function S(J,se){this.fun=J,this.array=se}function N(){}var k,U,z=n.exports={};(function(){try{k=typeof setTimeout=="function"?setTimeout:c}catch{k=c}try{U=typeof clearTimeout=="function"?clearTimeout:f}catch{U=f}})();var $,q=[],j=!1,Q=-1;z.nextTick=function(J){var se=new Array(arguments.length-1);if(arguments.length>1)for(var Ee=1;Ee<arguments.length;Ee++)se[Ee-1]=arguments[Ee];q.push(new S(J,se)),q.length!==1||j||y(w)},S.prototype.run=function(){this.fun.apply(null,this.array)},z.title="browser",z.browser=!0,z.env={},z.argv=[],z.version="",z.versions={},z.on=N,z.addListener=N,z.once=N,z.off=N,z.removeListener=N,z.removeAllListeners=N,z.emit=N,z.prependListener=N,z.prependOnceListener=N,z.listeners=function(J){return[]},z.binding=function(J){throw new Error("process.binding is not supported")},z.cwd=function(){return"/"},z.chdir=function(J){throw new Error("process.chdir is not supported")},z.umask=function(){return 0}},function(n,l,c){c(22).polyfill()},function(n,l,c){function f(x,v){if(x==null)throw new TypeError("Cannot convert first argument to object");for(var w=Object(x),S=1;S<arguments.length;S++){var N=arguments[S];if(N!=null)for(var k=Object.keys(Object(N)),U=0,z=k.length;U<z;U++){var $=k[U],q=Object.getOwnPropertyDescriptor(N,$);q!==void 0&&q.enumerable&&(w[$]=N[$])}}return w}function y(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:f})}n.exports={assign:f,polyfill:y}},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(24),y=c(6),x=c(5),v=c(36),w=function(){for(var S=[],N=0;N<arguments.length;N++)S[N]=arguments[N];if(typeof window<"u"){var k=v.getOpts.apply(void 0,S);return new Promise(function(U,z){x.default.promise={resolve:U,reject:z},f.default(k),setTimeout(function(){y.openModal()})})}};w.close=y.onAction,w.getState=y.getState,w.setActionValue=x.setActionValue,w.stopLoading=y.stopLoading,w.setDefaults=v.setDefaults,l.default=w},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(1),y=c(0),x=y.default.MODAL,v=c(4),w=c(34),S=c(35),N=c(1);l.init=function(k){f.getNode(x)||(document.body||N.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),w.default(),v.default()),v.initModalContent(k),S.default(k)},l.default=l.init},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(0),y=f.default.MODAL;l.modalMarkup=`
  <div class="`+y+'" role="dialog" aria-modal="true"></div>',l.default=l.modalMarkup},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(0),y=f.default.OVERLAY,x=`<div 
    class="`+y+`"
    tabIndex="-1">
  </div>`;l.default=x},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(0),y=f.default.ICON;l.errorIconMarkup=function(){var x=y+"--error",v=x+"__line";return`
    <div class="`+x+`__x-mark">
      <span class="`+v+" "+v+`--left"></span>
      <span class="`+v+" "+v+`--right"></span>
    </div>
  `},l.warningIconMarkup=function(){var x=y+"--warning";return`
    <span class="`+x+`__body">
      <span class="`+x+`__dot"></span>
    </span>
  `},l.successIconMarkup=function(){var x=y+"--success";return`
    <span class="`+x+"__line "+x+`__line--long"></span>
    <span class="`+x+"__line "+x+`__line--tip"></span>

    <div class="`+x+`__ring"></div>
    <div class="`+x+`__hide-corners"></div>
  `}},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(0),y=f.default.CONTENT;l.contentMarkup=`
  <div class="`+y+`">

  </div>
`},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(0),y=f.default.BUTTON_CONTAINER,x=f.default.BUTTON,v=f.default.BUTTON_LOADER;l.buttonMarkup=`
  <div class="`+y+`">

    <button
      class="`+x+`"
    ></button>

    <div class="`+v+`">
      <div></div>
      <div></div>
      <div></div>
    </div>

  </div>
`},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(4),y=c(2),x=c(0),v=x.default.ICON,w=x.default.ICON_CUSTOM,S=["error","warning","success","info"],N={error:y.errorIconMarkup(),warning:y.warningIconMarkup(),success:y.successIconMarkup()},k=function($,q){var j=v+"--"+$;q.classList.add(j);var Q=N[$];Q&&(q.innerHTML=Q)},U=function($,q){q.classList.add(w);var j=document.createElement("img");j.src=$,q.appendChild(j)},z=function($){if($){var q=f.injectElIntoModal(y.iconMarkup);S.includes($)?k($,q):U($,q)}};l.default=z},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(2),y=c(4),x=function(v){navigator.userAgent.includes("AppleWebKit")&&(v.style.display="none",v.offsetHeight,v.style.display="")};l.initTitle=function(v){if(v){var w=y.injectElIntoModal(f.titleMarkup);w.textContent=v,x(w)}},l.initText=function(v){if(v){var w=document.createDocumentFragment();v.split(`
`).forEach(function(N,k,U){w.appendChild(document.createTextNode(N)),k<U.length-1&&w.appendChild(document.createElement("br"))});var S=y.injectElIntoModal(f.textMarkup);S.appendChild(w),x(S)}}},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(1),y=c(4),x=c(0),v=x.default.BUTTON,w=x.default.DANGER_BUTTON,S=c(3),N=c(2),k=c(6),U=c(5),z=function(q,j,Q){var J=j.text,se=j.value,Ee=j.className,Te=j.closeModal,H=f.stringToNode(N.buttonMarkup),F=H.querySelector("."+v),D=v+"--"+q;F.classList.add(D),Ee&&(Array.isArray(Ee)?Ee:Ee.split(" ")).filter(function(G){return G.length>0}).forEach(function(G){F.classList.add(G)}),Q&&q===S.CONFIRM_KEY&&F.classList.add(w),F.textContent=J;var X={};return X[q]=se,U.setActionValue(X),U.setActionOptionsFor(q,{closeModal:Te}),F.addEventListener("click",function(){return k.onAction(q)}),H},$=function(q,j){var Q=y.injectElIntoModal(N.footerMarkup);for(var J in q){var se=q[J],Ee=z(J,se,j);se.visible&&Q.appendChild(Ee)}Q.children.length===0&&Q.remove()};l.default=$},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(3),y=c(4),x=c(2),v=c(5),w=c(6),S=c(0),N=S.default.CONTENT,k=function($){$.addEventListener("input",function(q){var j=q.target,Q=j.value;v.setActionValue(Q)}),$.addEventListener("keyup",function(q){if(q.key==="Enter")return w.onAction(f.CONFIRM_KEY)}),setTimeout(function(){$.focus(),v.setActionValue("")},0)},U=function($,q,j){var Q=document.createElement(q),J=N+"__"+q;Q.classList.add(J);for(var se in j){var Ee=j[se];Q[se]=Ee}q==="input"&&k(Q),$.appendChild(Q)},z=function($){if($){var q=y.injectElIntoModal(x.contentMarkup),j=$.element,Q=$.attributes;typeof j=="string"?U(q,j,Q):q.appendChild(j)}};l.default=z},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(1),y=c(2),x=function(){var v=f.stringToNode(y.overlayMarkup);document.body.appendChild(v)};l.default=x},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(5),y=c(6),x=c(1),v=c(3),w=c(0),S=w.default.MODAL,N=w.default.BUTTON,k=w.default.OVERLAY,U=function(G){G.preventDefault(),Q()},z=function(G){G.preventDefault(),J()},$=function(G){if(f.default.isOpen)switch(G.key){case"Escape":return y.onAction(v.CANCEL_KEY)}},q=function(G){if(f.default.isOpen)switch(G.key){case"Tab":return U(G)}},j=function(G){if(f.default.isOpen)return G.key==="Tab"&&G.shiftKey?z(G):void 0},Q=function(){var G=x.getNode(N);G&&(G.tabIndex=0,G.focus())},J=function(){var G=x.getNode(S),ee=G.querySelectorAll("."+N),Y=ee.length-1,$e=ee[Y];$e&&$e.focus()},se=function(G){G[G.length-1].addEventListener("keydown",q)},Ee=function(G){G[0].addEventListener("keydown",j)},Te=function(){var G=x.getNode(S),ee=G.querySelectorAll("."+N);ee.length&&(se(ee),Ee(ee))},H=function(G){if(x.getNode(k)===G.target)return y.onAction(v.CANCEL_KEY)},F=function(G){var ee=x.getNode(k);ee.removeEventListener("click",H),G&&ee.addEventListener("click",H)},D=function(G){f.default.timer&&clearTimeout(f.default.timer),G&&(f.default.timer=window.setTimeout(function(){return y.onAction(v.CANCEL_KEY)},G))},X=function(G){G.closeOnEsc?document.addEventListener("keyup",$):document.removeEventListener("keyup",$),G.dangerMode?Q():J(),Te(),F(G.closeOnClickOutside),D(G.timer)};l.default=X},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(1),y=c(3),x=c(37),v=c(38),w={title:null,text:null,icon:null,buttons:y.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},S=Object.assign({},w);l.setDefaults=function(j){S=Object.assign({},w,j)};var N=function(j){var Q=j&&j.button,J=j&&j.buttons;return Q!==void 0&&J!==void 0&&f.throwErr("Cannot set both 'button' and 'buttons' options!"),Q!==void 0?{confirm:Q}:J},k=function(j){return f.ordinalSuffixOf(j+1)},U=function(j,Q){f.throwErr(k(Q)+" argument ('"+j+"') is invalid")},z=function(j,Q){var J=j+1,se=Q[J];f.isPlainObject(se)||se===void 0||f.throwErr("Expected "+k(J)+" argument ('"+se+"') to be a plain object")},$=function(j,Q){var J=j+1,se=Q[J];se!==void 0&&f.throwErr("Unexpected "+k(J)+" argument ("+se+")")},q=function(j,Q,J,se){var Ee=typeof Q,Te=Ee==="string",H=Q instanceof Element;if(Te){if(J===0)return{text:Q};if(J===1)return{text:Q,title:se[0]};if(J===2)return z(J,se),{icon:Q};U(Q,J)}else{if(H&&J===0)return z(J,se),{content:Q};if(f.isPlainObject(Q))return $(J,se),Q;U(Q,J)}};l.getOpts=function(){for(var j=[],Q=0;Q<arguments.length;Q++)j[Q]=arguments[Q];var J={};j.forEach(function(Te,H){var F=q(0,Te,H,j);Object.assign(J,F)});var se=N(J);J.buttons=y.getButtonListOpts(se),delete J.button,J.content=x.getContentOpts(J.content);var Ee=Object.assign({},w,S,J);return Object.keys(Ee).forEach(function(Te){v.DEPRECATED_OPTS[Te]&&v.logDeprecation(Te)}),Ee}},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0});var f=c(1),y={element:"input",attributes:{placeholder:""}};l.getContentOpts=function(x){var v={};return f.isPlainObject(x)?Object.assign(v,x):x instanceof Element?{element:x}:x==="input"?y:null}},function(n,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.logDeprecation=function(f){var y=l.DEPRECATED_OPTS[f],x=y.onlyRename,v=y.replacement,w=y.subOption,S=y.link,N=x?"renamed":"deprecated",k='SweetAlert warning: "'+f+'" option has been '+N+".";v&&(k+=" Please use"+(w?' "'+w+'" in ':" ")+'"'+v+'" instead.');var U="https://sweetalert.js.org";k+=S?" More details: "+U+S:" More details: "+U+"/guides/#upgrading-from-1x",console.warn(k)},l.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})}(rh)),rh.exports}var Iw=Tw();const Wa=Ud(Iw);var op={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=function(s){const e=[];let n=0;for(let l=0;l<s.length;l++){let c=s.charCodeAt(l);c<128?e[n++]=c:c<2048?(e[n++]=c>>6|192,e[n++]=c&63|128):(c&64512)===55296&&l+1<s.length&&(s.charCodeAt(l+1)&64512)===56320?(c=65536+((c&1023)<<10)+(s.charCodeAt(++l)&1023),e[n++]=c>>18|240,e[n++]=c>>12&63|128,e[n++]=c>>6&63|128,e[n++]=c&63|128):(e[n++]=c>>12|224,e[n++]=c>>6&63|128,e[n++]=c&63|128)}return e},Sw=function(s){const e=[];let n=0,l=0;for(;n<s.length;){const c=s[n++];if(c<128)e[l++]=String.fromCharCode(c);else if(c>191&&c<224){const f=s[n++];e[l++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){const f=s[n++],y=s[n++],x=s[n++],v=((c&7)<<18|(f&63)<<12|(y&63)<<6|x&63)-65536;e[l++]=String.fromCharCode(55296+(v>>10)),e[l++]=String.fromCharCode(56320+(v&1023))}else{const f=s[n++],y=s[n++];e[l++]=String.fromCharCode((c&15)<<12|(f&63)<<6|y&63)}}return e.join("")},im={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let c=0;c<s.length;c+=3){const f=s[c],y=c+1<s.length,x=y?s[c+1]:0,v=c+2<s.length,w=v?s[c+2]:0,S=f>>2,N=(f&3)<<4|x>>4;let k=(x&15)<<2|w>>6,U=w&63;v||(U=64,y||(k=64)),l.push(n[S],n[N],n[k],n[U])}return l.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(rm(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Sw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let c=0;c<s.length;){const f=n[s.charAt(c++)],x=c<s.length?n[s.charAt(c)]:0;++c;const w=c<s.length?n[s.charAt(c)]:64;++c;const N=c<s.length?n[s.charAt(c)]:64;if(++c,f==null||x==null||w==null||N==null)throw new bw;const k=f<<2|x>>4;if(l.push(k),w!==64){const U=x<<4&240|w>>2;if(l.push(U),N!==64){const z=w<<6&192|N;l.push(z)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class bw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nw=function(s){const e=rm(s);return im.encodeByteArray(e,!0)},hh=function(s){return Nw(s).replace(/\./g,"")},Rw=function(s){try{return im.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=()=>Ow().__FIREBASE_DEFAULTS__,Mw=()=>{if(typeof process>"u"||typeof op>"u")return;const s=op.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Lw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Rw(s[1]);return e&&JSON.parse(e)},$d=()=>{try{return Dw()||Mw()||Lw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Pw=s=>{var e,n;return(n=(e=$d())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},kw=s=>{const e=Pw(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const l=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),l]:[e.substring(0,n),l]},sm=()=>{var s;return(s=$d())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,l)=>{n?this.reject(n):this.resolve(l),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,l))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},l=e||"demo-project",c=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const y=Object.assign({iss:`https://securetoken.google.com/${l}`,aud:l,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},s);return[hh(JSON.stringify(n)),hh(JSON.stringify(y)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uw(){var s;const e=(s=$d())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jw(){return!Uw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zw(){try{return typeof indexedDB=="object"}catch{return!1}}function Hw(){return new Promise((s,e)=>{try{let n=!0;const l="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(l);c.onsuccess=()=>{c.result.close(),n||self.indexedDB.deleteDatabase(l),s(!0)},c.onupgradeneeded=()=>{n=!1},c.onerror=()=>{var f;e(((f=c.error)===null||f===void 0?void 0:f.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="FirebaseError";class Ul extends Error{constructor(e,n,l){super(n),this.code=e,this.customData=l,this.name=Ww,Object.setPrototypeOf(this,Ul.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,om.prototype.create)}}class om{constructor(e,n,l){this.service=e,this.serviceName=n,this.errors=l}create(e,...n){const l=n[0]||{},c=`${this.service}/${e}`,f=this.errors[e],y=f?Gw(f,l):"Error",x=`${this.serviceName}: ${y} (${c}).`;return new Ul(c,x,l)}}function Gw(s,e){return s.replace(Yw,(n,l)=>{const c=e[l];return c!=null?String(c):`<${l}?>`})}const Yw=/\{\$([^}]+)}/g;function xd(s,e){if(s===e)return!0;const n=Object.keys(s),l=Object.keys(e);for(const c of n){if(!l.includes(c))return!1;const f=s[c],y=e[c];if(ap(f)&&ap(y)){if(!xd(f,y))return!1}else if(f!==y)return!1}for(const c of l)if(!n.includes(c))return!1;return!0}function ap(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(s){return s&&s._delegate?s._delegate:s}class ku{constructor(e,n,l){this.name=e,this.instanceFactory=n,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const l=new Bw;if(this.instancesDeferred.set(n,l),this.isInitialized(n)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:n});c&&l.resolve(c)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const l=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),c=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(f){if(c)return null;throw f}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kw(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[n,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(n);try{const f=this.getOrInitializeService({instanceIdentifier:c});l.resolve(f)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,l=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:l,options:n});for(const[f,y]of this.instancesDeferred.entries()){const x=this.normalizeInstanceIdentifier(f);l===x&&y.resolve(c)}return c}onInit(e,n){var l;const c=this.normalizeInstanceIdentifier(n),f=(l=this.onInitCallbacks.get(c))!==null&&l!==void 0?l:new Set;f.add(e),this.onInitCallbacks.set(c,f);const y=this.instances.get(c);return y&&e(y,c),()=>{f.delete(e)}}invokeOnInitCallbacks(e,n){const l=this.onInitCallbacks.get(n);if(l)for(const c of l)try{c(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let l=this.instances.get(e);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:Xw(e),options:n}),this.instances.set(e,l),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(l,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,l)}catch{}return l||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xw(s){return s===Ga?void 0:s}function Kw(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $w(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Kt||(Kt={}));const qw={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},Zw=Kt.INFO,Jw={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},e_=(s,e,...n)=>{if(e<s.logLevel)return;const l=new Date().toISOString(),c=Jw[e];if(c)console[c](`[${l}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class am{constructor(e){this.name=e,this._logLevel=Zw,this._logHandler=e_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const t_=(s,e)=>e.some(n=>s instanceof n);let lp,up;function n_(){return lp||(lp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r_(){return up||(up=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lm=new WeakMap,vd=new WeakMap,um=new WeakMap,ed=new WeakMap,Xd=new WeakMap;function i_(s){const e=new Promise((n,l)=>{const c=()=>{s.removeEventListener("success",f),s.removeEventListener("error",y)},f=()=>{n(pa(s.result)),c()},y=()=>{l(s.error),c()};s.addEventListener("success",f),s.addEventListener("error",y)});return e.then(n=>{n instanceof IDBCursor&&lm.set(n,s)}).catch(()=>{}),Xd.set(e,s),e}function s_(s){if(vd.has(s))return;const e=new Promise((n,l)=>{const c=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",y),s.removeEventListener("abort",y)},f=()=>{n(),c()},y=()=>{l(s.error||new DOMException("AbortError","AbortError")),c()};s.addEventListener("complete",f),s.addEventListener("error",y),s.addEventListener("abort",y)});vd.set(s,e)}let Ad={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return vd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||um.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pa(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function o_(s){Ad=s(Ad)}function a_(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const l=s.call(td(this),e,...n);return um.set(l,e.sort?e.sort():[e]),pa(l)}:r_().includes(s)?function(...e){return s.apply(td(this),e),pa(lm.get(this))}:function(...e){return pa(s.apply(td(this),e))}}function l_(s){return typeof s=="function"?a_(s):(s instanceof IDBTransaction&&s_(s),t_(s,n_())?new Proxy(s,Ad):s)}function pa(s){if(s instanceof IDBRequest)return i_(s);if(ed.has(s))return ed.get(s);const e=l_(s);return e!==s&&(ed.set(s,e),Xd.set(e,s)),e}const td=s=>Xd.get(s);function u_(s,e,{blocked:n,upgrade:l,blocking:c,terminated:f}={}){const y=indexedDB.open(s,e),x=pa(y);return l&&y.addEventListener("upgradeneeded",v=>{l(pa(y.result),v.oldVersion,v.newVersion,pa(y.transaction),v)}),n&&y.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),x.then(v=>{f&&v.addEventListener("close",()=>f()),c&&v.addEventListener("versionchange",w=>c(w.oldVersion,w.newVersion,w))}).catch(()=>{}),x}const c_=["get","getKey","getAll","getAllKeys","count"],h_=["put","add","delete","clear"],nd=new Map;function cp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(nd.get(e))return nd.get(e);const n=e.replace(/FromIndex$/,""),l=e!==n,c=h_.includes(n);if(!(n in(l?IDBIndex:IDBObjectStore).prototype)||!(c||c_.includes(n)))return;const f=async function(y,...x){const v=this.transaction(y,c?"readwrite":"readonly");let w=v.store;return l&&(w=w.index(x.shift())),(await Promise.all([w[n](...x),c&&v.done]))[0]};return nd.set(e,f),f}o_(s=>({...s,get:(e,n,l)=>cp(e,n)||s.get(e,n,l),has:(e,n)=>!!cp(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d_(n)){const l=n.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(n=>n).join(" ")}}function d_(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cd="@firebase/app",hp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new am("@firebase/app"),p_="@firebase/app-compat",g_="@firebase/analytics-compat",m_="@firebase/analytics",y_="@firebase/app-check-compat",E_="@firebase/app-check",w_="@firebase/auth",__="@firebase/auth-compat",x_="@firebase/database",v_="@firebase/data-connect",A_="@firebase/database-compat",C_="@firebase/functions",T_="@firebase/functions-compat",I_="@firebase/installations",S_="@firebase/installations-compat",b_="@firebase/messaging",N_="@firebase/messaging-compat",R_="@firebase/performance",O_="@firebase/performance-compat",D_="@firebase/remote-config",M_="@firebase/remote-config-compat",L_="@firebase/storage",P_="@firebase/storage-compat",k_="@firebase/firestore",B_="@firebase/vertexai",F_="@firebase/firestore-compat",V_="firebase",U_="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]",j_={[Cd]:"fire-core",[p_]:"fire-core-compat",[m_]:"fire-analytics",[g_]:"fire-analytics-compat",[E_]:"fire-app-check",[y_]:"fire-app-check-compat",[w_]:"fire-auth",[__]:"fire-auth-compat",[x_]:"fire-rtdb",[v_]:"fire-data-connect",[A_]:"fire-rtdb-compat",[C_]:"fire-fn",[T_]:"fire-fn-compat",[I_]:"fire-iid",[S_]:"fire-iid-compat",[b_]:"fire-fcm",[N_]:"fire-fcm-compat",[R_]:"fire-perf",[O_]:"fire-perf-compat",[D_]:"fire-rc",[M_]:"fire-rc-compat",[L_]:"fire-gcs",[P_]:"fire-gcs-compat",[k_]:"fire-fst",[F_]:"fire-fst-compat",[B_]:"fire-vertex","fire-js":"fire-js",[V_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,z_=new Map,Id=new Map;function fp(s,e){try{s.container.addComponent(e)}catch(n){zo.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function dh(s){const e=s.name;if(Id.has(e))return zo.debug(`There were multiple attempts to register component ${e}.`),!1;Id.set(e,s);for(const n of fh.values())fp(n,s);for(const n of z_.values())fp(n,s);return!0}function H_(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ga=new om("app","Firebase",W_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n,l){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new ku("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=U_;function cm(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const l=Object.assign({name:Td,automaticDataCollectionEnabled:!1},e),c=l.name;if(typeof c!="string"||!c)throw ga.create("bad-app-name",{appName:String(c)});if(n||(n=sm()),!n)throw ga.create("no-options");const f=fh.get(c);if(f){if(xd(n,f.options)&&xd(l,f.config))return f;throw ga.create("duplicate-app",{appName:c})}const y=new Qw(c);for(const v of Id.values())y.addComponent(v);const x=new G_(n,l,y);return fh.set(c,x),x}function $_(s=Td){const e=fh.get(s);if(!e&&s===Td&&sm())return cm();if(!e)throw ga.create("no-app",{appName:s});return e}function Il(s,e,n){var l;let c=(l=j_[s])!==null&&l!==void 0?l:s;n&&(c+=`-${n}`);const f=c.match(/\s|\//),y=e.match(/\s|\//);if(f||y){const x=[`Unable to register library "${c}" with version "${e}":`];f&&x.push(`library name "${c}" contains illegal characters (whitespace or "/")`),f&&y&&x.push("and"),y&&x.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zo.warn(x.join(" "));return}dh(new ku(`${c}-version`,()=>({library:c,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="firebase-heartbeat-database",K_=1,Bu="firebase-heartbeat-store";let rd=null;function hm(){return rd||(rd=u_(X_,K_,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Bu)}catch(n){console.warn(n)}}}}).catch(s=>{throw ga.create("idb-open",{originalErrorMessage:s.message})})),rd}async function Q_(s){try{const n=(await hm()).transaction(Bu),l=await n.objectStore(Bu).get(fm(s));return await n.done,l}catch(e){if(e instanceof Ul)zo.warn(e.message);else{const n=ga.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zo.warn(n.message)}}}async function dp(s,e){try{const l=(await hm()).transaction(Bu,"readwrite");await l.objectStore(Bu).put(e,fm(s)),await l.done}catch(n){if(n instanceof Ul)zo.warn(n.message);else{const l=ga.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zo.warn(l.message)}}}function fm(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=1024,Z_=30*24*60*60*1e3;class J_{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tx(n),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){var e,n;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=pp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(y=>y.date===f)?void 0:(this._heartbeatsCache.heartbeats.push({date:f,agent:c}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(y=>{const x=new Date(y.date).valueOf();return Date.now()-x<=Z_}),this._storage.overwrite(this._heartbeatsCache))}catch(l){zo.warn(l)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pp(),{heartbeatsToSend:l,unsentEntries:c}=ex(this._heartbeatsCache.heartbeats),f=hh(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(n){return zo.warn(n),""}}}function pp(){return new Date().toISOString().substring(0,10)}function ex(s,e=q_){const n=[];let l=s.slice();for(const c of s){const f=n.find(y=>y.agent===c.agent);if(f){if(f.dates.push(c.date),gp(n)>e){f.dates.pop();break}}else if(n.push({agent:c.agent,dates:[c.date]}),gp(n)>e){n.pop();break}l=l.slice(1)}return{heartbeatsToSend:n,unsentEntries:l}}class tx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zw()?Hw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Q_(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const c=await this.read();return dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:c.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const c=await this.read();return dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...e.heartbeats]})}else return}}function gp(s){return hh(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(s){dh(new ku("platform-logger",e=>new f_(e),"PRIVATE")),dh(new ku("heartbeat",e=>new J_(e),"PRIVATE")),Il(Cd,hp,s),Il(Cd,hp,"esm2017"),Il("fire-js","")}nx("");var mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dm;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(H,F){function D(){}D.prototype=F.prototype,H.D=F.prototype,H.prototype=new D,H.prototype.constructor=H,H.C=function(X,G,ee){for(var Y=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Y[$e-2]=arguments[$e];return F.prototype[G].apply(X,Y)}}function n(){this.blockSize=-1}function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(l,n),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(H,F,D){D||(D=0);var X=Array(16);if(typeof F=="string")for(var G=0;16>G;++G)X[G]=F.charCodeAt(D++)|F.charCodeAt(D++)<<8|F.charCodeAt(D++)<<16|F.charCodeAt(D++)<<24;else for(G=0;16>G;++G)X[G]=F[D++]|F[D++]<<8|F[D++]<<16|F[D++]<<24;F=H.g[0],D=H.g[1],G=H.g[2];var ee=H.g[3],Y=F+(ee^D&(G^ee))+X[0]+3614090360&4294967295;F=D+(Y<<7&4294967295|Y>>>25),Y=ee+(G^F&(D^G))+X[1]+3905402710&4294967295,ee=F+(Y<<12&4294967295|Y>>>20),Y=G+(D^ee&(F^D))+X[2]+606105819&4294967295,G=ee+(Y<<17&4294967295|Y>>>15),Y=D+(F^G&(ee^F))+X[3]+3250441966&4294967295,D=G+(Y<<22&4294967295|Y>>>10),Y=F+(ee^D&(G^ee))+X[4]+4118548399&4294967295,F=D+(Y<<7&4294967295|Y>>>25),Y=ee+(G^F&(D^G))+X[5]+1200080426&4294967295,ee=F+(Y<<12&4294967295|Y>>>20),Y=G+(D^ee&(F^D))+X[6]+2821735955&4294967295,G=ee+(Y<<17&4294967295|Y>>>15),Y=D+(F^G&(ee^F))+X[7]+4249261313&4294967295,D=G+(Y<<22&4294967295|Y>>>10),Y=F+(ee^D&(G^ee))+X[8]+1770035416&4294967295,F=D+(Y<<7&4294967295|Y>>>25),Y=ee+(G^F&(D^G))+X[9]+2336552879&4294967295,ee=F+(Y<<12&4294967295|Y>>>20),Y=G+(D^ee&(F^D))+X[10]+4294925233&4294967295,G=ee+(Y<<17&4294967295|Y>>>15),Y=D+(F^G&(ee^F))+X[11]+2304563134&4294967295,D=G+(Y<<22&4294967295|Y>>>10),Y=F+(ee^D&(G^ee))+X[12]+1804603682&4294967295,F=D+(Y<<7&4294967295|Y>>>25),Y=ee+(G^F&(D^G))+X[13]+4254626195&4294967295,ee=F+(Y<<12&4294967295|Y>>>20),Y=G+(D^ee&(F^D))+X[14]+2792965006&4294967295,G=ee+(Y<<17&4294967295|Y>>>15),Y=D+(F^G&(ee^F))+X[15]+1236535329&4294967295,D=G+(Y<<22&4294967295|Y>>>10),Y=F+(G^ee&(D^G))+X[1]+4129170786&4294967295,F=D+(Y<<5&4294967295|Y>>>27),Y=ee+(D^G&(F^D))+X[6]+3225465664&4294967295,ee=F+(Y<<9&4294967295|Y>>>23),Y=G+(F^D&(ee^F))+X[11]+643717713&4294967295,G=ee+(Y<<14&4294967295|Y>>>18),Y=D+(ee^F&(G^ee))+X[0]+3921069994&4294967295,D=G+(Y<<20&4294967295|Y>>>12),Y=F+(G^ee&(D^G))+X[5]+3593408605&4294967295,F=D+(Y<<5&4294967295|Y>>>27),Y=ee+(D^G&(F^D))+X[10]+38016083&4294967295,ee=F+(Y<<9&4294967295|Y>>>23),Y=G+(F^D&(ee^F))+X[15]+3634488961&4294967295,G=ee+(Y<<14&4294967295|Y>>>18),Y=D+(ee^F&(G^ee))+X[4]+3889429448&4294967295,D=G+(Y<<20&4294967295|Y>>>12),Y=F+(G^ee&(D^G))+X[9]+568446438&4294967295,F=D+(Y<<5&4294967295|Y>>>27),Y=ee+(D^G&(F^D))+X[14]+3275163606&4294967295,ee=F+(Y<<9&4294967295|Y>>>23),Y=G+(F^D&(ee^F))+X[3]+4107603335&4294967295,G=ee+(Y<<14&4294967295|Y>>>18),Y=D+(ee^F&(G^ee))+X[8]+1163531501&4294967295,D=G+(Y<<20&4294967295|Y>>>12),Y=F+(G^ee&(D^G))+X[13]+2850285829&4294967295,F=D+(Y<<5&4294967295|Y>>>27),Y=ee+(D^G&(F^D))+X[2]+4243563512&4294967295,ee=F+(Y<<9&4294967295|Y>>>23),Y=G+(F^D&(ee^F))+X[7]+1735328473&4294967295,G=ee+(Y<<14&4294967295|Y>>>18),Y=D+(ee^F&(G^ee))+X[12]+2368359562&4294967295,D=G+(Y<<20&4294967295|Y>>>12),Y=F+(D^G^ee)+X[5]+4294588738&4294967295,F=D+(Y<<4&4294967295|Y>>>28),Y=ee+(F^D^G)+X[8]+2272392833&4294967295,ee=F+(Y<<11&4294967295|Y>>>21),Y=G+(ee^F^D)+X[11]+1839030562&4294967295,G=ee+(Y<<16&4294967295|Y>>>16),Y=D+(G^ee^F)+X[14]+4259657740&4294967295,D=G+(Y<<23&4294967295|Y>>>9),Y=F+(D^G^ee)+X[1]+2763975236&4294967295,F=D+(Y<<4&4294967295|Y>>>28),Y=ee+(F^D^G)+X[4]+1272893353&4294967295,ee=F+(Y<<11&4294967295|Y>>>21),Y=G+(ee^F^D)+X[7]+4139469664&4294967295,G=ee+(Y<<16&4294967295|Y>>>16),Y=D+(G^ee^F)+X[10]+3200236656&4294967295,D=G+(Y<<23&4294967295|Y>>>9),Y=F+(D^G^ee)+X[13]+681279174&4294967295,F=D+(Y<<4&4294967295|Y>>>28),Y=ee+(F^D^G)+X[0]+3936430074&4294967295,ee=F+(Y<<11&4294967295|Y>>>21),Y=G+(ee^F^D)+X[3]+3572445317&4294967295,G=ee+(Y<<16&4294967295|Y>>>16),Y=D+(G^ee^F)+X[6]+76029189&4294967295,D=G+(Y<<23&4294967295|Y>>>9),Y=F+(D^G^ee)+X[9]+3654602809&4294967295,F=D+(Y<<4&4294967295|Y>>>28),Y=ee+(F^D^G)+X[12]+3873151461&4294967295,ee=F+(Y<<11&4294967295|Y>>>21),Y=G+(ee^F^D)+X[15]+530742520&4294967295,G=ee+(Y<<16&4294967295|Y>>>16),Y=D+(G^ee^F)+X[2]+3299628645&4294967295,D=G+(Y<<23&4294967295|Y>>>9),Y=F+(G^(D|~ee))+X[0]+4096336452&4294967295,F=D+(Y<<6&4294967295|Y>>>26),Y=ee+(D^(F|~G))+X[7]+1126891415&4294967295,ee=F+(Y<<10&4294967295|Y>>>22),Y=G+(F^(ee|~D))+X[14]+2878612391&4294967295,G=ee+(Y<<15&4294967295|Y>>>17),Y=D+(ee^(G|~F))+X[5]+4237533241&4294967295,D=G+(Y<<21&4294967295|Y>>>11),Y=F+(G^(D|~ee))+X[12]+1700485571&4294967295,F=D+(Y<<6&4294967295|Y>>>26),Y=ee+(D^(F|~G))+X[3]+2399980690&4294967295,ee=F+(Y<<10&4294967295|Y>>>22),Y=G+(F^(ee|~D))+X[10]+4293915773&4294967295,G=ee+(Y<<15&4294967295|Y>>>17),Y=D+(ee^(G|~F))+X[1]+2240044497&4294967295,D=G+(Y<<21&4294967295|Y>>>11),Y=F+(G^(D|~ee))+X[8]+1873313359&4294967295,F=D+(Y<<6&4294967295|Y>>>26),Y=ee+(D^(F|~G))+X[15]+4264355552&4294967295,ee=F+(Y<<10&4294967295|Y>>>22),Y=G+(F^(ee|~D))+X[6]+2734768916&4294967295,G=ee+(Y<<15&4294967295|Y>>>17),Y=D+(ee^(G|~F))+X[13]+1309151649&4294967295,D=G+(Y<<21&4294967295|Y>>>11),Y=F+(G^(D|~ee))+X[4]+4149444226&4294967295,F=D+(Y<<6&4294967295|Y>>>26),Y=ee+(D^(F|~G))+X[11]+3174756917&4294967295,ee=F+(Y<<10&4294967295|Y>>>22),Y=G+(F^(ee|~D))+X[2]+718787259&4294967295,G=ee+(Y<<15&4294967295|Y>>>17),Y=D+(ee^(G|~F))+X[9]+3951481745&4294967295,H.g[0]=H.g[0]+F&4294967295,H.g[1]=H.g[1]+(G+(Y<<21&4294967295|Y>>>11))&4294967295,H.g[2]=H.g[2]+G&4294967295,H.g[3]=H.g[3]+ee&4294967295}l.prototype.u=function(H,F){F===void 0&&(F=H.length);for(var D=F-this.blockSize,X=this.B,G=this.h,ee=0;ee<F;){if(G==0)for(;ee<=D;)c(this,H,ee),ee+=this.blockSize;if(typeof H=="string"){for(;ee<F;)if(X[G++]=H.charCodeAt(ee++),G==this.blockSize){c(this,X),G=0;break}}else for(;ee<F;)if(X[G++]=H[ee++],G==this.blockSize){c(this,X),G=0;break}}this.h=G,this.o+=F},l.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var F=1;F<H.length-8;++F)H[F]=0;var D=8*this.o;for(F=H.length-8;F<H.length;++F)H[F]=D&255,D/=256;for(this.u(H),H=Array(16),F=D=0;4>F;++F)for(var X=0;32>X;X+=8)H[D++]=this.g[F]>>>X&255;return H};function f(H,F){var D=x;return Object.prototype.hasOwnProperty.call(D,H)?D[H]:D[H]=F(H)}function y(H,F){this.h=F;for(var D=[],X=!0,G=H.length-1;0<=G;G--){var ee=H[G]|0;X&&ee==F||(D[G]=ee,X=!1)}this.g=D}var x={};function v(H){return-128<=H&&128>H?f(H,function(F){return new y([F|0],0>F?-1:0)}):new y([H|0],0>H?-1:0)}function w(H){if(isNaN(H)||!isFinite(H))return N;if(0>H)return q(w(-H));for(var F=[],D=1,X=0;H>=D;X++)F[X]=H/D|0,D*=4294967296;return new y(F,0)}function S(H,F){if(H.length==0)throw Error("number format error: empty string");if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(H.charAt(0)=="-")return q(S(H.substring(1),F));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=w(Math.pow(F,8)),X=N,G=0;G<H.length;G+=8){var ee=Math.min(8,H.length-G),Y=parseInt(H.substring(G,G+ee),F);8>ee?(ee=w(Math.pow(F,ee)),X=X.j(ee).add(w(Y))):(X=X.j(D),X=X.add(w(Y)))}return X}var N=v(0),k=v(1),U=v(16777216);s=y.prototype,s.m=function(){if($(this))return-q(this).m();for(var H=0,F=1,D=0;D<this.g.length;D++){var X=this.i(D);H+=(0<=X?X:4294967296+X)*F,F*=4294967296}return H},s.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(z(this))return"0";if($(this))return"-"+q(this).toString(H);for(var F=w(Math.pow(H,6)),D=this,X="";;){var G=se(D,F).g;D=j(D,G.j(F));var ee=((0<D.g.length?D.g[0]:D.h)>>>0).toString(H);if(D=G,z(D))return ee+X;for(;6>ee.length;)ee="0"+ee;X=ee+X}},s.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function z(H){if(H.h!=0)return!1;for(var F=0;F<H.g.length;F++)if(H.g[F]!=0)return!1;return!0}function $(H){return H.h==-1}s.l=function(H){return H=j(this,H),$(H)?-1:z(H)?0:1};function q(H){for(var F=H.g.length,D=[],X=0;X<F;X++)D[X]=~H.g[X];return new y(D,~H.h).add(k)}s.abs=function(){return $(this)?q(this):this},s.add=function(H){for(var F=Math.max(this.g.length,H.g.length),D=[],X=0,G=0;G<=F;G++){var ee=X+(this.i(G)&65535)+(H.i(G)&65535),Y=(ee>>>16)+(this.i(G)>>>16)+(H.i(G)>>>16);X=Y>>>16,ee&=65535,Y&=65535,D[G]=Y<<16|ee}return new y(D,D[D.length-1]&-2147483648?-1:0)};function j(H,F){return H.add(q(F))}s.j=function(H){if(z(this)||z(H))return N;if($(this))return $(H)?q(this).j(q(H)):q(q(this).j(H));if($(H))return q(this.j(q(H)));if(0>this.l(U)&&0>H.l(U))return w(this.m()*H.m());for(var F=this.g.length+H.g.length,D=[],X=0;X<2*F;X++)D[X]=0;for(X=0;X<this.g.length;X++)for(var G=0;G<H.g.length;G++){var ee=this.i(X)>>>16,Y=this.i(X)&65535,$e=H.i(G)>>>16,he=H.i(G)&65535;D[2*X+2*G]+=Y*he,Q(D,2*X+2*G),D[2*X+2*G+1]+=ee*he,Q(D,2*X+2*G+1),D[2*X+2*G+1]+=Y*$e,Q(D,2*X+2*G+1),D[2*X+2*G+2]+=ee*$e,Q(D,2*X+2*G+2)}for(X=0;X<F;X++)D[X]=D[2*X+1]<<16|D[2*X];for(X=F;X<2*F;X++)D[X]=0;return new y(D,0)};function Q(H,F){for(;(H[F]&65535)!=H[F];)H[F+1]+=H[F]>>>16,H[F]&=65535,F++}function J(H,F){this.g=H,this.h=F}function se(H,F){if(z(F))throw Error("division by zero");if(z(H))return new J(N,N);if($(H))return F=se(q(H),F),new J(q(F.g),q(F.h));if($(F))return F=se(H,q(F)),new J(q(F.g),F.h);if(30<H.g.length){if($(H)||$(F))throw Error("slowDivide_ only works with positive integers.");for(var D=k,X=F;0>=X.l(H);)D=Ee(D),X=Ee(X);var G=Te(D,1),ee=Te(X,1);for(X=Te(X,2),D=Te(D,2);!z(X);){var Y=ee.add(X);0>=Y.l(H)&&(G=G.add(D),ee=Y),X=Te(X,1),D=Te(D,1)}return F=j(H,G.j(F)),new J(G,F)}for(G=N;0<=H.l(F);){for(D=Math.max(1,Math.floor(H.m()/F.m())),X=Math.ceil(Math.log(D)/Math.LN2),X=48>=X?1:Math.pow(2,X-48),ee=w(D),Y=ee.j(F);$(Y)||0<Y.l(H);)D-=X,ee=w(D),Y=ee.j(F);z(ee)&&(ee=k),G=G.add(ee),H=j(H,Y)}return new J(G,H)}s.A=function(H){return se(this,H).h},s.and=function(H){for(var F=Math.max(this.g.length,H.g.length),D=[],X=0;X<F;X++)D[X]=this.i(X)&H.i(X);return new y(D,this.h&H.h)},s.or=function(H){for(var F=Math.max(this.g.length,H.g.length),D=[],X=0;X<F;X++)D[X]=this.i(X)|H.i(X);return new y(D,this.h|H.h)},s.xor=function(H){for(var F=Math.max(this.g.length,H.g.length),D=[],X=0;X<F;X++)D[X]=this.i(X)^H.i(X);return new y(D,this.h^H.h)};function Ee(H){for(var F=H.g.length+1,D=[],X=0;X<F;X++)D[X]=H.i(X)<<1|H.i(X-1)>>>31;return new y(D,H.h)}function Te(H,F){var D=F>>5;F%=32;for(var X=H.g.length-D,G=[],ee=0;ee<X;ee++)G[ee]=0<F?H.i(ee+D)>>>F|H.i(ee+D+1)<<32-F:H.i(ee+D);return new y(G,H.h)}l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=w,y.fromString=S,dm=y}).apply(typeof mp<"u"?mp:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pm,Iu,gm,ih,Sd,mm,ym,Em;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,I,O){return m==Array.prototype||m==Object.prototype||(m[I]=O.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var I=0;I<m.length;++I){var O=m[I];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var l=n(this);function c(m,I){if(I)e:{var O=l;m=m.split(".");for(var W=0;W<m.length-1;W++){var de=m[W];if(!(de in O))break e;O=O[de]}m=m[m.length-1],W=O[m],I=I(W),I!=W&&I!=null&&e(O,m,{configurable:!0,writable:!0,value:I})}}function f(m,I){m instanceof String&&(m+="");var O=0,W=!1,de={next:function(){if(!W&&O<m.length){var we=O++;return{value:I(we,m[we]),done:!1}}return W=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}c("Array.prototype.values",function(m){return m||function(){return f(this,function(I,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var y=y||{},x=this||self;function v(m){var I=typeof m;return I=I!="object"?I:m?Array.isArray(m)?"array":I:"null",I=="array"||I=="object"&&typeof m.length=="number"}function w(m){var I=typeof m;return I=="object"&&m!=null||I=="function"}function S(m,I,O){return m.call.apply(m.bind,arguments)}function N(m,I,O){if(!m)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,W),m.apply(I,de)}}return function(){return m.apply(I,arguments)}}function k(m,I,O){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:N,k.apply(null,arguments)}function U(m,I){var O=Array.prototype.slice.call(arguments,1);return function(){var W=O.slice();return W.push.apply(W,arguments),m.apply(this,W)}}function z(m,I){function O(){}O.prototype=I.prototype,m.aa=I.prototype,m.prototype=new O,m.prototype.constructor=m,m.Qb=function(W,de,we){for(var Ve=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)Ve[Yt-2]=arguments[Yt];return I.prototype[de].apply(W,Ve)}}function $(m){const I=m.length;if(0<I){const O=Array(I);for(let W=0;W<I;W++)O[W]=m[W];return O}return[]}function q(m,I){for(let O=1;O<arguments.length;O++){const W=arguments[O];if(v(W)){const de=m.length||0,we=W.length||0;m.length=de+we;for(let Ve=0;Ve<we;Ve++)m[de+Ve]=W[Ve]}else m.push(W)}}class j{constructor(I,O){this.i=I,this.j=O,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function Q(m){return/^[\s\xa0]*$/.test(m)}function J(){var m=x.navigator;return m&&(m=m.userAgent)?m:""}function se(m){return se[" "](m),m}se[" "]=function(){};var Ee=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Te(m,I,O){for(const W in m)I.call(O,m[W],W,m)}function H(m,I){for(const O in m)I.call(void 0,m[O],O,m)}function F(m){const I={};for(const O in m)I[O]=m[O];return I}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(m,I){let O,W;for(let de=1;de<arguments.length;de++){W=arguments[de];for(O in W)m[O]=W[O];for(let we=0;we<D.length;we++)O=D[we],Object.prototype.hasOwnProperty.call(W,O)&&(m[O]=W[O])}}function G(m){var I=1;m=m.split(":");const O=[];for(;0<I&&m.length;)O.push(m.shift()),I--;return m.length&&O.push(m.join(":")),O}function ee(m){x.setTimeout(()=>{throw m},0)}function Y(){var m=Qe;let I=null;return m.g&&(I=m.g,m.g=m.g.next,m.g||(m.h=null),I.next=null),I}class $e{constructor(){this.h=this.g=null}add(I,O){const W=he.get();W.set(I,O),this.h?this.h.next=W:this.g=W,this.h=W}}var he=new j(()=>new st,m=>m.reset());class st{constructor(){this.next=this.g=this.h=null}set(I,O){this.h=I,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,ke=!1,Qe=new $e,Ge=()=>{const m=x.Promise.resolve(void 0);ze=()=>{m.then(ue)}};var ue=()=>{for(var m;m=Y();){try{m.h.call(m.g)}catch(O){ee(O)}var I=he;I.j(m),100>I.h&&(I.h++,m.next=I.g,I.g=m)}ke=!1};function xe(){this.s=this.s,this.C=this.C}xe.prototype.s=!1,xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qe(m,I){this.type=m,this.g=this.target=I,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var m=!1,I=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const O=()=>{};x.addEventListener("test",O,I),x.removeEventListener("test",O,I)}catch{}return m}();function ht(m,I){if(qe.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var O=this.type=m.type,W=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=I,I=m.relatedTarget){if(Ee){e:{try{se(I.nodeName);var de=!0;break e}catch{}de=!1}de||(I=null)}}else O=="mouseover"?I=m.fromElement:O=="mouseout"&&(I=m.toElement);this.relatedTarget=I,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Be[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ht.aa.h.call(this)}}z(ht,qe);var Be={2:"touch",3:"pen",4:"mouse"};ht.prototype.h=function(){ht.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),rt=0;function Mt(m,I,O,W,de){this.listener=m,this.proxy=null,this.src=I,this.type=O,this.capture=!!W,this.ha=de,this.key=++rt,this.da=this.fa=!1}function ln(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ve(m){this.src=m,this.g={},this.h=0}ve.prototype.add=function(m,I,O,W,de){var we=m.toString();m=this.g[we],m||(m=this.g[we]=[],this.h++);var Ve=vt(m,I,W,de);return-1<Ve?(I=m[Ve],O||(I.fa=!1)):(I=new Mt(I,this.src,we,!!W,de),I.fa=O,m.push(I)),I};function Vr(m,I){var O=I.type;if(O in m.g){var W=m.g[O],de=Array.prototype.indexOf.call(W,I,void 0),we;(we=0<=de)&&Array.prototype.splice.call(W,de,1),we&&(ln(I),m.g[O].length==0&&(delete m.g[O],m.h--))}}function vt(m,I,O,W){for(var de=0;de<m.length;++de){var we=m[de];if(!we.da&&we.listener==I&&we.capture==!!O&&we.ha==W)return de}return-1}var lr="closure_lm_"+(1e6*Math.random()|0),un={};function ur(m,I,O,W,de){if(Array.isArray(I)){for(var we=0;we<I.length;we++)ur(m,I[we],O,W,de);return null}return O=Pi(O),m&&m[St]?m.K(I,O,w(W)?!!W.capture:!!W,de):mn(m,I,O,!1,W,de)}function mn(m,I,O,W,de,we){if(!I)throw Error("Invalid event type");var Ve=w(de)?!!de.capture:!!de,Yt=Ki(m);if(Yt||(m[lr]=Yt=new ve(m)),O=Yt.add(I,O,W,Ve,we),O.proxy)return O;if(W=It(),O.proxy=W,W.src=m,W.listener=O,m.addEventListener)tt||(de=Ve),de===void 0&&(de=!1),m.addEventListener(I.toString(),W,de);else if(m.attachEvent)m.attachEvent(Ye(I.toString()),W);else if(m.addListener&&m.removeListener)m.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return O}function It(){function m(O){return I.call(m.src,m.listener,O)}const I=gi;return m}function At(m,I,O,W,de){if(Array.isArray(I))for(var we=0;we<I.length;we++)At(m,I[we],O,W,de);else W=w(W)?!!W.capture:!!W,O=Pi(O),m&&m[St]?(m=m.i,I=String(I).toString(),I in m.g&&(we=m.g[I],O=vt(we,O,W,de),-1<O&&(ln(we[O]),Array.prototype.splice.call(we,O,1),we.length==0&&(delete m.g[I],m.h--)))):m&&(m=Ki(m))&&(I=m.g[I.toString()],m=-1,I&&(m=vt(I,O,W,de)),(O=-1<m?I[m]:null)&&Xe(O))}function Xe(m){if(typeof m!="number"&&m&&!m.da){var I=m.src;if(I&&I[St])Vr(I.i,m);else{var O=m.type,W=m.proxy;I.removeEventListener?I.removeEventListener(O,W,m.capture):I.detachEvent?I.detachEvent(Ye(O),W):I.addListener&&I.removeListener&&I.removeListener(W),(O=Ki(I))?(Vr(O,m),O.h==0&&(O.src=null,I[lr]=null)):ln(m)}}}function Ye(m){return m in un?un[m]:un[m]="on"+m}function gi(m,I){if(m.da)m=!0;else{I=new ht(I,this);var O=m.listener,W=m.ha||m.src;m.fa&&Xe(m),m=O.call(W,I)}return m}function Ki(m){return m=m[lr],m instanceof ve?m:null}var zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pi(m){return typeof m=="function"?m:(m[zn]||(m[zn]=function(I){return m.handleEvent(I)}),m[zn])}function Vt(){xe.call(this),this.i=new ve(this),this.M=this,this.F=null}z(Vt,xe),Vt.prototype[St]=!0,Vt.prototype.removeEventListener=function(m,I,O,W){At(this,m,I,O,W)};function vn(m,I){var O,W=m.F;if(W)for(O=[];W;W=W.F)O.push(W);if(m=m.M,W=I.type||I,typeof I=="string")I=new qe(I,m);else if(I instanceof qe)I.target=I.target||m;else{var de=I;I=new qe(W,m),X(I,de)}if(de=!0,O)for(var we=O.length-1;0<=we;we--){var Ve=I.g=O[we];de=Hn(Ve,W,!0,I)&&de}if(Ve=I.g=m,de=Hn(Ve,W,!0,I)&&de,de=Hn(Ve,W,!1,I)&&de,O)for(we=0;we<O.length;we++)Ve=I.g=O[we],de=Hn(Ve,W,!1,I)&&de}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var m=this.i,I;for(I in m.g){for(var O=m.g[I],W=0;W<O.length;W++)ln(O[W]);delete m.g[I],m.h--}}this.F=null},Vt.prototype.K=function(m,I,O,W){return this.i.add(String(m),I,!1,O,W)},Vt.prototype.L=function(m,I,O,W){return this.i.add(String(m),I,!0,O,W)};function Hn(m,I,O,W){if(I=m.i.g[String(I)],!I)return!0;I=I.concat();for(var de=!0,we=0;we<I.length;++we){var Ve=I[we];if(Ve&&!Ve.da&&Ve.capture==O){var Yt=Ve.listener,on=Ve.ha||Ve.src;Ve.fa&&Vr(m.i,Ve),de=Yt.call(on,W)!==!1&&de}}return de&&!W.defaultPrevented}function An(m,I,O){if(typeof m=="function")O&&(m=k(m,O));else if(m&&typeof m.handleEvent=="function")m=k(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:x.setTimeout(m,I||0)}function Qi(m){m.g=An(()=>{m.g=null,m.i&&(m.i=!1,Qi(m))},m.l);const I=m.h;m.h=null,m.m.apply(null,I)}class qi extends xe{constructor(I,O){super(),this.m=I,this.l=O,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Qi(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(m){xe.call(this),this.h=m,this.g={}}z(Ss,xe);var yn=[];function je(m){Te(m.g,function(I,O){this.g.hasOwnProperty(O)&&Xe(I)},m),m.g={}}Ss.prototype.N=function(){Ss.aa.N.call(this),je(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=x.JSON.stringify,jt=x.JSON.parse,Ht=class{stringify(m){return x.JSON.stringify(m,void 0)}parse(m){return x.JSON.parse(m,void 0)}};function mi(){}mi.prototype.h=null;function Ur(m){return m.h||(m.h=m.i())}function bs(){}var Ct={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){qe.call(this,"d")}z(cr,qe);function Ns(){qe.call(this,"c")}z(Ns,qe);var yi={},mr=null;function Zi(){return mr=mr||new Vt}yi.La="serverreachability";function Fn(m){qe.call(this,yi.La,m)}z(Fn,qe);function Tr(m){const I=Zi();vn(I,new Fn(I))}yi.STAT_EVENT="statevent";function ps(m,I){qe.call(this,yi.STAT_EVENT,m),this.stat=I}z(ps,qe);function Wt(m){const I=Zi();vn(I,new ps(I,m))}yi.Ma="timingevent";function Ji(m,I){qe.call(this,yi.Ma,m),this.size=I}z(Ji,qe);function sr(m,I){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){m()},I)}function gs(){this.g=!0}gs.prototype.xa=function(){this.g=!1};function en(m,I,O,W,de,we){m.info(function(){if(m.g)if(we)for(var Ve="",Yt=we.split("&"),on=0;on<Yt.length;on++){var Dt=Yt[on].split("=");if(1<Dt.length){var nn=Dt[0];Dt=Dt[1];var Cn=nn.split("_");Ve=2<=Cn.length&&Cn[1]=="type"?Ve+(nn+"="+Dt+"&"):Ve+(nn+"=redacted&")}}else Ve=null;else Ve=we;return"XMLHTTP REQ ("+W+") [attempt "+de+"]: "+I+`
`+O+`
`+Ve})}function jr(m,I,O,W,de,we,Ve){m.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+de+"]: "+I+`
`+O+`
`+we+" "+Ve})}function In(m,I,O,W){m.info(function(){return"XMLHTTP TEXT ("+I+"): "+ms(m,O)+(W?" "+W:"")})}function Ke(m,I){m.info(function(){return"TIMEOUT: "+I})}gs.prototype.info=function(){};function ms(m,I){if(!m.g)return I;if(!I)return null;try{var O=JSON.parse(I);if(O){for(m=0;m<O.length;m++)if(Array.isArray(O[m])){var W=O[m];if(!(2>W.length)){var de=W[1];if(Array.isArray(de)&&!(1>de.length)){var we=de[0];if(we!="noop"&&we!="stop"&&we!="close")for(var Ve=1;Ve<de.length;Ve++)de[Ve]=""}}}}return En(O)}catch{return I}}var ei={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function zr(){}z(zr,mi),zr.prototype.g=function(){return new XMLHttpRequest},zr.prototype.i=function(){return{}},Pn=new zr;function Ir(m,I,O,W){this.j=m,this.i=I,this.l=O,this.R=W||1,this.U=new Ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yr}function yr(){this.i=null,this.g="",this.h=!1}var xo={},Xs={};function Er(m,I,O){m.L=1,m.v=cn(Tt(I)),m.m=O,m.P=!0,Wn(m,null)}function Wn(m,I){m.F=Date.now(),Lt(m),m.A=Tt(m.v);var O=m.A,W=m.R;Array.isArray(W)||(W=[String(W)]),hn(O.i,"t",W),m.C=0,O=m.j.J,m.h=new yr,m.g=$o(m.j,O?I:null,!m.m),0<m.O&&(m.M=new qi(k(m.Y,m,m.g),m.O)),I=m.U,O=m.g,W=m.ca;var de="readystatechange";Array.isArray(de)||(de&&(yn[0]=de.toString()),de=yn);for(var we=0;we<de.length;we++){var Ve=ur(O,de[we],W||I.handleEvent,!1,I.h||I);if(!Ve)break;I.g[Ve.key]=Ve}I=m.H?F(m.H):{},m.m?(m.u||(m.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,I)):(m.u="GET",m.g.ea(m.A,m.u,null,I)),Tr(),en(m.i,m.u,m.A,m.l,m.R,m.m)}Ir.prototype.ca=function(m){m=m.target;const I=this.M;I&&br(m)==3?I.j():this.Y(m)},Ir.prototype.Y=function(m){try{if(m==this.g)e:{const Cn=br(this.g);var I=this.g.Ba();const On=this.g.Z();if(!(3>Cn)&&(Cn!=3||this.g&&(this.h.h||this.g.oa()||vi(this.g)))){this.J||Cn!=4||I==7||(I==8||0>=On?Tr(3):Tr(2)),Ie(this);var O=this.g.Z();this.X=O;t:if(tn(this)){var W=vi(this.g);m="";var de=W.length,we=br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),ys(this);var Ve="";break t}this.h.i=new x.TextDecoder}for(I=0;I<de;I++)this.h.h=!0,m+=this.h.i.decode(W[I],{stream:!(we&&I==de-1)});W.length=0,this.h.g+=m,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=O==200,jr(this.i,this.u,this.A,this.l,this.R,Cn,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Yt,on=this.g;if((Yt=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Yt)){var Dt=Yt;break t}}Dt=null}if(O=Dt)In(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ki(this,O);else{this.o=!1,this.s=3,Wt(12),Bt(this),ys(this);break e}}if(this.P){O=!0;let dn;for(;!this.J&&this.C<Ve.length;)if(dn=Go(this,Ve),dn==Xs){Cn==4&&(this.s=4,Wt(14),O=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==xo){this.s=4,Wt(15),In(this.i,this.l,Ve,"[Invalid Chunk]"),O=!1;break}else In(this.i,this.l,dn,null),ki(this,dn);if(tn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cn!=4||Ve.length!=0||this.h.h||(this.s=1,Wt(16),O=!1),this.o=this.o&&O,!O)In(this.i,this.l,Ve,"[Invalid Chunked Response]"),Bt(this),ys(this);else if(0<Ve.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),Ms(nn),nn.M=!0,Wt(11))}}else In(this.i,this.l,Ve,null),ki(this,Ve);Cn==4&&Bt(this),this.o&&!this.J&&(Cn==4?Zt(this.j,this):(this.o=!1,Lt(this)))}else Ft(this.g),O==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Bt(this),ys(this)}}}catch{}finally{}};function tn(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Go(m,I){var O=m.C,W=I.indexOf(`
`,O);return W==-1?Xs:(O=Number(I.substring(O,W)),isNaN(O)?xo:(W+=1,W+O>I.length?Xs:(I=I.slice(W,W+O),m.C=W+O,I)))}Ir.prototype.cancel=function(){this.J=!0,Bt(this)};function Lt(m){m.S=Date.now()+m.I,es(m,m.I)}function es(m,I){if(m.B!=null)throw Error("WatchDog timer not null");m.B=sr(k(m.ba,m),I)}function Ie(m){m.B&&(x.clearTimeout(m.B),m.B=null)}Ir.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Ke(this.i,this.A),this.L!=2&&(Tr(),Wt(17)),Bt(this),this.s=2,ys(this)):es(this,this.S-m)};function ys(m){m.j.G==0||m.J||Zt(m.j,m)}function Bt(m){Ie(m);var I=m.M;I&&typeof I.ma=="function"&&I.ma(),m.M=null,je(m.U),m.g&&(I=m.g,m.g=null,I.abort(),I.ma())}function ki(m,I){try{var O=m.j;if(O.G!=0&&(O.g==m||or(O.h,m))){if(!m.K&&or(O.h,m)&&O.G==3){try{var W=O.Da.g.parse(I)}catch{W=null}if(Array.isArray(W)&&W.length==3){var de=W;if(de[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<m.F)er(O),Ai(O);else break e;Js(O),Wt(18)}}else O.za=de[1],0<O.za-O.T&&37500>de[2]&&O.F&&O.v==0&&!O.C&&(O.C=sr(k(O.Za,O),6e3));if(1>=bt(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else hr(O,11)}else if((m.K||O.g==m)&&er(O),!Q(I))for(de=O.Da.g.parse(I),I=0;I<de.length;I++){let Dt=de[I];if(O.T=Dt[0],Dt=Dt[1],O.G==2)if(Dt[0]=="c"){O.K=Dt[1],O.ia=Dt[2];const nn=Dt[3];nn!=null&&(O.la=nn,O.j.info("VER="+O.la));const Cn=Dt[4];Cn!=null&&(O.Aa=Cn,O.j.info("SVER="+O.Aa));const On=Dt[5];On!=null&&typeof On=="number"&&0<On&&(W=1.5*On,O.L=W,O.j.info("backChannelRequestTimeoutMs_="+W)),W=O;const dn=m.g;if(dn){const fr=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fr){var we=W.h;we.g||fr.indexOf("spdy")==-1&&fr.indexOf("quic")==-1&&fr.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(Rs(we,we.h),we.h=null))}if(W.D){const eo=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;eo&&(W.ya=eo,He(W.I,W.D,eo))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-m.F,O.j.info("Handshake RTT: "+O.R+"ms")),W=O;var Ve=m;if(W.qa=ct(W,W.J?W.ia:null,W.W),Ve.K){Ks(W.h,Ve);var Yt=Ve,on=W.L;on&&(Yt.I=on),Yt.B&&(Ie(Yt),Lt(Yt)),W.g=Ve}else Ds(W);0<O.i.length&&dt(O)}else Dt[0]!="stop"&&Dt[0]!="close"||hr(O,7);else O.G==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?hr(O,7):wn(O):Dt[0]!="noop"&&O.l&&O.l.ta(Dt),O.v=0)}}Tr(4)}catch{}}var Yo=class{constructor(m,I){this.g=m,this.map=I}};function Nt(m){this.l=m||10,x.PerformanceNavigationTiming?(m=x.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Et(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function bt(m){return m.h?1:m.g?m.g.size:0}function or(m,I){return m.h?m.h==I:m.g?m.g.has(I):!1}function Rs(m,I){m.g?m.g.add(I):m.h=I}function Ks(m,I){m.h&&m.h==I?m.h=null:m.g&&m.g.has(I)&&m.g.delete(I)}Nt.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function bn(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let I=m.i;for(const O of m.g.values())I=I.concat(O.D);return I}return $(m.i)}function Hr(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(v(m)){for(var I=[],O=m.length,W=0;W<O;W++)I.push(m[W]);return I}I=[],O=0;for(W in m)I[O++]=m[W];return I}function Qs(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(v(m)||typeof m=="string"){var I=[];m=m.length;for(var O=0;O<m;O++)I.push(O);return I}I=[],O=0;for(const W in m)I[O++]=W;return I}}}function qt(m,I){if(m.forEach&&typeof m.forEach=="function")m.forEach(I,void 0);else if(v(m)||typeof m=="string")Array.prototype.forEach.call(m,I,void 0);else for(var O=Qs(m),W=Hr(m),de=W.length,we=0;we<de;we++)I.call(void 0,W[we],O&&O[we],m)}var Gn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(m,I){if(m){m=m.split("&");for(var O=0;O<m.length;O++){var W=m[O].indexOf("="),de=null;if(0<=W){var we=m[O].substring(0,W);de=m[O].substring(W+1)}else we=m[O];I(we,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Wr(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Wr){this.h=m.h,Nn(this,m.j),this.o=m.o,this.g=m.g,fe(this,m.s),this.l=m.l;var I=m.i,O=new ti;O.i=I.i,I.g&&(O.g=new Map(I.g),O.h=I.h),K(this,O),this.m=m.m}else m&&(I=String(m).match(Gn))?(this.h=!1,Nn(this,I[1]||"",!0),this.o=mt(I[2]||""),this.g=mt(I[3]||"",!0),fe(this,I[4]),this.l=mt(I[5]||"",!0),K(this,I[6]||"",!0),this.m=mt(I[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}Wr.prototype.toString=function(){var m=[],I=this.j;I&&m.push(Bi(I,Vn,!0),":");var O=this.g;return(O||I=="file")&&(m.push("//"),(I=this.o)&&m.push(Bi(I,Vn,!0),"@"),m.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&m.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&m.push("/"),m.push(Bi(O,O.charAt(0)=="/"?rn:at,!0))),(O=this.i.toString())&&m.push("?",O),(O=this.m)&&m.push("#",Bi(O,Ao)),m.join("")};function Tt(m){return new Wr(m)}function Nn(m,I,O){m.j=O?mt(I,!0):I,m.j&&(m.j=m.j.replace(/:$/,""))}function fe(m,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);m.s=I}else m.s=null}function K(m,I,O){I instanceof ti?(m.i=I,Jn(m.i,m.h)):(O||(I=Bi(I,vo)),m.i=new ti(I,m.h))}function He(m,I,O){m.i.set(I,O)}function cn(m){return He(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function mt(m,I){return m?I?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Bi(m,I,O){return typeof m=="string"?(m=encodeURI(m).replace(I,Ei),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ei(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Vn=/[#\/\?@]/g,at=/[#\?:]/g,rn=/[#\?]/g,vo=/[#\?@]/g,Ao=/#/g;function ti(m,I){this.h=this.g=null,this.i=m||null,this.j=!!I}function Un(m){m.g||(m.g=new Map,m.h=0,m.i&&Aa(m.i,function(I,O){m.add(decodeURIComponent(I.replace(/\+/g," ")),O)}))}s=ti.prototype,s.add=function(m,I){Un(this),this.i=null,m=kn(this,m);var O=this.g.get(m);return O||this.g.set(m,O=[]),O.push(I),this.h+=1,this};function wr(m,I){Un(m),I=kn(m,I),m.g.has(I)&&(m.i=null,m.h-=m.g.get(I).length,m.g.delete(I))}function wi(m,I){return Un(m),I=kn(m,I),m.g.has(I)}s.forEach=function(m,I){Un(this),this.g.forEach(function(O,W){O.forEach(function(de){m.call(I,de,W,this)},this)},this)},s.na=function(){Un(this);const m=Array.from(this.g.values()),I=Array.from(this.g.keys()),O=[];for(let W=0;W<I.length;W++){const de=m[W];for(let we=0;we<de.length;we++)O.push(I[W])}return O},s.V=function(m){Un(this);let I=[];if(typeof m=="string")wi(this,m)&&(I=I.concat(this.g.get(kn(this,m))));else{m=Array.from(this.g.values());for(let O=0;O<m.length;O++)I=I.concat(m[O])}return I},s.set=function(m,I){return Un(this),this.i=null,m=kn(this,m),wi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[I]),this.h+=1,this},s.get=function(m,I){return m?(m=this.V(m),0<m.length?String(m[0]):I):I};function hn(m,I,O){wr(m,I),0<O.length&&(m.i=null,m.g.set(kn(m,I),$(O)),m.h+=O.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],I=Array.from(this.g.keys());for(var O=0;O<I.length;O++){var W=I[O];const we=encodeURIComponent(String(W)),Ve=this.V(W);for(W=0;W<Ve.length;W++){var de=we;Ve[W]!==""&&(de+="="+encodeURIComponent(String(Ve[W]))),m.push(de)}}return this.i=m.join("&")};function kn(m,I){return I=String(I),m.j&&(I=I.toLowerCase()),I}function Jn(m,I){I&&!m.j&&(Un(m),m.i=null,m.g.forEach(function(O,W){var de=W.toLowerCase();W!=de&&(wr(this,W),hn(this,de,O))},m)),m.j=I}function ft(m,I){const O=new gs;if(x.Image){const W=new Image;W.onload=U(ut,O,"TestLoadImage: loaded",!0,I,W),W.onerror=U(ut,O,"TestLoadImage: error",!1,I,W),W.onabort=U(ut,O,"TestLoadImage: abort",!1,I,W),W.ontimeout=U(ut,O,"TestLoadImage: timeout",!1,I,W),x.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=m}else I(!1)}function Fi(m,I){const O=new gs,W=new AbortController,de=setTimeout(()=>{W.abort(),ut(O,"TestPingServer: timeout",!1,I)},1e4);fetch(m,{signal:W.signal}).then(we=>{clearTimeout(de),we.ok?ut(O,"TestPingServer: ok",!0,I):ut(O,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(de),ut(O,"TestPingServer: error",!1,I)})}function ut(m,I,O,W,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),W(O)}catch{}}function Yn(){this.g=new Ht}function Co(m,I,O){const W=O||"";try{qt(m,function(de,we){let Ve=de;w(de)&&(Ve=En(de)),I.push(W+we+"="+encodeURIComponent(Ve))})}catch(de){throw I.push(W+"type="+encodeURIComponent("_badmap")),de}}function _i(m){this.l=m.Ub||null,this.j=m.eb||!1}z(_i,mi),_i.prototype.g=function(){return new ts(this.l,this.j)},_i.prototype.i=function(m){return function(){return m}}({});function ts(m,I){Vt.call(this),this.D=m,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(ts,Vt),s=ts.prototype,s.open=function(m,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=I,this.readyState=1,_r(this)},s.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(I.body=m),(this.D||x).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},s.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vi(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vi(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}s.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var I=m.value?m.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!m.done}))&&(this.response=this.responseText+=I)}m.done?xi(this):_r(this),this.readyState==3&&Vi(this)}},s.Ra=function(m){this.g&&(this.response=this.responseText=m,xi(this))},s.Qa=function(m){this.g&&(this.response=m,xi(this))},s.ga=function(){this.g&&xi(this)};function xi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,_r(m)}s.setRequestHeader=function(m,I){this.u.append(m,I)},s.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],I=this.h.entries();for(var O=I.next();!O.done;)O=O.value,m.push(O[0]+": "+O[1]),O=I.next();return m.join(`\r
`)};function _r(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Gr(m){let I="";return Te(m,function(O,W){I+=W,I+=":",I+=O,I+=`\r
`}),I}function ni(m,I,O){e:{for(W in O){var W=!1;break e}W=!0}W||(O=Gr(O),typeof m=="string"?O!=null&&encodeURIComponent(String(O)):He(m,I,O))}function sn(m){Vt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(sn,Vt);var Es=/^https?$/i,ns=["POST","PUT"];s=sn.prototype,s.Ha=function(m){this.J=m},s.ea=function(m,I,O,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);I=I?I.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Ur(this.o):Ur(Pn),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(I,String(m),!0),this.B=!1}catch(we){fn(this,we);return}if(m=O||"",O=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var de in W)O.set(de,W[de]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const we of W.keys())O.set(we,W.get(we));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(O.keys()).find(we=>we.toLowerCase()=="content-type"),de=x.FormData&&m instanceof x.FormData,!(0<=Array.prototype.indexOf.call(ns,I,void 0))||W||de||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,Ve]of O)this.g.setRequestHeader(we,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zs(this),this.u=!0,this.g.send(m),this.u=!1}catch(we){fn(this,we)}};function fn(m,I){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=I,m.m=5,Os(m),Sr(m)}function Os(m){m.A||(m.A=!0,vn(m,"complete"),vn(m,"error"))}s.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,vn(this,"complete"),vn(this,"abort"),Sr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),sn.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?qs(this):this.bb())},s.bb=function(){qs(this)};function qs(m){if(m.h&&typeof y<"u"&&(!m.v[1]||br(m)!=4||m.Z()!=2)){if(m.u&&br(m)==4)An(m.Ea,0,m);else if(vn(m,"readystatechange"),br(m)==4){m.h=!1;try{const Ve=m.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var O;if(!(O=I)){var W;if(W=Ve===0){var de=String(m.D).match(Gn)[1]||null;!de&&x.self&&x.self.location&&(de=x.self.location.protocol.slice(0,-1)),W=!Es.test(de?de.toLowerCase():"")}O=W}if(O)vn(m,"complete"),vn(m,"success");else{m.m=6;try{var we=2<br(m)?m.g.statusText:""}catch{we=""}m.l=we+" ["+m.Z()+"]",Os(m)}}finally{Sr(m)}}}}function Sr(m,I){if(m.g){Zs(m);const O=m.g,W=m.v[0]?()=>{}:null;m.g=null,m.v=null,I||vn(m,"ready");try{O.onreadystatechange=W}catch{}}}function Zs(m){m.I&&(x.clearTimeout(m.I),m.I=null)}s.isActive=function(){return!!this.g};function br(m){return m.g?m.g.readyState:0}s.Z=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(m){if(this.g){var I=this.g.responseText;return m&&I.indexOf(m)==0&&(I=I.substring(m.length)),jt(I)}};function vi(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ft(m){const I={};m=(m.g&&2<=br(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<m.length;W++){if(Q(m[W]))continue;var O=G(m[W]);const de=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const we=I[de]||[];I[de]=we,we.push(O)}H(I,function(W){return W.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nr(m,I,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||I}function ws(m){this.Aa=0,this.i=[],this.j=new gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nr("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nr("baseRetryDelayMs",5e3,m),this.cb=Nr("retryDelaySeedMs",1e4,m),this.Wa=Nr("forwardChannelMaxRetries",2,m),this.wa=Nr("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Nt(m&&m.concurrentRequestLimit),this.Da=new Yn,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ws.prototype,s.la=8,s.G=1,s.connect=function(m,I,O,W){Wt(0),this.W=m,this.H=I||{},O&&W!==void 0&&(this.H.OSID=O,this.H.OAID=W),this.F=this.X,this.I=ct(this,null,this.W),dt(this)};function wn(m){if(me(m),m.G==3){var I=m.U++,O=Tt(m.I);if(He(O,"SID",m.K),He(O,"RID",I),He(O,"TYPE","terminate"),Ui(m,O),I=new Ir(m,m.j,I),I.L=2,I.v=cn(Tt(O)),O=!1,x.navigator&&x.navigator.sendBeacon)try{O=x.navigator.sendBeacon(I.v.toString(),"")}catch{}!O&&x.Image&&(new Image().src=I.v,O=!0),O||(I.g=$o(I.j,null),I.g.ea(I.v)),I.F=Date.now(),Lt(I)}zt(m)}function Ai(m){m.g&&(Ms(m),m.g.cancel(),m.g=null)}function me(m){Ai(m),m.u&&(x.clearTimeout(m.u),m.u=null),er(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&x.clearTimeout(m.s),m.s=null)}function dt(m){if(!Et(m.h)&&!m.s){m.s=!0;var I=m.Ga;ze||Ge(),ke||(ze(),ke=!0),Qe.add(I,m),m.B=0}}function $n(m,I){return bt(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=I.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=sr(k(m.Ga,m,I),Ls(m,m.B)),m.B++,!0)}s.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const de=new Ir(this,this.j,m);let we=this.o;if(this.S&&(we?(we=F(we),X(we,this.S)):we=this.S),this.m!==null||this.O||(de.H=we,we=null),this.P)e:{for(var I=0,O=0;O<this.i.length;O++){t:{var W=this.i[O];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(I+=W,4096<I){I=O;break e}if(I===4096||O===this.i.length-1){I=O+1;break e}}I=1e3}else I=1e3;I=_s(this,de,I),O=Tt(this.I),He(O,"RID",m),He(O,"CVER",22),this.D&&He(O,"X-HTTP-Session-Id",this.D),Ui(this,O),we&&(this.O?I="headers="+encodeURIComponent(String(Gr(we)))+"&"+I:this.m&&ni(O,this.m,we)),Rs(this.h,de),this.Ua&&He(O,"TYPE","init"),this.P?(He(O,"$req",I),He(O,"SID","null"),de.T=!0,Er(de,O,null)):Er(de,O,I),this.G=2}}else this.G==3&&(m?rs(this,m):this.i.length==0||Et(this.h)||rs(this))};function rs(m,I){var O;I?O=I.l:O=m.U++;const W=Tt(m.I);He(W,"SID",m.K),He(W,"RID",O),He(W,"AID",m.T),Ui(m,W),m.m&&m.o&&ni(W,m.m,m.o),O=new Ir(m,m.j,O,m.B+1),m.m===null&&(O.H=m.o),I&&(m.i=I.D.concat(m.i)),I=_s(m,O,1e3),O.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Rs(m.h,O),Er(O,W,I)}function Ui(m,I){m.H&&Te(m.H,function(O,W){He(I,W,O)}),m.l&&qt({},function(O,W){He(I,W,O)})}function _s(m,I,O){O=Math.min(m.i.length,O);var W=m.l?k(m.l.Na,m.l,m):null;e:{var de=m.i;let we=-1;for(;;){const Ve=["count="+O];we==-1?0<O?(we=de[0].g,Ve.push("ofs="+we)):we=0:Ve.push("ofs="+we);let Yt=!0;for(let on=0;on<O;on++){let Dt=de[on].g;const nn=de[on].map;if(Dt-=we,0>Dt)we=Math.max(0,de[on].g-100),Yt=!1;else try{Co(nn,Ve,"req"+Dt+"_")}catch{W&&W(nn)}}if(Yt){W=Ve.join("&");break e}}}return m=m.i.splice(0,O),I.D=m,W}function Ds(m){if(!m.g&&!m.u){m.Y=1;var I=m.Fa;ze||Ge(),ke||(ze(),ke=!0),Qe.add(I,m),m.v=0}}function Js(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=sr(k(m.Fa,m),Ls(m,m.v)),m.v++,!0)}s.Fa=function(){if(this.u=null,Rn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=sr(k(this.ab,this),m)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Ai(this),Rn(this))};function Ms(m){m.A!=null&&(x.clearTimeout(m.A),m.A=null)}function Rn(m){m.g=new Ir(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var I=Tt(m.qa);He(I,"RID","rpc"),He(I,"SID",m.K),He(I,"AID",m.T),He(I,"CI",m.F?"0":"1"),!m.F&&m.ja&&He(I,"TO",m.ja),He(I,"TYPE","xmlhttp"),Ui(m,I),m.m&&m.o&&ni(I,m.m,m.o),m.L&&(m.g.I=m.L);var O=m.g;m=m.ia,O.L=1,O.v=cn(Tt(I)),O.m=null,O.P=!0,Wn(O,m)}s.Za=function(){this.C!=null&&(this.C=null,Ai(this),Js(this),Wt(19))};function er(m){m.C!=null&&(x.clearTimeout(m.C),m.C=null)}function Zt(m,I){var O=null;if(m.g==I){er(m),Ms(m),m.g=null;var W=2}else if(or(m.h,I))O=I.D,Ks(m.h,I),W=1;else return;if(m.G!=0){if(I.o)if(W==1){O=I.m?I.m.length:0,I=Date.now()-I.F;var de=m.B;W=Zi(),vn(W,new Ji(W,O)),dt(m)}else Ds(m);else if(de=I.s,de==3||de==0&&0<I.X||!(W==1&&$n(m,I)||W==2&&Js(m)))switch(O&&0<O.length&&(I=m.h,I.i=I.i.concat(O)),de){case 1:hr(m,5);break;case 4:hr(m,10);break;case 3:hr(m,6);break;default:hr(m,2)}}}function Ls(m,I){let O=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(O*=2),O*I}function hr(m,I){if(m.j.info("Error code "+I),I==2){var O=k(m.fb,m),W=m.Xa;const de=!W;W=new Wr(W||"//www.google.com/images/cleardot.gif"),x.location&&x.location.protocol=="http"||Nn(W,"https"),cn(W),de?ft(W.toString(),O):Fi(W.toString(),O)}else Wt(2);m.G=0,m.l&&m.l.sa(I),zt(m),me(m)}s.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function zt(m){if(m.G=0,m.ka=[],m.l){const I=bn(m.h);(I.length!=0||m.i.length!=0)&&(q(m.ka,I),q(m.ka,m.i),m.h.i.length=0,$(m.i),m.i.length=0),m.l.ra()}}function ct(m,I,O){var W=O instanceof Wr?Tt(O):new Wr(O);if(W.g!="")I&&(W.g=I+"."+W.g),fe(W,W.s);else{var de=x.location;W=de.protocol,I=I?I+"."+de.hostname:de.hostname,de=+de.port;var we=new Wr(null);W&&Nn(we,W),I&&(we.g=I),de&&fe(we,de),O&&(we.l=O),W=we}return O=m.D,I=m.ya,O&&I&&He(W,O,I),He(W,"VER",m.la),Ui(m,W),W}function $o(m,I,O){if(I&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=m.Ca&&!m.pa?new sn(new _i({eb:O})):new sn(m.pa),I.Ha(m.J),I}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gt(){}s=Gt.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ri(){}ri.prototype.g=function(m,I){return new Xn(m,I)};function Xn(m,I){Vt.call(this),this.g=new ws(I),this.l=m,this.h=I&&I.messageUrlParams||null,m=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(m?m["X-WebChannel-Content-Type"]=I.messageContentType:m={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(m?m["X-WebChannel-Client-Profile"]=I.va:m={"X-WebChannel-Client-Profile":I.va}),this.g.S=m,(m=I&&I.Sb)&&!Q(m)&&(this.g.m=m),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!Q(I)&&(this.g.D=I,m=this.h,m!==null&&I in m&&(m=this.h,I in m&&delete m[I])),this.j=new ii(this)}z(Xn,Vt),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){wn(this.g)},Xn.prototype.o=function(m){var I=this.g;if(typeof m=="string"){var O={};O.__data__=m,m=O}else this.u&&(O={},O.__data__=En(m),m=O);I.i.push(new Yo(I.Ya++,m)),I.G==3&&dt(I)},Xn.prototype.N=function(){this.g.l=null,delete this.j,wn(this.g),delete this.g,Xn.aa.N.call(this)};function Ps(m){cr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var I=m.__sm__;if(I){e:{for(const O in I){m=O;break e}m=void 0}(this.i=m)&&(m=this.i,I=I!==null&&m in I?I[m]:void 0),this.data=I}else this.data=m}z(Ps,cr);function Yr(){Ns.call(this),this.status=1}z(Yr,Ns);function ii(m){this.g=m}z(ii,Gt),ii.prototype.ua=function(){vn(this.g,"a")},ii.prototype.ta=function(m){vn(this.g,new Ps(m))},ii.prototype.sa=function(m){vn(this.g,new Yr)},ii.prototype.ra=function(){vn(this.g,"b")},ri.prototype.createWebChannel=ri.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,Em=function(){return new ri},ym=function(){return Zi()},mm=yi,Sd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ei.NO_ERROR=0,ei.TIMEOUT=8,ei.HTTP_ERROR=6,ih=ei,Sn.COMPLETE="complete",gm=Sn,bs.EventType=Ct,Ct.OPEN="a",Ct.CLOSE="b",Ct.ERROR="c",Ct.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,Iu=bs,sn.prototype.listenOnce=sn.prototype.L,sn.prototype.getLastError=sn.prototype.Ka,sn.prototype.getLastErrorCode=sn.prototype.Ba,sn.prototype.getStatus=sn.prototype.Z,sn.prototype.getResponseJson=sn.prototype.Oa,sn.prototype.getResponseText=sn.prototype.oa,sn.prototype.send=sn.prototype.ea,sn.prototype.setWithCredentials=sn.prototype.Ha,pm=sn}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const yp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}di.UNAUTHENTICATED=new di(null),di.GOOGLE_CREDENTIALS=new di("google-credentials-uid"),di.FIRST_PARTY=new di("first-party-uid"),di.MOCK_USER=new di("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new am("@firebase/firestore");function vl(){return Qa.logLevel}function ot(s,...e){if(Qa.logLevel<=Kt.DEBUG){const n=e.map(Kd);Qa.debug(`Firestore (${jl}): ${s}`,...n)}}function qa(s,...e){if(Qa.logLevel<=Kt.ERROR){const n=e.map(Kd);Qa.error(`Firestore (${jl}): ${s}`,...n)}}function ph(s,...e){if(Qa.logLevel<=Kt.WARN){const n=e.map(Kd);Qa.warn(`Firestore (${jl}): ${s}`,...n)}}function Kd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(s="Unexpected state"){const e=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: `+s;throw qa(e),new Error(e)}function ir(s,e){s||Ut()}function Ln(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Ul{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(di.UNAUTHENTICATED))}shutdown(){}}class ix{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sx{constructor(e){this.t=e,this.currentUser=di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ir(this.o===void 0);let l=this.i;const c=v=>this.i!==l?(l=this.i,n(v)):Promise.resolve();let f=new $a;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new $a,e.enqueueRetryable(()=>c(this.currentUser))};const y=()=>{const v=f;e.enqueueRetryable(async()=>{await v.promise,await c(this.currentUser)})},x=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),y())};this.t.onInit(v=>x(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?x(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new $a)}},0),y()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(l=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(ir(typeof l.accessToken=="string"),new wm(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ir(e===null||typeof e=="string"),new di(e)}}class ox{constructor(e,n,l){this.l=e,this.h=n,this.P=l,this.type="FirstParty",this.user=di.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ax{constructor(e,n,l){this.l=e,this.h=n,this.P=l}getToken(){return Promise.resolve(new ox(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ux{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ir(this.o===void 0);const l=f=>{f.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const y=f.token!==this.R;return this.R=f.token,ot("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?n(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>l(f))};const c=f=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>c(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?c(f):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ir(typeof n.token=="string"),this.R=n.token,new lx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let l=0;l<s;l++)n[l]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let l="";for(;l.length<20;){const c=cx(40);for(let f=0;f<c.length;++f)l.length<20&&c[f]<n&&(l+=e.charAt(c[f]%e.length))}return l}}function gn(s,e){return s<e?-1:s>e?1:0}function bl(s,e,n){return s.length===e.length&&s.every((l,c)=>n(l,e[c]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{static now(){return Fr.fromMillis(Date.now())}static fromDate(e){return Fr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*n));return new Fr(n,l)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _t(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new _t(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _t(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gn(this.nanoseconds,e.nanoseconds):gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{static fromTimestamp(e){return new jn(e)}static min(){return new jn(new Fr(0,0))}static max(){return new jn(new Fr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,l){n===void 0?n=0:n>e.length&&Ut(),l===void 0?l=e.length-n:l>e.length-n&&Ut(),this.segments=e,this.offset=n,this.len=l}get length(){return this.len}isEqual(e){return Fu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fu?e.forEach(l=>{n.push(l)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,l=this.limit();n<l;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const l=Math.min(e.length,n.length);for(let c=0;c<l;c++){const f=e.get(c),y=n.get(c);if(f<y)return-1;if(f>y)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rr extends Fu{construct(e,n,l){return new rr(e,n,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const l of e){if(l.indexOf("//")>=0)throw new _t(Fe.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);n.push(...l.split("/").filter(c=>c.length>0))}return new rr(n)}static emptyPath(){return new rr([])}}const hx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends Fu{construct(e,n,l){return new Zr(e,n,l)}static isValidIdentifier(e){return hx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zr(["__name__"])}static fromServerFormat(e){const n=[];let l="",c=0;const f=()=>{if(l.length===0)throw new _t(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(l),l=""};let y=!1;for(;c<e.length;){const x=e[c];if(x==="\\"){if(c+1===e.length)throw new _t(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[c+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new _t(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=v,c+=2}else x==="`"?(y=!y,c++):x!=="."||y?(l+=x,c++):(f(),c++)}if(f(),y)throw new _t(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zr(n)}static emptyPath(){return new Zr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(rr.fromString(e))}static fromName(e){return new Ot(rr.fromString(e).popFirst(5))}static empty(){return new Ot(rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new rr(e.slice()))}}function fx(s,e){const n=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,c=jn.fromTimestamp(l===1e9?new Fr(n+1,0):new Fr(n,l));return new Ea(c,Ot.empty(),e)}function dx(s){return new Ea(s.readTime,s.key,-1)}class Ea{constructor(e,n,l){this.readTime=e,this.documentKey=n,this.largestBatchId=l}static min(){return new Ea(jn.min(),Ot.empty(),-1)}static max(){return new Ea(jn.max(),Ot.empty(),-1)}}function px(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Ot.comparator(s.documentKey,e.documentKey),n!==0?n:gn(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qd(s){if(s.code!==Fe.FAILED_PRECONDITION||s.message!==gx)throw s;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be((l,c)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(l,c)},this.catchCallback=f=>{this.wrapFailure(n,f).next(l,c)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):be.reject(n)}static resolve(e){return new be((n,l)=>{n(e)})}static reject(e){return new be((n,l)=>{l(e)})}static waitFor(e){return new be((n,l)=>{let c=0,f=0,y=!1;e.forEach(x=>{++c,x.next(()=>{++f,y&&f===c&&n()},v=>l(v))}),y=!0,f===c&&n()})}static or(e){let n=be.resolve(!1);for(const l of e)n=n.next(c=>c?be.resolve(c):l());return n}static forEach(e,n){const l=[];return e.forEach((c,f)=>{l.push(n.call(this,c,f))}),this.waitFor(l)}static mapArray(e,n){return new be((l,c)=>{const f=e.length,y=new Array(f);let x=0;for(let v=0;v<f;v++){const w=v;n(e[w]).next(S=>{y[w]=S,++x,x===f&&l(y)},S=>c(S))}})}static doWhile(e,n){return new be((l,c)=>{const f=()=>{e()===!0?n().next(()=>{f()},c):l()};f()})}}function yx(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ku(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=l=>this.ie(l),this.se=l=>n.writeSequenceNumber(l))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qd.oe=-1;function Zd(s){return s==null}function gh(s){return s===0&&1/s==-1/0}function Ex(s){return typeof s=="number"&&Number.isInteger(s)&&!gh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Ep(e)),e=_x(s.get(n),e);return Ep(e)}function _x(s,e){let n=e;const l=s.length;for(let c=0;c<l;c++){const f=s.charAt(c);switch(f){case"\0":n+="";break;case"":n+="";break;default:n+=f}}return n}function Ep(s){return s+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function zl(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function xm(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this.comparator=e,this.root=n||Kr.EMPTY}insert(e,n){return new Xi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new Xi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const l=this.comparator(e,n.key);if(l===0)return n.value;l<0?n=n.left:l>0&&(n=n.right)}return null}indexOf(e){let n=0,l=this.root;for(;!l.isEmpty();){const c=this.comparator(e,l.key);if(c===0)return n+l.left.size;c<0?l=l.left:(n+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,l)=>(e(n,l),!1))}toString(){const e=[];return this.inorderTraversal((n,l)=>(e.push(`${n}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,l,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=n?l(e.key,n):1,n&&c&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,n,l,c,f){this.key=e,this.value=n,this.color=l??Kr.RED,this.left=c??Kr.EMPTY,this.right=f??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,l,c,f){return new Kr(e??this.key,n??this.value,l??this.color,c??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,l){let c=this;const f=l(e,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(e,n,l),null):f===0?c.copy(null,n,null,null,null):c.copy(null,null,null,null,c.right.insert(e,n,l)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let l,c=this;if(n(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,n),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),n(e,c.key)===0){if(c.right.isEmpty())return Kr.EMPTY;l=c.right.min(),c=c.copy(l.key,l.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,n))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ut();const e=this.left.check();if(e!==this.right.check())throw Ut();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1;Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut()}get value(){throw Ut()}get color(){throw Ut()}get left(){throw Ut()}get right(){throw Ut()}copy(e,n,l,c,f){return this}insert(e,n,l){return new Kr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.comparator=e,this.data=new Xi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,l)=>(e(n),!1))}forEachInRange(e,n){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const c=l.getNext();if(this.comparator(c.key,e[1])>=0)return;n(c.key)}}forEachWhile(e,n){let l;for(l=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _p(this.data.getIterator())}getIteratorFrom(e){return new _p(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(l=>{n=n.add(l)}),n}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const n=this.data.getIterator(),l=e.data.getIterator();for(;n.hasNext();){const c=n.getNext().key,f=l.getNext().key;if(this.comparator(c,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jr(this.comparator);return n.data=e,n}}class _p{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.fields=e,e.sort(Zr.comparator)}static empty(){return new $s([])}unionWith(e){let n=new Jr(Zr.comparator);for(const l of this.fields)n=n.add(l);for(const l of e)n=n.add(l);return new $s(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,(n,l)=>n.isEqual(l))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(c){try{return atob(c)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new xx("Invalid base64 string: "+f):f}}(e);return new yo(n)}static fromUint8Array(e){const n=function(c){let f="";for(let y=0;y<c.length;++y)f+=String.fromCharCode(c[y]);return f}(e);return new yo(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const l=new Uint8Array(n.length);for(let c=0;c<n.length;c++)l[c]=n.charCodeAt(c);return l}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yo.EMPTY_BYTE_STRING=new yo("");const vx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(s){if(ir(!!s),typeof s=="string"){let e=0;const n=vx.exec(s);if(ir(!!n),n[1]){let c=n[1];c=(c+"000000000").substr(0,9),e=Number(c)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:Qr(s.seconds),nanos:Qr(s.nanos)}}function Qr(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Nl(s){return typeof s=="string"?yo.fromBase64String(s):yo.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function e1(s){const e=s.mapValue.fields.__previous_value__;return Jd(e)?e1(e):e}function mh(s){const e=Za(s.mapValue.fields.__local_write_time__.timestampValue);return new Fr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,l,c,f,y,x,v,w){this.databaseId=e,this.appId=n,this.persistenceKey=l,this.host=c,this.ssl=f,this.forceLongPolling=y,this.autoDetectLongPolling=x,this.longPollingOptions=v,this.useFetchStreams=w}}class yh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ja(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Jd(s)?4:Tx(s)?9007199254740991:Cx(s)?10:11:Ut()}function Eo(s,e){if(s===e)return!0;const n=Ja(s);if(n!==Ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return mh(s).isEqual(mh(e));case 3:return function(c,f){if(typeof c.timestampValue=="string"&&typeof f.timestampValue=="string"&&c.timestampValue.length===f.timestampValue.length)return c.timestampValue===f.timestampValue;const y=Za(c.timestampValue),x=Za(f.timestampValue);return y.seconds===x.seconds&&y.nanos===x.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(c,f){return Nl(c.bytesValue).isEqual(Nl(f.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(c,f){return Qr(c.geoPointValue.latitude)===Qr(f.geoPointValue.latitude)&&Qr(c.geoPointValue.longitude)===Qr(f.geoPointValue.longitude)}(s,e);case 2:return function(c,f){if("integerValue"in c&&"integerValue"in f)return Qr(c.integerValue)===Qr(f.integerValue);if("doubleValue"in c&&"doubleValue"in f){const y=Qr(c.doubleValue),x=Qr(f.doubleValue);return y===x?gh(y)===gh(x):isNaN(y)&&isNaN(x)}return!1}(s,e);case 9:return bl(s.arrayValue.values||[],e.arrayValue.values||[],Eo);case 10:case 11:return function(c,f){const y=c.mapValue.fields||{},x=f.mapValue.fields||{};if(wp(y)!==wp(x))return!1;for(const v in y)if(y.hasOwnProperty(v)&&(x[v]===void 0||!Eo(y[v],x[v])))return!1;return!0}(s,e);default:return Ut()}}function Vu(s,e){return(s.values||[]).find(n=>Eo(n,e))!==void 0}function Rl(s,e){if(s===e)return 0;const n=Ja(s),l=Ja(e);if(n!==l)return gn(n,l);switch(n){case 0:case 9007199254740991:return 0;case 1:return gn(s.booleanValue,e.booleanValue);case 2:return function(f,y){const x=Qr(f.integerValue||f.doubleValue),v=Qr(y.integerValue||y.doubleValue);return x<v?-1:x>v?1:x===v?0:isNaN(x)?isNaN(v)?0:-1:1}(s,e);case 3:return xp(s.timestampValue,e.timestampValue);case 4:return xp(mh(s),mh(e));case 5:return gn(s.stringValue,e.stringValue);case 6:return function(f,y){const x=Nl(f),v=Nl(y);return x.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(f,y){const x=f.split("/"),v=y.split("/");for(let w=0;w<x.length&&w<v.length;w++){const S=gn(x[w],v[w]);if(S!==0)return S}return gn(x.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(f,y){const x=gn(Qr(f.latitude),Qr(y.latitude));return x!==0?x:gn(Qr(f.longitude),Qr(y.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return vp(s.arrayValue,e.arrayValue);case 10:return function(f,y){var x,v,w,S;const N=f.fields||{},k=y.fields||{},U=(x=N.value)===null||x===void 0?void 0:x.arrayValue,z=(v=k.value)===null||v===void 0?void 0:v.arrayValue,$=gn(((w=U==null?void 0:U.values)===null||w===void 0?void 0:w.length)||0,((S=z==null?void 0:z.values)===null||S===void 0?void 0:S.length)||0);return $!==0?$:vp(U,z)}(s.mapValue,e.mapValue);case 11:return function(f,y){if(f===Qc.mapValue&&y===Qc.mapValue)return 0;if(f===Qc.mapValue)return 1;if(y===Qc.mapValue)return-1;const x=f.fields||{},v=Object.keys(x),w=y.fields||{},S=Object.keys(w);v.sort(),S.sort();for(let N=0;N<v.length&&N<S.length;++N){const k=gn(v[N],S[N]);if(k!==0)return k;const U=Rl(x[v[N]],w[S[N]]);if(U!==0)return U}return gn(v.length,S.length)}(s.mapValue,e.mapValue);default:throw Ut()}}function xp(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return gn(s,e);const n=Za(s),l=Za(e),c=gn(n.seconds,l.seconds);return c!==0?c:gn(n.nanos,l.nanos)}function vp(s,e){const n=s.values||[],l=e.values||[];for(let c=0;c<n.length&&c<l.length;++c){const f=Rl(n[c],l[c]);if(f)return f}return gn(n.length,l.length)}function Ol(s){return bd(s)}function bd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const l=Za(n);return`time(${l.seconds},${l.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return Nl(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return Ot.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let l="[",c=!0;for(const f of n.values||[])c?c=!1:l+=",",l+=bd(f);return l+"]"}(s.arrayValue):"mapValue"in s?function(n){const l=Object.keys(n.fields||{}).sort();let c="{",f=!0;for(const y of l)f?f=!1:c+=",",c+=`${y}:${bd(n.fields[y])}`;return c+"}"}(s.mapValue):Ut()}function sh(s){switch(Ja(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=e1(s);return e?16+sh(e):16;case 5:return 2*s.stringValue.length;case 6:return Nl(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(l){return(l.values||[]).reduce((c,f)=>c+sh(f),0)}(s.arrayValue);case 10:case 11:return function(l){let c=0;return zl(l.fields,(f,y)=>{c+=f.length+sh(y)}),c}(s.mapValue);default:throw Ut()}}function Nd(s){return!!s&&"integerValue"in s}function t1(s){return!!s&&"arrayValue"in s}function oh(s){return!!s&&"mapValue"in s}function Cx(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function bu(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return zl(s.mapValue.fields,(n,l)=>e.mapValue.fields[n]=bu(l)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bu(s.arrayValue.values[n]);return e}return Object.assign({},s)}function Tx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.value=e}static empty(){return new Ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let l=0;l<e.length-1;++l)if(n=(n.mapValue.fields||{})[e.get(l)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(n)}setAll(e){let n=Zr.emptyPath(),l={},c=[];e.forEach((y,x)=>{if(!n.isImmediateParentOf(x)){const v=this.getFieldsMap(n);this.applyChanges(v,l,c),l={},c=[],n=x.popLast()}y?l[x.lastSegment()]=bu(y):c.push(x.lastSegment())});const f=this.getFieldsMap(n);this.applyChanges(f,l,c)}delete(e){const n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Eo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let l=0;l<e.length;++l){let c=n.mapValue.fields[e.get(l)];oh(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},n.mapValue.fields[e.get(l)]=c),n=c}return n.mapValue.fields}applyChanges(e,n,l){zl(n,(c,f)=>e[c]=f);for(const c of l)delete e[c]}clone(){return new Ys(bu(this.value))}}function vm(s){const e=[];return zl(s.fields,(n,l)=>{const c=new Zr([n]);if(oh(l)){const f=vm(l.mapValue).fields;if(f.length===0)e.push(c);else for(const y of f)e.push(c.child(y))}else e.push(c)}),new $s(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,l,c,f,y,x){this.key=e,this.documentType=n,this.version=l,this.readTime=c,this.createTime=f,this.data=y,this.documentState=x}static newInvalidDocument(e){return new Gs(e,0,jn.min(),jn.min(),jn.min(),Ys.empty(),0)}static newFoundDocument(e,n,l,c){return new Gs(e,1,n,jn.min(),l,c,0)}static newNoDocument(e,n){return new Gs(e,2,n,jn.min(),jn.min(),Ys.empty(),0)}static newUnknownDocument(e,n){return new Gs(e,3,n,jn.min(),jn.min(),Ys.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(jn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function Ap(s,e,n){let l=0;for(let c=0;c<s.position.length;c++){const f=e[c],y=s.position[c];if(f.field.isKeyField()?l=Ot.comparator(Ot.fromName(y.referenceValue),n.key):l=Rl(y,n.data.field(f.field)),f.dir==="desc"&&(l*=-1),l!==0)break}return l}function Cp(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Eo(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ix(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{}class Br extends Am{constructor(e,n,l){super(),this.field=e,this.op=n,this.value=l}static create(e,n,l){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,l):new bx(e,n,l):n==="array-contains"?new Ox(e,l):n==="in"?new Dx(e,l):n==="not-in"?new Mx(e,l):n==="array-contains-any"?new Lx(e,l):new Br(e,n,l)}static createKeyFieldInFilter(e,n,l){return n==="in"?new Nx(e,l):new Rx(e,l)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Rl(n,this.value)):n!==null&&Ja(this.value)===Ja(n)&&this.matchesComparison(Rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wa extends Am{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new wa(e,n)}matches(e){return Cm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Cm(s){return s.op==="and"}function Tm(s){return Sx(s)&&Cm(s)}function Sx(s){for(const e of s.filters)if(e instanceof wa)return!1;return!0}function Rd(s){if(s instanceof Br)return s.field.canonicalString()+s.op.toString()+Ol(s.value);if(Tm(s))return s.filters.map(e=>Rd(e)).join(",");{const e=s.filters.map(n=>Rd(n)).join(",");return`${s.op}(${e})`}}function Im(s,e){return s instanceof Br?function(l,c){return c instanceof Br&&l.op===c.op&&l.field.isEqual(c.field)&&Eo(l.value,c.value)}(s,e):s instanceof wa?function(l,c){return c instanceof wa&&l.op===c.op&&l.filters.length===c.filters.length?l.filters.reduce((f,y,x)=>f&&Im(y,c.filters[x]),!0):!1}(s,e):void Ut()}function Sm(s){return s instanceof Br?function(n){return`${n.field.canonicalString()} ${n.op} ${Ol(n.value)}`}(s):s instanceof wa?function(n){return n.op.toString()+" {"+n.getFilters().map(Sm).join(" ,")+"}"}(s):"Filter"}class bx extends Br{constructor(e,n,l){super(e,n,l),this.key=Ot.fromName(l.referenceValue)}matches(e){const n=Ot.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nx extends Br{constructor(e,n){super(e,"in",n),this.keys=bm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rx extends Br{constructor(e,n){super(e,"not-in",n),this.keys=bm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bm(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(l=>Ot.fromName(l.referenceValue))}class Ox extends Br{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return t1(n)&&Vu(n.arrayValue,this.value)}}class Dx extends Br{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class Mx extends Br{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vu(this.value.arrayValue,n)}}class Lx extends Br{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!t1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(l=>Vu(this.value.arrayValue,l))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n=null,l=[],c=[],f=null,y=null,x=null){this.path=e,this.collectionGroup=n,this.orderBy=l,this.filters=c,this.limit=f,this.startAt=y,this.endAt=x,this.ue=null}}function Tp(s,e=null,n=[],l=[],c=null,f=null,y=null){return new Px(s,e,n,l,c,f,y)}function n1(s){const e=Ln(s);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(l=>Rd(l)).join(","),n+="|ob:",n+=e.orderBy.map(l=>function(f){return f.field.canonicalString()+f.dir}(l)).join(","),Zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(l=>Ol(l)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(l=>Ol(l)).join(",")),e.ue=n}return e.ue}function r1(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Ix(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Im(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Cp(s.startAt,e.startAt)&&Cp(s.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n=null,l=[],c=[],f=null,y="F",x=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=l,this.filters=c,this.limit=f,this.limitType=y,this.startAt=x,this.endAt=v,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kx(s,e,n,l,c,f,y,x){return new Oh(s,e,n,l,c,f,y,x)}function Bx(s){return new Oh(s)}function Ip(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Fx(s){return s.collectionGroup!==null}function Nu(s){const e=Ln(s);if(e.ce===null){e.ce=[];const n=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),n.add(f.field.canonicalString());const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(y){let x=new Jr(Zr.comparator);return y.filters.forEach(v=>{v.getFlattenedFilters().forEach(w=>{w.isInequality()&&(x=x.add(w.field))})}),x})(e).forEach(f=>{n.has(f.canonicalString())||f.isKeyField()||e.ce.push(new wh(f,l))}),n.has(Zr.keyField().canonicalString())||e.ce.push(new wh(Zr.keyField(),l))}return e.ce}function Xa(s){const e=Ln(s);return e.le||(e.le=Vx(e,Nu(s))),e.le}function Vx(s,e){if(s.limitType==="F")return Tp(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(c=>{const f=c.dir==="desc"?"asc":"desc";return new wh(c.field,f)});const n=s.endAt?new Eh(s.endAt.position,s.endAt.inclusive):null,l=s.startAt?new Eh(s.startAt.position,s.startAt.inclusive):null;return Tp(s.path,s.collectionGroup,e,s.filters,s.limit,n,l)}}function Od(s,e,n){return new Oh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Nm(s,e){return r1(Xa(s),Xa(e))&&s.limitType===e.limitType}function Rm(s){return`${n1(Xa(s))}|lt:${s.limitType}`}function Cu(s){return`Query(target=${function(n){let l=n.path.canonicalString();return n.collectionGroup!==null&&(l+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(l+=`, filters: [${n.filters.map(c=>Sm(c)).join(", ")}]`),Zd(n.limit)||(l+=", limit: "+n.limit),n.orderBy.length>0&&(l+=`, orderBy: [${n.orderBy.map(c=>function(y){return`${y.field.canonicalString()} (${y.dir})`}(c)).join(", ")}]`),n.startAt&&(l+=", startAt: ",l+=n.startAt.inclusive?"b:":"a:",l+=n.startAt.position.map(c=>Ol(c)).join(",")),n.endAt&&(l+=", endAt: ",l+=n.endAt.inclusive?"a:":"b:",l+=n.endAt.position.map(c=>Ol(c)).join(",")),`Target(${l})`}(Xa(s))}; limitType=${s.limitType})`}function i1(s,e){return e.isFoundDocument()&&function(l,c){const f=c.key.path;return l.collectionGroup!==null?c.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(f):Ot.isDocumentKey(l.path)?l.path.isEqual(f):l.path.isImmediateParentOf(f)}(s,e)&&function(l,c){for(const f of Nu(l))if(!f.field.isKeyField()&&c.data.field(f.field)===null)return!1;return!0}(s,e)&&function(l,c){for(const f of l.filters)if(!f.matches(c))return!1;return!0}(s,e)&&function(l,c){return!(l.startAt&&!function(y,x,v){const w=Ap(y,x,v);return y.inclusive?w<=0:w<0}(l.startAt,Nu(l),c)||l.endAt&&!function(y,x,v){const w=Ap(y,x,v);return y.inclusive?w>=0:w>0}(l.endAt,Nu(l),c))}(s,e)}function Ux(s){return(e,n)=>{let l=!1;for(const c of Nu(s)){const f=jx(c,e,n);if(f!==0)return f;l=l||c.field.isKeyField()}return 0}}function jx(s,e,n){const l=s.field.isKeyField()?Ot.comparator(e.key,n.key):function(f,y,x){const v=y.data.field(f),w=x.data.field(f);return v!==null&&w!==null?Rl(v,w):Ut()}(s.field,e,n);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return Ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),l=this.inner[n];if(l!==void 0){for(const[c,f]of l)if(this.equalsFn(c,e))return f}}has(e){return this.get(e)!==void 0}set(e,n){const l=this.mapKeyFn(e),c=this.inner[l];if(c===void 0)return this.inner[l]=[[e,n]],void this.innerSize++;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],e))return void(c[f]=[e,n]);c.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),l=this.inner[n];if(l===void 0)return!1;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return l.length===1?delete this.inner[n]:l.splice(c,1),this.innerSize--,!0;return!1}forEach(e){zl(this.inner,(n,l)=>{for(const[c,f]of l)e(c,f)})}isEmpty(){return xm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Xi(Ot.comparator);function _h(){return zx}const Om=new Xi(Ot.comparator);function qc(...s){let e=Om;for(const n of s)e=e.insert(n.key,n);return e}function Dm(s){let e=Om;return s.forEach((n,l)=>e=e.insert(n,l.overlayedDocument)),e}function Ya(){return Ru()}function Mm(){return Ru()}function Ru(){return new rl(s=>s.toString(),(s,e)=>s.isEqual(e))}const Hx=new Xi(Ot.comparator),Wx=new Jr(Ot.comparator);function pi(...s){let e=Wx;for(const n of s)e=e.add(n);return e}const Gx=new Jr(gn);function Yx(){return Gx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function Lm(s){return{integerValue:""+s}}function $x(s,e){return Ex(e)?Lm(e):s1(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this._=void 0}}function Xx(s,e,n){return s instanceof xh?function(c,f){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return f&&Jd(f)&&(f=e1(f)),f&&(y.fields.__previous_value__=f),{mapValue:y}}(n,e):s instanceof Uu?km(s,e):s instanceof ju?Bm(s,e):function(c,f){const y=Pm(c,f),x=Sp(y)+Sp(c.Pe);return Nd(y)&&Nd(c.Pe)?Lm(x):s1(c.serializer,x)}(s,e)}function Kx(s,e,n){return s instanceof Uu?km(s,e):s instanceof ju?Bm(s,e):n}function Pm(s,e){return s instanceof vh?function(l){return Nd(l)||function(f){return!!f&&"doubleValue"in f}(l)}(e)?e:{integerValue:0}:null}class xh extends Dh{}class Uu extends Dh{constructor(e){super(),this.elements=e}}function km(s,e){const n=Fm(e);for(const l of s.elements)n.some(c=>Eo(c,l))||n.push(l);return{arrayValue:{values:n}}}class ju extends Dh{constructor(e){super(),this.elements=e}}function Bm(s,e){let n=Fm(e);for(const l of s.elements)n=n.filter(c=>!Eo(c,l));return{arrayValue:{values:n}}}class vh extends Dh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Sp(s){return Qr(s.integerValue||s.doubleValue)}function Fm(s){return t1(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Qx(s,e){return s.field.isEqual(e.field)&&function(l,c){return l instanceof Uu&&c instanceof Uu||l instanceof ju&&c instanceof ju?bl(l.elements,c.elements,Eo):l instanceof vh&&c instanceof vh?Eo(l.Pe,c.Pe):l instanceof xh&&c instanceof xh}(s.transform,e.transform)}class qx{constructor(e,n){this.version=e,this.transformResults=n}}class Uo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Uo}static exists(e){return new Uo(void 0,e)}static updateTime(e){return new Uo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Mh{}function Vm(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new jm(s.key,Uo.none()):new Qu(s.key,s.data,Uo.none());{const n=s.data,l=Ys.empty();let c=new Jr(Zr.comparator);for(let f of e.fields)if(!c.has(f)){let y=n.field(f);y===null&&f.length>1&&(f=f.popLast(),y=n.field(f)),y===null?l.delete(f):l.set(f,y),c=c.add(f)}return new il(s.key,l,new $s(c.toArray()),Uo.none())}}function Zx(s,e,n){s instanceof Qu?function(c,f,y){const x=c.value.clone(),v=Np(c.fieldTransforms,f,y.transformResults);x.setAll(v),f.convertToFoundDocument(y.version,x).setHasCommittedMutations()}(s,e,n):s instanceof il?function(c,f,y){if(!ah(c.precondition,f))return void f.convertToUnknownDocument(y.version);const x=Np(c.fieldTransforms,f,y.transformResults),v=f.data;v.setAll(Um(c)),v.setAll(x),f.convertToFoundDocument(y.version,v).setHasCommittedMutations()}(s,e,n):function(c,f,y){f.convertToNoDocument(y.version).setHasCommittedMutations()}(0,e,n)}function Ou(s,e,n,l){return s instanceof Qu?function(f,y,x,v){if(!ah(f.precondition,y))return x;const w=f.value.clone(),S=Rp(f.fieldTransforms,v,y);return w.setAll(S),y.convertToFoundDocument(y.version,w).setHasLocalMutations(),null}(s,e,n,l):s instanceof il?function(f,y,x,v){if(!ah(f.precondition,y))return x;const w=Rp(f.fieldTransforms,v,y),S=y.data;return S.setAll(Um(f)),S.setAll(w),y.convertToFoundDocument(y.version,S).setHasLocalMutations(),x===null?null:x.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(N=>N.field))}(s,e,n,l):function(f,y,x){return ah(f.precondition,y)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):x}(s,e,n)}function Jx(s,e){let n=null;for(const l of s.fieldTransforms){const c=e.data.field(l.field),f=Pm(l.transform,c||null);f!=null&&(n===null&&(n=Ys.empty()),n.set(l.field,f))}return n||null}function bp(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(l,c){return l===void 0&&c===void 0||!(!l||!c)&&bl(l,c,(f,y)=>Qx(f,y))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Qu extends Mh{constructor(e,n,l,c=[]){super(),this.key=e,this.value=n,this.precondition=l,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class il extends Mh{constructor(e,n,l,c,f=[]){super(),this.key=e,this.data=n,this.fieldMask=l,this.precondition=c,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Um(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const l=s.data.field(n);e.set(n,l)}}),e}function Np(s,e,n){const l=new Map;ir(s.length===n.length);for(let c=0;c<n.length;c++){const f=s[c],y=f.transform,x=e.data.field(f.field);l.set(f.field,Kx(y,x,n[c]))}return l}function Rp(s,e,n){const l=new Map;for(const c of s){const f=c.transform,y=n.data.field(c.field);l.set(c.field,Xx(f,y,e))}return l}class jm extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ev extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,l,c){this.batchId=e,this.localWriteTime=n,this.baseMutations=l,this.mutations=c}applyToRemoteDocument(e,n){const l=n.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(e.key)&&Zx(f,e,l[c])}}applyToLocalView(e,n){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(n=Ou(l,e,n,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(n=Ou(l,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const l=Mm();return this.mutations.forEach(c=>{const f=e.get(c.key),y=f.overlayedDocument;let x=this.applyToLocalView(y,f.mutatedFields);x=n.has(c.key)?null:x;const v=Vm(y,x);v!==null&&l.set(c.key,v),y.isValidDocument()||y.convertToNoDocument(jn.min())}),l}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pi())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,(n,l)=>bp(n,l))&&bl(this.baseMutations,e.baseMutations,(n,l)=>bp(n,l))}}class o1{constructor(e,n,l,c){this.batch=e,this.commitVersion=n,this.mutationResults=l,this.docVersions=c}static from(e,n,l){ir(e.mutations.length===l.length);let c=function(){return Hx}();const f=e.mutations;for(let y=0;y<f.length;y++)c=c.insert(f[y].key,l[y].version);return new o1(e,n,l,c)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr,Xt;function rv(s){switch(s){default:return Ut();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function iv(s){if(s===void 0)return qa("GRPC error has no .code"),Fe.UNKNOWN;switch(s){case gr.OK:return Fe.OK;case gr.CANCELLED:return Fe.CANCELLED;case gr.UNKNOWN:return Fe.UNKNOWN;case gr.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case gr.INTERNAL:return Fe.INTERNAL;case gr.UNAVAILABLE:return Fe.UNAVAILABLE;case gr.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case gr.NOT_FOUND:return Fe.NOT_FOUND;case gr.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case gr.ABORTED:return Fe.ABORTED;case gr.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case gr.DATA_LOSS:return Fe.DATA_LOSS;default:return Ut()}}(Xt=gr||(gr={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new dm([4294967295,4294967295],0);class sv{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ov(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function av(s,e){return Dd(s,e.toTimestamp())}function Sl(s){return ir(!!s),jn.fromTimestamp(function(n){const l=Za(n);return new Fr(l.seconds,l.nanos)}(s))}function zm(s,e){return Md(s,e).canonicalString()}function Md(s,e){const n=function(c){return new rr(["projects",c.projectId,"databases",c.database])}(s).child("documents");return e===void 0?n:n.child(e)}function lv(s){const e=rr.fromString(s);return ir(mv(e)),e}function Ld(s,e){return zm(s.databaseId,e.path)}function uv(s){const e=lv(s);return e.length===4?rr.emptyPath():hv(e)}function cv(s){return new rr(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function hv(s){return ir(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Op(s,e,n){return{name:Ld(s,e),fields:n.value.mapValue.fields}}function fv(s,e){let n;if(e instanceof Qu)n={update:Op(s,e.key,e.value)};else if(e instanceof jm)n={delete:Ld(s,e.key)};else if(e instanceof il)n={update:Op(s,e.key,e.data),updateMask:gv(e.fieldMask)};else{if(!(e instanceof ev))return Ut();n={verify:Ld(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(l=>function(f,y){const x=y.transform;if(x instanceof xh)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof Uu)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof ju)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof vh)return{fieldPath:y.field.canonicalString(),increment:x.Pe};throw Ut()}(0,l))),e.precondition.isNone||(n.currentDocument=function(c,f){return f.updateTime!==void 0?{updateTime:av(c,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:Ut()}(s,e.precondition)),n}function dv(s,e){return s&&s.length>0?(ir(e!==void 0),s.map(n=>function(c,f){let y=c.updateTime?Sl(c.updateTime):Sl(f);return y.isEqual(jn.min())&&(y=Sl(f)),new qx(y,c.transformResults||[])}(n,e))):[]}function pv(s){let e=uv(s.parent);const n=s.structuredQuery,l=n.from?n.from.length:0;let c=null;if(l>0){ir(l===1);const S=n.from[0];S.allDescendants?c=S.collectionId:e=e.child(S.collectionId)}let f=[];n.where&&(f=function(N){const k=Hm(N);return k instanceof wa&&Tm(k)?k.getFilters():[k]}(n.where));let y=[];n.orderBy&&(y=function(N){return N.map(k=>function(z){return new wh(Al(z.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(k))}(n.orderBy));let x=null;n.limit&&(x=function(N){let k;return k=typeof N=="object"?N.value:N,Zd(k)?null:k}(n.limit));let v=null;n.startAt&&(v=function(N){const k=!!N.before,U=N.values||[];return new Eh(U,k)}(n.startAt));let w=null;return n.endAt&&(w=function(N){const k=!N.before,U=N.values||[];return new Eh(U,k)}(n.endAt)),kx(e,c,y,f,x,"F",v,w)}function Hm(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const l=Al(n.unaryFilter.field);return Br.create(l,"==",{doubleValue:NaN});case"IS_NULL":const c=Al(n.unaryFilter.field);return Br.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Al(n.unaryFilter.field);return Br.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=Al(n.unaryFilter.field);return Br.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Ut()}}(s):s.fieldFilter!==void 0?function(n){return Br.create(Al(n.fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ut()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return wa.create(n.compositeFilter.filters.map(l=>Hm(l)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return Ut()}}(n.compositeFilter.op))}(s):Ut()}function Al(s){return Zr.fromServerFormat(s.fieldPath)}function gv(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){this.ht=e}}function Ev(s){const e=pv({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Od(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.ln=new _v}addToCollectionParentIndex(e,n){return this.ln.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(Ea.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(Ea.min())}updateCollectionGroup(e,n,l){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class _v{constructor(){this.index={}}add(e){const n=e.lastSegment(),l=e.popLast(),c=this.index[n]||new Jr(rr.comparator),f=!c.has(l);return this.index[n]=c.add(l),f}has(e){const n=e.lastSegment(),l=e.popLast(),c=this.index[n];return c&&c.has(l)}getEntries(e){return(this.index[e]||new Jr(rr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $i{static withCacheSize(e){return new $i(e,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i.DEFAULT_COLLECTION_PERCENTILE=10,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$i.DEFAULT=new $i(41943040,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$i.DISABLED=new $i(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Dl(0)}static Qn(){return new Dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp([s,e],[n,l]){const c=gn(s,n);return c===0?gn(e,l):c}class xv{constructor(e){this.Gn=e,this.buffer=new Jr(Mp),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const l=this.buffer.last();Mp(n,l)<0&&(this.buffer=this.buffer.delete(l).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vv{constructor(e,n,l){this.garbageCollector=e,this.asyncQueue=n,this.localStore=l,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ot("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ku(n)?ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Qd(n)}await this.Yn(3e5)})}}class Av{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(l=>Math.floor(n/100*l))}nthSequenceNumber(e,n){if(n===0)return be.resolve(qd.oe);const l=new xv(n);return this.Zn.forEachTarget(e,c=>l.Hn(c.sequenceNumber)).next(()=>this.Zn.er(e,c=>l.Hn(c))).next(()=>l.maxValue)}removeTargets(e,n,l){return this.Zn.removeTargets(e,n,l)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(Dp)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dp):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let l,c,f,y,x,v,w;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),c=this.params.maximumSequenceNumbersToCollect):c=N,y=Date.now(),this.nthSequenceNumber(e,c))).next(N=>(l=N,x=Date.now(),this.removeTargets(e,l,n))).next(N=>(f=N,v=Date.now(),this.removeOrphanedDocuments(e,l))).next(N=>(w=Date.now(),vl()<=Kt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${y-S}ms
	Determined least recently used ${c} in `+(x-y)+`ms
	Removed ${f} targets in `+(v-x)+`ms
	Removed ${N} documents in `+(w-v)+`ms
Total Duration: ${w-S}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:N})))}}function Cv(s,e){return new Av(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.changes=new rl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const l=this.changes.get(n);return l!==void 0?be.resolve(l):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,l,c){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=l,this.indexManager=c}getDocument(e,n){let l=null;return this.documentOverlayCache.getOverlay(e,n).next(c=>(l=c,this.remoteDocumentCache.getEntry(e,n))).next(c=>(l!==null&&Ou(l.mutation,c,$s.empty(),Fr.now()),c))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(l=>this.getLocalViewOfDocuments(e,l,pi()).next(()=>l))}getLocalViewOfDocuments(e,n,l=pi()){const c=Ya();return this.populateOverlays(e,c,n).next(()=>this.computeViews(e,n,c,l).next(f=>{let y=qc();return f.forEach((x,v)=>{y=y.insert(x,v.overlayedDocument)}),y}))}getOverlayedDocuments(e,n){const l=Ya();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,pi()))}populateOverlays(e,n,l){const c=[];return l.forEach(f=>{n.has(f)||c.push(f)}),this.documentOverlayCache.getOverlays(e,c).next(f=>{f.forEach((y,x)=>{n.set(y,x)})})}computeViews(e,n,l,c){let f=_h();const y=Ru(),x=function(){return Ru()}();return n.forEach((v,w)=>{const S=l.get(w.key);c.has(w.key)&&(S===void 0||S.mutation instanceof il)?f=f.insert(w.key,w):S!==void 0?(y.set(w.key,S.mutation.getFieldMask()),Ou(S.mutation,w,S.mutation.getFieldMask(),Fr.now())):y.set(w.key,$s.empty())}),this.recalculateAndSaveOverlays(e,f).next(v=>(v.forEach((w,S)=>y.set(w,S)),n.forEach((w,S)=>{var N;return x.set(w,new Iv(S,(N=y.get(w))!==null&&N!==void 0?N:null))}),x))}recalculateAndSaveOverlays(e,n){const l=Ru();let c=new Xi((y,x)=>y-x),f=pi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(y=>{for(const x of y)x.keys().forEach(v=>{const w=n.get(v);if(w===null)return;let S=l.get(v)||$s.empty();S=x.applyToLocalView(w,S),l.set(v,S);const N=(c.get(x.batchId)||pi()).add(v);c=c.insert(x.batchId,N)})}).next(()=>{const y=[],x=c.getReverseIterator();for(;x.hasNext();){const v=x.getNext(),w=v.key,S=v.value,N=Mm();S.forEach(k=>{if(!f.has(k)){const U=Vm(n.get(k),l.get(k));U!==null&&N.set(k,U),f=f.add(k)}}),y.push(this.documentOverlayCache.saveOverlays(e,w,N))}return be.waitFor(y)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,n,l,c){return function(y){return Ot.isDocumentKey(y.path)&&y.collectionGroup===null&&y.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,l,c):this.getDocumentsMatchingCollectionQuery(e,n,l,c)}getNextDocuments(e,n,l,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,l,c).next(f=>{const y=c-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,l.largestBatchId,c-f.size):be.resolve(Ya());let x=-1,v=f;return y.next(w=>be.forEach(w,(S,N)=>(x<N.largestBatchId&&(x=N.largestBatchId),f.get(S)?be.resolve():this.remoteDocumentCache.getEntry(e,S).next(k=>{v=v.insert(S,k)}))).next(()=>this.populateOverlays(e,w,f)).next(()=>this.computeViews(e,v,w,pi())).next(S=>({batchId:x,changes:Dm(S)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ot(n)).next(l=>{let c=qc();return l.isFoundDocument()&&(c=c.insert(l.key,l)),c})}getDocumentsMatchingCollectionGroupQuery(e,n,l,c){const f=n.collectionGroup;let y=qc();return this.indexManager.getCollectionParents(e,f).next(x=>be.forEach(x,v=>{const w=function(N,k){return new Oh(k,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(n,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,w,l,c).next(S=>{S.forEach((N,k)=>{y=y.insert(N,k)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,n,l,c){let f;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,l.largestBatchId).next(y=>(f=y,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,l,f,c))).next(y=>{f.forEach((v,w)=>{const S=w.getKey();y.get(S)===null&&(y=y.insert(S,Gs.newInvalidDocument(S)))});let x=qc();return y.forEach((v,w)=>{const S=f.get(v);S!==void 0&&Ou(S.mutation,w,$s.empty(),Fr.now()),i1(n,w)&&(x=x.insert(v,w))}),x})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return be.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(c){return{id:c.id,version:c.version,createTime:Sl(c.createTime)}}(n)),be.resolve()}getNamedQuery(e,n){return be.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(c){return{name:c.name,query:Ev(c.bundledQuery),readTime:Sl(c.readTime)}}(n)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.overlays=new Xi(Ot.comparator),this.Er=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const l=Ya();return be.forEach(n,c=>this.getOverlay(e,c).next(f=>{f!==null&&l.set(c,f)})).next(()=>l)}saveOverlays(e,n,l){return l.forEach((c,f)=>{this.Tt(e,n,f)}),be.resolve()}removeOverlaysForBatchId(e,n,l){const c=this.Er.get(l);return c!==void 0&&(c.forEach(f=>this.overlays=this.overlays.remove(f)),this.Er.delete(l)),be.resolve()}getOverlaysForCollection(e,n,l){const c=Ya(),f=n.length+1,y=new Ot(n.child("")),x=this.overlays.getIteratorFrom(y);for(;x.hasNext();){const v=x.getNext().value,w=v.getKey();if(!n.isPrefixOf(w.path))break;w.path.length===f&&v.largestBatchId>l&&c.set(v.getKey(),v)}return be.resolve(c)}getOverlaysForCollectionGroup(e,n,l,c){let f=new Xi((w,S)=>w-S);const y=this.overlays.getIterator();for(;y.hasNext();){const w=y.getNext().value;if(w.getKey().getCollectionGroup()===n&&w.largestBatchId>l){let S=f.get(w.largestBatchId);S===null&&(S=Ya(),f=f.insert(w.largestBatchId,S)),S.set(w.getKey(),w)}}const x=Ya(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((w,S)=>x.set(w,S)),!(x.size()>=c)););return be.resolve(x)}Tt(e,n,l){const c=this.overlays.get(l.key);if(c!==null){const y=this.Er.get(c.largestBatchId).delete(l.key);this.Er.set(c.largestBatchId,y)}this.overlays=this.overlays.insert(l.key,new nv(n,l));let f=this.Er.get(n);f===void 0&&(f=pi(),this.Er.set(n,f)),this.Er.set(n,f.add(l.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.sessionToken=yo.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.dr=new Jr(kr.Ar),this.Rr=new Jr(kr.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const l=new kr(e,n);this.dr=this.dr.add(l),this.Rr=this.Rr.add(l)}mr(e,n){e.forEach(l=>this.addReference(l,n))}removeReference(e,n){this.gr(new kr(e,n))}pr(e,n){e.forEach(l=>this.removeReference(l,n))}yr(e){const n=new Ot(new rr([])),l=new kr(n,e),c=new kr(n,e+1),f=[];return this.Rr.forEachInRange([l,c],y=>{this.gr(y),f.push(y.key)}),f}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Ot(new rr([])),l=new kr(n,e),c=new kr(n,e+1);let f=pi();return this.Rr.forEachInRange([l,c],y=>{f=f.add(y.key)}),f}containsKey(e){const n=new kr(e,0),l=this.dr.firstAfterOrEqual(n);return l!==null&&e.isEqual(l.key)}}class kr{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Ot.comparator(e.key,n.key)||gn(e.br,n.br)}static Vr(e,n){return gn(e.br,n.br)||Ot.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Jr(kr.Ar)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,l,c){const f=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const y=new tv(f,n,l,c);this.mutationQueue.push(y);for(const x of c)this.vr=this.vr.add(new kr(x.key,f)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return be.resolve(y)}lookupMutationBatch(e,n){return be.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const l=n+1,c=this.Fr(l),f=c<0?0:c;return be.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const l=new kr(n,0),c=new kr(n,Number.POSITIVE_INFINITY),f=[];return this.vr.forEachInRange([l,c],y=>{const x=this.Cr(y.br);f.push(x)}),be.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,n){let l=new Jr(gn);return n.forEach(c=>{const f=new kr(c,0),y=new kr(c,Number.POSITIVE_INFINITY);this.vr.forEachInRange([f,y],x=>{l=l.add(x.br)})}),be.resolve(this.Mr(l))}getAllMutationBatchesAffectingQuery(e,n){const l=n.path,c=l.length+1;let f=l;Ot.isDocumentKey(f)||(f=f.child(""));const y=new kr(new Ot(f),0);let x=new Jr(gn);return this.vr.forEachWhile(v=>{const w=v.key.path;return!!l.isPrefixOf(w)&&(w.length===c&&(x=x.add(v.br)),!0)},y),be.resolve(this.Mr(x))}Mr(e){const n=[];return e.forEach(l=>{const c=this.Cr(l);c!==null&&n.push(c)}),n}removeMutationBatch(e,n){ir(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let l=this.vr;return be.forEach(n.mutations,c=>{const f=new kr(c.key,n.batchId);return l=l.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.vr=l})}Ln(e){}containsKey(e,n){const l=new kr(n,0),c=this.vr.firstAfterOrEqual(l);return be.resolve(n.isEqual(c&&c.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.Nr=e,this.docs=function(){return new Xi(Ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const l=n.key,c=this.docs.get(l),f=c?c.size:0,y=this.Nr(n);return this.docs=this.docs.insert(l,{document:n.mutableCopy(),size:y}),this.size+=y-f,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const l=this.docs.get(n);return be.resolve(l?l.document.mutableCopy():Gs.newInvalidDocument(n))}getEntries(e,n){let l=_h();return n.forEach(c=>{const f=this.docs.get(c);l=l.insert(c,f?f.document.mutableCopy():Gs.newInvalidDocument(c))}),be.resolve(l)}getDocumentsMatchingQuery(e,n,l,c){let f=_h();const y=n.path,x=new Ot(y.child("")),v=this.docs.getIteratorFrom(x);for(;v.hasNext();){const{key:w,value:{document:S}}=v.getNext();if(!y.isPrefixOf(w.path))break;w.path.length>y.length+1||px(dx(S),l)<=0||(c.has(S.key)||i1(n,S))&&(f=f.insert(S.key,S.mutableCopy()))}return be.resolve(f)}getAllFromCollectionGroup(e,n,l,c){Ut()}Lr(e,n){return be.forEach(this.docs,l=>n(l))}newChangeBuffer(e){return new Mv(this)}getSize(e){return be.resolve(this.size)}}class Mv extends Tv{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((l,c)=>{c.isValidDocument()?n.push(this.hr.addEntry(e,c)):this.hr.removeEntry(l)}),be.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this.persistence=e,this.Br=new rl(n=>n1(n),r1),this.lastRemoteSnapshotVersion=jn.min(),this.highestTargetId=0,this.kr=0,this.qr=new a1,this.targetCount=0,this.Qr=Dl.qn()}forEachTarget(e,n){return this.Br.forEach((l,c)=>n(c)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,l){return l&&(this.lastRemoteSnapshotVersion=l),n>this.kr&&(this.kr=n),be.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.Un(n),be.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,l){let c=0;const f=[];return this.Br.forEach((y,x)=>{x.sequenceNumber<=n&&l.get(x.targetId)===null&&(this.Br.delete(y),f.push(this.removeMatchingKeysForTargetId(e,x.targetId)),c++)}),be.waitFor(f).next(()=>c)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const l=this.Br.get(n)||null;return be.resolve(l)}addMatchingKeys(e,n,l){return this.qr.mr(n,l),be.resolve()}removeMatchingKeys(e,n,l){this.qr.pr(n,l);const c=this.persistence.referenceDelegate,f=[];return c&&n.forEach(y=>{f.push(c.markPotentiallyOrphaned(e,y))}),be.waitFor(f)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),be.resolve()}getMatchingKeysForTargetId(e,n){const l=this.qr.Sr(n);return be.resolve(l)}containsKey(e,n){return be.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.Kr={},this.overlays={},this.$r=new qd(0),this.Ur=!1,this.Ur=!0,this.Wr=new Rv,this.referenceDelegate=e(this),this.Gr=new Lv(this),this.indexManager=new wv,this.remoteDocumentCache=function(c){return new Dv(c)}(l=>this.referenceDelegate.zr(l)),this.serializer=new yv(n),this.jr=new bv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Nv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let l=this.Kr[e.toKey()];return l||(l=new Ov(n,this.referenceDelegate),this.Kr[e.toKey()]=l),l}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,l){ot("MemoryPersistence","Starting transaction:",e);const c=new Pv(this.$r.next());return this.referenceDelegate.Hr(),l(c).next(f=>this.referenceDelegate.Jr(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}Yr(e,n){return be.or(Object.values(this.Kr).map(l=>()=>l.containsKey(e,n)))}}class Pv extends mx{constructor(e){super(),this.currentSequenceNumber=e}}class l1{constructor(e){this.persistence=e,this.Zr=new a1,this.Xr=null}static ei(e){return new l1(e)}get ti(){if(this.Xr)return this.Xr;throw Ut()}addReference(e,n,l){return this.Zr.addReference(l,n),this.ti.delete(l.toString()),be.resolve()}removeReference(e,n,l){return this.Zr.removeReference(l,n),this.ti.add(l.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),be.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(c=>this.ti.add(c.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,n.targetId).next(c=>{c.forEach(f=>this.ti.add(f.toString()))}).next(()=>l.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.ti,l=>{const c=Ot.fromPath(l);return this.ni(e,c).next(f=>{f||n.removeEntry(c,jn.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(l=>{l?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return be.or([()=>be.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.ri=new rl(l=>wx(l.path),(l,c)=>l.isEqual(c)),this.garbageCollector=Cv(this,n)}static ei(e,n){return new Ah(e,n)}Hr(){}Jr(e){return be.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(l=>n.next(c=>l+c))}nr(e){let n=0;return this.er(e,l=>{n++}).next(()=>n)}er(e,n){return be.forEach(this.ri,(l,c)=>this.ir(e,l,c).next(f=>f?be.resolve():n(c)))}removeTargets(e,n,l){return this.persistence.getTargetCache().removeTargets(e,n,l)}removeOrphanedDocuments(e,n){let l=0;const c=this.persistence.getRemoteDocumentCache(),f=c.newChangeBuffer();return c.Lr(e,y=>this.ir(e,y,n).next(x=>{x||(l++,f.removeEntry(y,jn.min()))})).next(()=>f.apply(e)).next(()=>l)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),be.resolve()}removeTarget(e,n){const l=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,l)}addReference(e,n,l){return this.ri.set(l,e.currentSequenceNumber),be.resolve()}removeReference(e,n,l){return this.ri.set(l,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),be.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}ir(e,n,l){return be.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const c=this.ri.get(n);return be.resolve(c!==void 0&&c>l)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,l,c){this.targetId=e,this.fromCache=n,this.Wi=l,this.Gi=c}static zi(e,n){let l=pi(),c=pi();for(const f of n.docChanges)switch(f.type){case 0:l=l.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new u1(e,n.fromCache,l,c)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return jw()?8:yx(Vw())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,l,c){const f={result:null};return this.Xi(e,n).next(y=>{f.result=y}).next(()=>{if(!f.result)return this.es(e,n,c,l).next(y=>{f.result=y})}).next(()=>{if(f.result)return;const y=new kv;return this.ts(e,n,y).next(x=>{if(f.result=x,this.Hi)return this.ns(e,n,y,x.size)})}).next(()=>f.result)}ns(e,n,l,c){return l.documentReadCount<this.Ji?(vl()<=Kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),be.resolve()):(vl()<=Kt.DEBUG&&ot("QueryEngine","Query:",Cu(n),"scans",l.documentReadCount,"local documents and returns",c,"documents as results."),l.documentReadCount>this.Yi*c?(vl()<=Kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xa(n))):be.resolve())}Xi(e,n){if(Ip(n))return be.resolve(null);let l=Xa(n);return this.indexManager.getIndexType(e,l).next(c=>c===0?null:(n.limit!==null&&c===1&&(n=Od(n,null,"F"),l=Xa(n)),this.indexManager.getDocumentsMatchingTarget(e,l).next(f=>{const y=pi(...f);return this.Zi.getDocuments(e,y).next(x=>this.indexManager.getMinOffset(e,l).next(v=>{const w=this.rs(n,x);return this.ss(n,w,y,v.readTime)?this.Xi(e,Od(n,null,"F")):this.os(e,w,n,v)}))})))}es(e,n,l,c){return Ip(n)||c.isEqual(jn.min())?be.resolve(null):this.Zi.getDocuments(e,l).next(f=>{const y=this.rs(n,f);return this.ss(n,y,l,c)?be.resolve(null):(vl()<=Kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Cu(n)),this.os(e,y,n,fx(c,-1)).next(x=>x))})}rs(e,n){let l=new Jr(Ux(e));return n.forEach((c,f)=>{i1(e,f)&&(l=l.add(f))}),l}ss(e,n,l,c){if(e.limit===null)return!1;if(l.size!==n.size)return!0;const f=e.limitType==="F"?n.last():n.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}ts(e,n,l){return vl()<=Kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Cu(n)),this.Zi.getDocumentsMatchingQuery(e,n,Ea.min(),l)}os(e,n,l,c){return this.Zi.getDocumentsMatchingQuery(e,l,c).next(f=>(n.forEach(y=>{f=f.insert(y.key,y)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n,l,c){this.persistence=e,this._s=n,this.serializer=c,this.us=new Xi(gn),this.cs=new rl(f=>n1(f),r1),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(l)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sv(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function Vv(s,e,n,l){return new Fv(s,e,n,l)}async function Gm(s,e){const n=Ln(s);return await n.persistence.runTransaction("Handle user change","readonly",l=>{let c;return n.mutationQueue.getAllMutationBatches(l).next(f=>(c=f,n.Ps(e),n.mutationQueue.getAllMutationBatches(l))).next(f=>{const y=[],x=[];let v=pi();for(const w of c){y.push(w.batchId);for(const S of w.mutations)v=v.add(S.key)}for(const w of f){x.push(w.batchId);for(const S of w.mutations)v=v.add(S.key)}return n.localDocuments.getDocuments(l,v).next(w=>({Ts:w,removedBatchIds:y,addedBatchIds:x}))})})}function Uv(s,e){const n=Ln(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const c=e.batch.keys(),f=n.hs.newChangeBuffer({trackRemovals:!0});return function(x,v,w,S){const N=w.batch,k=N.keys();let U=be.resolve();return k.forEach(z=>{U=U.next(()=>S.getEntry(v,z)).next($=>{const q=w.docVersions.get(z);ir(q!==null),$.version.compareTo(q)<0&&(N.applyToRemoteDocument($,w),$.isValidDocument()&&($.setReadTime(w.commitVersion),S.addEntry($)))})}),U.next(()=>x.mutationQueue.removeMutationBatch(v,N))}(n,l,e,f).next(()=>f.apply(l)).next(()=>n.mutationQueue.performConsistencyCheck(l)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(l,c,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(x){let v=pi();for(let w=0;w<x.mutationResults.length;++w)x.mutationResults[w].transformResults.length>0&&(v=v.add(x.batch.mutations[w].key));return v}(e))).next(()=>n.localDocuments.getDocuments(l,c))})}function jv(s){const e=Ln(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function zv(s,e){const n=Ln(s);return n.persistence.runTransaction("Get next mutation batch","readonly",l=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}class Lp{constructor(){this.activeTargetIds=Yx()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hv{constructor(){this._o=new Lp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,l){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,l){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Lp,Promise.resolve()}handleUserChange(e,n,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc=null;function id(){return Zc===null?Zc=function(){return 268435456+Math.round(2147483648*Math.random())}():Zc++,"0x"+Zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="WebChannelConnection";class $v extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const l=n.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Fo=l+"://"+n.host,this.Mo=`projects/${c}/databases/${f}`,this.xo=this.databaseId.database==="(default)"?`project_id=${c}`:`project_id=${c}&database_id=${f}`}Oo(n,l,c,f,y){const x=id(),v=this.No(n,l.toUriEncodedString());ot("RestConnection",`Sending RPC '${n}' ${x}:`,v,c);const w={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(w,f,y),this.Bo(n,v,w,c).then(S=>(ot("RestConnection",`Received RPC '${n}' ${x}: `,S),S),S=>{throw ph("RestConnection",`RPC '${n}' ${x} failed with error: `,S,"url: ",v,"request:",c),S})}ko(n,l,c,f,y,x){return this.Oo(n,l,c,f,y)}Lo(n,l,c){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),l&&l.headers.forEach((f,y)=>n[y]=f),c&&c.headers.forEach((f,y)=>n[y]=f)}No(n,l){const c=Gv[n];return`${this.Fo}/v1/${l}:${c}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,l,c){const f=id();return new Promise((y,x)=>{const v=new pm;v.setWithCredentials(!0),v.listenOnce(gm.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case ih.NO_ERROR:const S=v.getResponseJson();ot(fi,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),y(S);break;case ih.TIMEOUT:ot(fi,`RPC '${e}' ${f} timed out`),x(new _t(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const N=v.getStatus();if(ot(fi,`RPC '${e}' ${f} failed with status:`,N,"response text:",v.getResponseText()),N>0){let k=v.getResponseJson();Array.isArray(k)&&(k=k[0]);const U=k==null?void 0:k.error;if(U&&U.status&&U.message){const z=function(q){const j=q.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(j)>=0?j:Fe.UNKNOWN}(U.status);x(new _t(z,U.message))}else x(new _t(Fe.UNKNOWN,"Server responded with status "+v.getStatus()))}else x(new _t(Fe.UNAVAILABLE,"Connection failed."));break;default:Ut()}}finally{ot(fi,`RPC '${e}' ${f} completed.`)}});const w=JSON.stringify(c);ot(fi,`RPC '${e}' ${f} sending request:`,c),v.send(n,"POST",w,l,15)})}qo(e,n,l){const c=id(),f=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=Em(),x=ym(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(v.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Lo(v.initMessageHeaders,n,l),v.encodeInitMessageHeaders=!0;const S=f.join("");ot(fi,`Creating RPC '${e}' stream ${c}: ${S}`,v);const N=y.createWebChannel(S,v);let k=!1,U=!1;const z=new Yv({Eo:q=>{U?ot(fi,`Not sending because RPC '${e}' stream ${c} is closed:`,q):(k||(ot(fi,`Opening RPC '${e}' stream ${c} transport.`),N.open(),k=!0),ot(fi,`RPC '${e}' stream ${c} sending:`,q),N.send(q))},Ao:()=>N.close()}),$=(q,j,Q)=>{q.listen(j,J=>{try{Q(J)}catch(se){setTimeout(()=>{throw se},0)}})};return $(N,Iu.EventType.OPEN,()=>{U||(ot(fi,`RPC '${e}' stream ${c} transport opened.`),z.So())}),$(N,Iu.EventType.CLOSE,()=>{U||(U=!0,ot(fi,`RPC '${e}' stream ${c} transport closed`),z.Do())}),$(N,Iu.EventType.ERROR,q=>{U||(U=!0,ph(fi,`RPC '${e}' stream ${c} transport errored:`,q),z.Do(new _t(Fe.UNAVAILABLE,"The operation could not be completed")))}),$(N,Iu.EventType.MESSAGE,q=>{var j;if(!U){const Q=q.data[0];ir(!!Q);const J=Q,se=(J==null?void 0:J.error)||((j=J[0])===null||j===void 0?void 0:j.error);if(se){ot(fi,`RPC '${e}' stream ${c} received error:`,se);const Ee=se.status;let Te=function(D){const X=gr[D];if(X!==void 0)return iv(X)}(Ee),H=se.message;Te===void 0&&(Te=Fe.INTERNAL,H="Unknown error status: "+Ee+" with message "+se.message),U=!0,z.Do(new _t(Te,H)),N.close()}else ot(fi,`RPC '${e}' stream ${c} received:`,Q),z.vo(Q)}}),$(x,mm.STAT_EVENT,q=>{q.stat===Sd.PROXY?ot(fi,`RPC '${e}' stream ${c} detected buffering proxy`):q.stat===Sd.NOPROXY&&ot(fi,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{z.bo()},0),z}}function sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(s){return new sv(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,l=1e3,c=1.5,f=6e4){this.li=e,this.timerId=n,this.Qo=l,this.Ko=c,this.$o=f,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),l=Math.max(0,Date.now()-this.Go),c=Math.max(0,n-l);c>0&&ot("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${l} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,c,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n,l,c,f,y,x,v){this.li=e,this.Yo=l,this.Zo=c,this.connection=f,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=x,this.listener=v,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Ym(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Fe.RESOURCE_EXHAUSTED?(qa(n.toString()),qa("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,c])=>{this.Xo===n&&this.I_(l,c)},l=>{e(()=>{const c=new _t(Fe.UNKNOWN,"Fetching auth token failed: "+l.message);return this.E_(c)})})}I_(e,n){const l=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{l(()=>this.listener.Ro())}),this.stream.mo(()=>{l(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(c=>{l(()=>this.E_(c))}),this.stream.onMessage(c=>{l(()=>++this.n_==1?this.A_(c):this.onNext(c))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kv extends Xv{constructor(e,n,l,c,f,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,l,c,y),this.serializer=f}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ir(!!e.streamToken),this.lastStreamToken=e.streamToken,ir(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ir(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=dv(e.writeResults,e.commitTime),l=Sl(e.commitTime);return this.listener.y_(l,n)}w_(){const e={};e.database=cv(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(l=>fv(this.serializer,l))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends class{}{constructor(e,n,l,c){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=l,this.serializer=c,this.S_=!1}b_(){if(this.S_)throw new _t(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,l,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,y])=>this.connection.Oo(e,Md(n,l),c,f,y)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _t(Fe.UNKNOWN,f.toString())})}ko(e,n,l,c,f){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,x])=>this.connection.ko(e,Md(n,l),c,y,x,f)).catch(y=>{throw y.name==="FirebaseError"?(y.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new _t(Fe.UNKNOWN,y.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class qv{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(qa(n),this.C_=!1):ot("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n,l,c,f){this.localStore=e,this.datastore=n,this.asyncQueue=l,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=f,this.Q_.uo(y=>{l.enqueueAndForget(async()=>{Zu(this)&&(ot("RemoteStore","Restarting streams for network reachability change."),await async function(v){const w=Ln(v);w.k_.add(4),await qu(w),w.K_.set("Unknown"),w.k_.delete(4),await Ph(w)}(this))})}),this.K_=new qv(l,c)}}async function Ph(s){if(Zu(s))for(const e of s.q_)await e(!0)}async function qu(s){for(const e of s.q_)await e(!1)}function Zu(s){return Ln(s).k_.size===0}async function $m(s,e,n){if(!Ku(e))throw e;s.k_.add(1),await qu(s),s.K_.set("Offline"),n||(n=()=>jv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ot("RemoteStore","Retrying IndexedDB access"),await n(),s.k_.delete(1),await Ph(s)})}function Xm(s,e){return e().catch(n=>$m(s,n,e))}async function kh(s){const e=Ln(s),n=_a(e);let l=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Jv(e);)try{const c=await zv(e.localStore,l);if(c===null){e.L_.length===0&&n.a_();break}l=c.batchId,eA(e,c)}catch(c){await $m(e,c)}Km(e)&&Qm(e)}function Jv(s){return Zu(s)&&s.L_.length<10}function eA(s,e){s.L_.push(e);const n=_a(s);n.s_()&&n.f_&&n.g_(e.mutations)}function Km(s){return Zu(s)&&!_a(s).i_()&&s.L_.length>0}function Qm(s){_a(s).start()}async function tA(s){_a(s).w_()}async function nA(s){const e=_a(s);for(const n of s.L_)e.g_(n.mutations)}async function rA(s,e,n){const l=s.L_.shift(),c=o1.from(l,e,n);await Xm(s,()=>s.remoteSyncer.applySuccessfulWrite(c)),await kh(s)}async function iA(s,e){e&&_a(s).f_&&await async function(l,c){if(function(y){return rv(y)&&y!==Fe.ABORTED}(c.code)){const f=l.L_.shift();_a(l).__(),await Xm(l,()=>l.remoteSyncer.rejectFailedWrite(f.batchId,c)),await kh(l)}}(s,e),Km(s)&&Qm(s)}async function kp(s,e){const n=Ln(s);n.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const l=Zu(n);n.k_.add(3),await qu(n),l&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Ph(n)}async function sA(s,e){const n=Ln(s);e?(n.k_.delete(2),await Ph(n)):e||(n.k_.add(2),await qu(n),n.K_.set("Unknown"))}function _a(s){return s.G_||(s.G_=function(n,l,c){const f=Ln(n);return f.b_(),new Kv(l,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,c)}(s.datastore,s.asyncQueue,{Ro:()=>Promise.resolve(),mo:tA.bind(null,s),po:iA.bind(null,s),p_:nA.bind(null,s),y_:rA.bind(null,s)}),s.q_.push(async e=>{e?(s.G_.__(),await kh(s)):(await s.G_.stop(),s.L_.length>0&&(ot("RemoteStore",`Stopping write stream with ${s.L_.length} pending writes`),s.L_=[]))})),s.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,l,c,f){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=l,this.op=c,this.removalCallback=f,this.deferred=new $a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,l,c,f){const y=Date.now()+l,x=new c1(e,n,y,c,f);return x.start(l),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(s,e){if(qa("AsyncQueue",`${e}: ${s}`),Ku(s))return new _t(Fe.UNAVAILABLE,`${e}: ${s}`);throw s}class oA{constructor(){this.queries=Bp(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,l){const c=Ln(n),f=c.queries;c.queries=Bp(),f.forEach((y,x)=>{for(const v of x.J_)v.onError(l)})})(this,new _t(Fe.ABORTED,"Firestore shutting down"))}}function Bp(){return new rl(s=>Rm(s),Nm)}function aA(s){s.X_.forEach(e=>{e.next()})}var Fp,Vp;(Vp=Fp||(Fp={})).na="default",Vp.Cache="cache";class lA{constructor(e,n,l,c,f,y){this.localStore=e,this.remoteStore=n,this.eventManager=l,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=y,this.Ma={},this.xa=new rl(x=>Rm(x),Nm),this.Oa=new Map,this.Na=new Set,this.La=new Xi(Ot.comparator),this.Ba=new Map,this.ka=new a1,this.qa={},this.Qa=new Map,this.Ka=Dl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function uA(s,e,n){const l=dA(s);try{const c=await function(y,x){const v=Ln(y),w=Fr.now(),S=x.reduce((U,z)=>U.add(z.key),pi());let N,k;return v.persistence.runTransaction("Locally write mutations","readwrite",U=>{let z=_h(),$=pi();return v.hs.getEntries(U,S).next(q=>{z=q,z.forEach((j,Q)=>{Q.isValidDocument()||($=$.add(j))})}).next(()=>v.localDocuments.getOverlayedDocuments(U,z)).next(q=>{N=q;const j=[];for(const Q of x){const J=Jx(Q,N.get(Q.key).overlayedDocument);J!=null&&j.push(new il(Q.key,J,vm(J.value.mapValue),Uo.exists(!0)))}return v.mutationQueue.addMutationBatch(U,w,j,x)}).next(q=>{k=q;const j=q.applyToLocalDocumentSet(N,$);return v.documentOverlayCache.saveOverlays(U,q.batchId,j)})}).then(()=>({batchId:k.batchId,changes:Dm(N)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(c.batchId),function(y,x,v){let w=y.qa[y.currentUser.toKey()];w||(w=new Xi(gn)),w=w.insert(x,v),y.qa[y.currentUser.toKey()]=w}(l,c.batchId,n),await Bh(l,c.changes),await kh(l.remoteStore)}catch(c){const f=qm(c,"Failed to persist write");n.reject(f)}}function Up(s,e,n){const l=Ln(s);if(l.isPrimaryClient&&n===0||!l.isPrimaryClient&&n===1){const c=[];l.xa.forEach((f,y)=>{const x=y.view.ea(e);x.snapshot&&c.push(x.snapshot)}),function(y,x){const v=Ln(y);v.onlineState=x;let w=!1;v.queries.forEach((S,N)=>{for(const k of N.J_)k.ea(x)&&(w=!0)}),w&&aA(v)}(l.eventManager,e),c.length&&l.Ma.R_(c),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}async function cA(s,e){const n=Ln(s),l=e.batch.batchId;try{const c=await Uv(n.localStore,e);Jm(n,l,null),Zm(n,l),n.sharedClientState.updateMutationState(l,"acknowledged"),await Bh(n,c)}catch(c){await Qd(c)}}async function hA(s,e,n){const l=Ln(s);try{const c=await function(y,x){const v=Ln(y);return v.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let S;return v.mutationQueue.lookupMutationBatch(w,x).next(N=>(ir(N!==null),S=N.keys(),v.mutationQueue.removeMutationBatch(w,N))).next(()=>v.mutationQueue.performConsistencyCheck(w)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(w,S,x)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,S)).next(()=>v.localDocuments.getDocuments(w,S))})}(l.localStore,e);Jm(l,e,n),Zm(l,e),l.sharedClientState.updateMutationState(e,"rejected",n),await Bh(l,c)}catch(c){await Qd(c)}}function Zm(s,e){(s.Qa.get(e)||[]).forEach(n=>{n.resolve()}),s.Qa.delete(e)}function Jm(s,e,n){const l=Ln(s);let c=l.qa[l.currentUser.toKey()];if(c){const f=c.get(e);f&&(n?f.reject(n):f.resolve(),c=c.remove(e)),l.qa[l.currentUser.toKey()]=c}}async function Bh(s,e,n){const l=Ln(s),c=[],f=[],y=[];l.xa.isEmpty()||(l.xa.forEach((x,v)=>{y.push(l.Ua(v,e,n).then(w=>{var S;if((w||n)&&l.isPrimaryClient){const N=w?!w.fromCache:(S=void 0)===null||S===void 0?void 0:S.current;l.sharedClientState.updateQueryState(v.targetId,N?"current":"not-current")}if(w){c.push(w);const N=u1.zi(v.targetId,w);f.push(N)}}))}),await Promise.all(y),l.Ma.R_(c),await async function(v,w){const S=Ln(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>be.forEach(w,k=>be.forEach(k.Wi,U=>S.persistence.referenceDelegate.addReference(N,k.targetId,U)).next(()=>be.forEach(k.Gi,U=>S.persistence.referenceDelegate.removeReference(N,k.targetId,U)))))}catch(N){if(!Ku(N))throw N;ot("LocalStore","Failed to update sequence numbers: "+N)}for(const N of w){const k=N.targetId;if(!N.fromCache){const U=S.us.get(k),z=U.snapshotVersion,$=U.withLastLimboFreeSnapshotVersion(z);S.us=S.us.insert(k,$)}}}(l.localStore,f))}async function fA(s,e){const n=Ln(s);if(!n.currentUser.isEqual(e)){ot("SyncEngine","User change. New user:",e.toKey());const l=await Gm(n.localStore,e);n.currentUser=e,function(f,y){f.Qa.forEach(x=>{x.forEach(v=>{v.reject(new _t(Fe.CANCELLED,y))})}),f.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),await Bh(n,l.Ts)}}function dA(s){const e=Ln(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hA.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return Vv(this.persistence,new Bv,e.initialUser,this.serializer)}ja(e){return new Wm(l1.ei,this.serializer)}za(e){return new Hv}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class pA extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ir(this.persistence.referenceDelegate instanceof Ah);const l=this.persistence.referenceDelegate.garbageCollector;return new vv(l,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?$i.withCacheSize(this.cacheSizeBytes):$i.DEFAULT;return new Wm(l=>Ah.ei(l,n),this.serializer)}}class Pd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=l=>Up(this.syncEngine,l,1),this.remoteStore.remoteSyncer.handleCredentialChange=fA.bind(null,this.syncEngine),await sA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oA}()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),l=function(f){return new $v(f)}(e.databaseInfo);return function(f,y,x,v){return new Qv(f,y,x,v)}(e.authCredentials,e.appCheckCredentials,l,n)}createRemoteStore(e){return function(l,c,f,y,x){return new Zv(l,c,f,y,x)}(this.localStore,this.datastore,e.asyncQueue,n=>Up(this.syncEngine,n,0),function(){return Pp.p()?new Pp:new Wv}())}createSyncEngine(e,n){return function(c,f,y,x,v,w,S){const N=new lA(c,f,y,x,v,w);return S&&(N.$a=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(c){const f=Ln(c);ot("RemoteStore","RemoteStore shutting down."),f.k_.add(5),await qu(f),f.Q_.shutdown(),f.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Pd.provider={build:()=>new Pd};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,l,c,f){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=l,this.databaseInfo=c,this.user=di.UNAUTHENTICATED,this.clientId=_m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(l,async y=>{ot("FirestoreClient","Received user=",y.uid),await this.authCredentialListener(y),this.user=y}),this.appCheckCredentials.start(l,y=>(ot("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const l=qm(n,"Failed to shutdown persistence");e.reject(l)}}),e.promise}}async function od(s,e){s.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let l=n.initialUser;s.setCredentialChangeListener(async c=>{l.isEqual(c)||(await Gm(e.localStore,c),l=c)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function jp(s,e){s.asyncQueue.verifyOperationInProgress();const n=await mA(s);ot("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(l=>kp(e.remoteStore,l)),s.setAppCheckTokenChangeListener((l,c)=>kp(e.remoteStore,c)),s._onlineComponents=e}async function mA(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot("FirestoreClient","Using user provided OfflineComponentProvider");try{await od(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(c){return c.name==="FirebaseError"?c.code===Fe.FAILED_PRECONDITION||c.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(n))throw n;ph("Error using user provided cache. Falling back to memory cache: "+n),await od(s,new Ch)}}else ot("FirestoreClient","Using default OfflineComponentProvider"),await od(s,new pA(void 0));return s._offlineComponents}async function yA(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot("FirestoreClient","Using user provided OnlineComponentProvider"),await jp(s,s._uninitializedComponentsProvider._online)):(ot("FirestoreClient","Using default OnlineComponentProvider"),await jp(s,new Pd))),s._onlineComponents}function EA(s){return yA(s).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(s,e,n){if(!n)throw new _t(Fe.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function wA(s,e,n,l){if(e===!0&&l===!0)throw new _t(Fe.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Hp(s){if(!Ot.isDocumentKey(s))throw new _t(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Wp(s){if(Ot.isDocumentKey(s))throw new _t(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function h1(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(l){return l.constructor?l.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ut()}function n2(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new _t(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=h1(s);throw new _t(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){var n,l;if(e.host===void 0){if(e.ssl!==void 0)throw new _t(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _t(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e2((l=e.experimentalLongPollingOptions)!==null&&l!==void 0?l:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new _t(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new _t(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new _t(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(l,c){return l.timeoutSeconds===c.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,l,c){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=l,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _t(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gp(e),e.credentials!==void 0&&(this._authCredentials=function(l){if(!l)return new rx;switch(l.type){case"firstParty":return new ax(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new _t(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const l=zp.get(n);l&&(ot("ComponentProvider","Removing Datastore"),zp.delete(n),l.terminate())}(this),Promise.resolve()}}function _A(s,e,n,l={}){var c;const f=(s=n2(s,Fh))._getSettings(),y=`${e}:${n}`;if(f.host!=="firestore.googleapis.com"&&f.host!==y&&ph("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},f),{host:y,ssl:!1})),l.mockUserToken){let x,v;if(typeof l.mockUserToken=="string")x=l.mockUserToken,v=di.MOCK_USER;else{x=Fw(l.mockUserToken,(c=s._app)===null||c===void 0?void 0:c.options.projectId);const w=l.mockUserToken.sub||l.mockUserToken.user_id;if(!w)throw new _t(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new di(w)}s._authCredentials=new ix(new wm(x,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,l){this.converter=n,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new f1(this.firestore,e,this._query)}}class jo{constructor(e,n,l){this.converter=n,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jo(this.firestore,e,this._key)}}class ma extends f1{constructor(e,n,l){super(e,n,Bx(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jo(this.firestore,null,new Ot(e))}withConverter(e){return new ma(this.firestore,e,this._path)}}function xA(s,e,...n){if(s=Pu(s),t2("collection","path",e),s instanceof Fh){const l=rr.fromString(e,...n);return Wp(l),new ma(s,null,l)}{if(!(s instanceof jo||s instanceof ma))throw new _t(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(rr.fromString(e,...n));return Wp(l),new ma(s.firestore,null,l)}}function vA(s,e,...n){if(s=Pu(s),arguments.length===1&&(e=_m.newId()),t2("doc","path",e),s instanceof Fh){const l=rr.fromString(e,...n);return Hp(l),new jo(s,null,new Ot(l))}{if(!(s instanceof jo||s instanceof ma))throw new _t(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(rr.fromString(e,...n));return Hp(l),new jo(s.firestore,s instanceof ma?s.converter:null,new Ot(l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Ym(this,"async_queue_retry"),this.fu=()=>{const l=sd();l&&ot("AsyncQueue","Visibility state changed to "+l.visibilityState),this.r_.Jo()},this.gu=e;const n=sd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=sd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new $a;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ku(e))throw e;ot("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(l=>{this.Au=l,this.Ru=!1;const c=function(y){let x=y.message||"";return y.stack&&(x=y.stack.includes(y.message)?y.stack:y.message+`
`+y.stack),x}(l);throw qa("INTERNAL UNHANDLED ERROR: ",c),l}).then(l=>(this.Ru=!1,l))));return this.gu=n,n}enqueueAfterDelay(e,n,l){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const c=c1.createAndSchedule(this,e,n,l,f=>this.Su(f));return this.du.push(c),c}pu(){this.Au&&Ut()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,l)=>n.targetTimeMs-l.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class r2 extends Fh{constructor(e,n,l,c){super(e,n,l,c),this.type="firestore",this._queue=new Yp,this._persistenceKey=(c==null?void 0:c.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yp(e),this._firestoreClient=void 0,await e}}}function AA(s,e){const n=typeof s=="object"?s:$_(),l=typeof s=="string"?s:"(default)",c=H_(n,"firestore").getImmediate({identifier:l});if(!c._initialized){const f=kw("firestore");f&&_A(c,...f)}return c}function CA(s){if(s._terminated)throw new _t(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||TA(s),s._firestoreClient}function TA(s){var e,n,l;const c=s._freezeSettings(),f=function(x,v,w,S){return new Ax(x,v,w,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,e2(S.experimentalLongPollingOptions),S.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,c);s._componentsProvider||!((n=c.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((l=c.localCache)===null||l===void 0)&&l._onlineComponentProvider)&&(s._componentsProvider={_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider}),s._firestoreClient=new gA(s._authCredentials,s._appCheckCredentials,s._queue,f,s._componentsProvider&&function(x){const v=x==null?void 0:x._online.build();return{_offline:x==null?void 0:x._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zu(yo.fromBase64String(e))}catch(n){throw new _t(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zu(yo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _t(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _t(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _t(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gn(this._lat,e._lat)||gn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(l,c){if(l.length!==c.length)return!1;for(let f=0;f<l.length;++f)if(l[f]!==c[f])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=/^__.*__$/;class SA{constructor(e,n,l){this.data=e,this.fieldMask=n,this.fieldTransforms=l}toMutation(e,n){return this.fieldMask!==null?new il(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(e,this.data,n,this.fieldTransforms)}}function l2(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut()}}class d1{constructor(e,n,l,c,f,y){this.settings=e,this.databaseId=n,this.serializer=l,this.ignoreUndefinedProperties=c,f===void 0&&this.Fu(),this.fieldTransforms=f||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new d1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const l=(n=this.path)===null||n===void 0?void 0:n.child(e),c=this.xu({path:l,Nu:!1});return c.Lu(e),c}Bu(e){var n;const l=(n=this.path)===null||n===void 0?void 0:n.child(e),c=this.xu({path:l,Nu:!1});return c.Fu(),c}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Th(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(l2(this.Mu)&&IA.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class bA{constructor(e,n,l){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=l||Lh(e)}$u(e,n,l,c=!1){return new d1({Mu:e,methodName:n,Ku:l,path:Zr.emptyPath(),Nu:!1,Qu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NA(s){const e=s._freezeSettings(),n=Lh(s._databaseId);return new bA(s._databaseId,!!e.ignoreUndefinedProperties,n)}function RA(s,e,n,l,c,f={}){const y=s.$u(f.merge||f.mergeFields?2:0,e,n,c);f2("Data must be an object, but it was:",y,l);const x=c2(l,y);let v,w;if(f.merge)v=new $s(y.fieldMask),w=y.fieldTransforms;else if(f.mergeFields){const S=[];for(const N of f.mergeFields){const k=OA(e,N,n);if(!y.contains(k))throw new _t(Fe.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);LA(S,k)||S.push(k)}v=new $s(S),w=y.fieldTransforms.filter(N=>v.covers(N.field))}else v=null,w=y.fieldTransforms;return new SA(new Ys(x),v,w)}function u2(s,e){if(h2(s=Pu(s)))return f2("Unsupported field value:",e,s),c2(s,e);if(s instanceof s2)return function(l,c){if(!l2(c.Mu))throw c.qu(`${l._methodName}() can only be used with update() and set()`);if(!c.path)throw c.qu(`${l._methodName}() is not currently supported inside arrays`);const f=l._toFieldTransform(c);f&&c.fieldTransforms.push(f)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(l,c){const f=[];let y=0;for(const x of l){let v=u2(x,c.ku(y));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),y++}return{arrayValue:{values:f}}}(s,e)}return function(l,c){if((l=Pu(l))===null)return{nullValue:"NULL_VALUE"};if(typeof l=="number")return $x(c.serializer,l);if(typeof l=="boolean")return{booleanValue:l};if(typeof l=="string")return{stringValue:l};if(l instanceof Date){const f=Fr.fromDate(l);return{timestampValue:Dd(c.serializer,f)}}if(l instanceof Fr){const f=new Fr(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:Dd(c.serializer,f)}}if(l instanceof o2)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof zu)return{bytesValue:ov(c.serializer,l._byteString)};if(l instanceof jo){const f=c.databaseId,y=l.firestore._databaseId;if(!y.isEqual(f))throw c.qu(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:zm(l.firestore._databaseId||c.databaseId,l._key.path)}}if(l instanceof a2)return function(y,x){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:y.toArray().map(v=>{if(typeof v!="number")throw x.qu("VectorValues must only contain numeric values.");return s1(x.serializer,v)})}}}}}}(l,c);throw c.qu(`Unsupported field value: ${h1(l)}`)}(s,e)}function c2(s,e){const n={};return xm(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zl(s,(l,c)=>{const f=u2(c,e.Ou(l));f!=null&&(n[l]=f)}),{mapValue:{fields:n}}}function h2(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Fr||s instanceof o2||s instanceof zu||s instanceof jo||s instanceof s2||s instanceof a2)}function f2(s,e,n){if(!h2(n)||!function(c){return typeof c=="object"&&c!==null&&(Object.getPrototypeOf(c)===Object.prototype||Object.getPrototypeOf(c)===null)}(n)){const l=h1(n);throw l==="an object"?e.qu(s+" a custom object"):e.qu(s+" "+l)}}function OA(s,e,n){if((e=Pu(e))instanceof i2)return e._internalPath;if(typeof e=="string")return MA(s,e);throw Th("Field path arguments must be of type string or ",s,!1,void 0,n)}const DA=new RegExp("[~\\*/\\[\\]]");function MA(s,e,n){if(e.search(DA)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new i2(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Th(s,e,n,l,c){const f=l&&!l.isEmpty(),y=c!==void 0;let x=`Function ${e}() called with invalid data`;n&&(x+=" (via `toFirestore()`)"),x+=". ";let v="";return(f||y)&&(v+=" (found",f&&(v+=` in field ${l}`),y&&(v+=` in document ${c}`),v+=")"),new _t(Fe.INVALID_ARGUMENT,x+s+v)}function LA(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(s,e,n){let l;return l=s?s.toFirestore(e):e,l}function kA(s,e){const n=n2(s.firestore,r2),l=vA(s),c=PA(s.converter,e);return BA(n,[RA(NA(s.firestore),"addDoc",l._key,c,s.converter!==null,{}).toMutation(l._key,Uo.exists(!1))]).then(()=>l)}function BA(s,e){return function(l,c){const f=new $a;return l.asyncQueue.enqueueAndForget(async()=>uA(await EA(l),c,f)),f.promise}(CA(s),e)}(function(e,n=!0){(function(c){jl=c})(Y_),dh(new ku("firestore",(l,{instanceIdentifier:c,options:f})=>{const y=l.getProvider("app").getImmediate(),x=new r2(new sx(l.getProvider("auth-internal")),new ux(l.getProvider("app-check-internal")),function(w,S){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new _t(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yh(w.options.projectId,S)}(y,c),y);return f=Object.assign({useFetchStreams:n},f),x._setSettings(f),x},"PUBLIC").setMultipleInstances(!0)),Il(yp,"4.7.5",e),Il(yp,"4.7.5","esm2017")})();var FA="firebase",VA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Il(FA,VA,"app");const UA={apiKey:"AIzaSyBl93K861-bWMN_ZIYKKewU5y6GvhjZ-3U",authDomain:"link-to-qr-5ccd5.firebaseapp.com",projectId:"link-to-qr-5ccd5",storageBucket:"link-to-qr-5ccd5.firebasestorage.app",messagingSenderId:"954356372789",appId:"1:954356372789:web:5a8511de41be8a17faa87c"},jA=cm(UA),zA=AA(jA),HA=()=>{const[s,e]=Se.useState(""),[n,l]=Se.useState(""),[c,f]=Se.useState(""),y=Yu(),x=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,v=()=>{const S="service_smd7eq4",N="template_6gw3dhf",k="z_jfjxJVTLVp6yXZZ",U=Math.floor(1e4+Math.random()*9e4).toString(),z={from_name:"Link to QR",to_email:s,message:U};x.test(s)?Aw.send(S,N,z,k).then(()=>{f(U),Wa("OTP Sent","Check your email for OTP","success",{buttons:"Done",timer:7e3})}).catch($=>{Wa("Oops","Failed to send OTP. Please try again","error",{buttons:"Close",timer:7e3}),console.error($)}):Wa("Oops","Please enter a valid email","warning",{buttons:"Close",timer:7e3})},w=async()=>{if(!s||!n)Wa("Oops","Email or OTP is empty","warning",{buttons:"Close",timer:7e3});else if(n===c)try{await kA(xA(zA,"users"),{email:s}),Wa("Login successful","Login to the web page is successful","success",{buttons:"Done",timer:7e3}),y("/header")}catch(S){Wa("Oops","Server connection error","error",{buttons:"Close",timer:7e3}),console.error(S)}else Wa("Oops","Invalid OTP. Please try again","warning",{buttons:"Close",timer:7e3})};return Ce.jsx("div",{className:"container d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:Ce.jsx("div",{className:"row w-100 justify-content-center",children:Ce.jsx("div",{className:"col-md-8 col-lg-6 col-xl-4",children:Ce.jsx("div",{className:"card shadow-lg",children:Ce.jsxs("div",{className:"card-body",children:[Ce.jsx("h1",{className:"text-center mb-4 text-primary",children:"Welcome to QR to Link"}),Ce.jsxs("form",{children:[Ce.jsxs("div",{className:"mb-4",children:[Ce.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),Ce.jsx("input",{type:"email",id:"email",className:"form-control form-control-lg",placeholder:"Enter your email here",value:s,onChange:S=>e(S.target.value)})]}),Ce.jsx("button",{type:"button",className:"btn btn-primary w-100 mb-4 btn-lg",onClick:v,children:"Send OTP"}),Ce.jsxs("div",{className:"mb-4",children:[Ce.jsx("label",{htmlFor:"otp",className:"form-label",children:"OTP Code"}),Ce.jsx("input",{type:"text",id:"otp",className:"form-control form-control-lg",placeholder:"Enter OTP",value:n,onChange:S=>l(S.target.value)})]}),Ce.jsx("button",{type:"button",className:"btn btn-success w-100 btn-lg",onClick:w,children:"Log In"})]})]})})})})})},WA=()=>{const[s,e]=Se.useState("home");return Ce.jsxs(Ce.Fragment,{children:[Ce.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-light fixed-top shadow-sm",children:Ce.jsxs("div",{className:"container-fluid",children:[Ce.jsx("a",{className:"navbar-brand",href:"/",children:"Link to QR"}),Ce.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Ce.jsx("span",{className:"navbar-toggler-icon"})}),Ce.jsx("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNavAltMarkup",children:Ce.jsxs("div",{className:"navbar-nav",children:[Ce.jsx("li",{className:"nav-item cursor-pointer",children:Ce.jsx("a",{className:`nav-link ${s==="home"?"active":""} cursor-pointer`,onClick:()=>e("home"),children:"Home"})}),Ce.jsx("li",{className:"nav-item cursor-pointer",children:Ce.jsx("a",{className:`nav-link ${s==="about"?"active":""} cursor-pointer`,onClick:()=>e("about"),children:"About Us"})}),Ce.jsx("li",{className:"nav-item cursor-pointer",children:Ce.jsx("a",{className:`nav-link ${s==="login"?"active":""} cursor-pointer`,onClick:()=>e("login"),children:"LogIn"})})]})})]})}),Ce.jsxs("div",{className:"mt-5 pt-4",children:[s==="home"&&Ce.jsx(cw,{}),s==="login"&&Ce.jsx(HA,{}),s==="about"&&Ce.jsx(Xg,{})]})]})};var Je;(function(s){s[s.QR_CODE=0]="QR_CODE",s[s.AZTEC=1]="AZTEC",s[s.CODABAR=2]="CODABAR",s[s.CODE_39=3]="CODE_39",s[s.CODE_93=4]="CODE_93",s[s.CODE_128=5]="CODE_128",s[s.DATA_MATRIX=6]="DATA_MATRIX",s[s.MAXICODE=7]="MAXICODE",s[s.ITF=8]="ITF",s[s.EAN_13=9]="EAN_13",s[s.EAN_8=10]="EAN_8",s[s.PDF_417=11]="PDF_417",s[s.RSS_14=12]="RSS_14",s[s.RSS_EXPANDED=13]="RSS_EXPANDED",s[s.UPC_A=14]="UPC_A",s[s.UPC_E=15]="UPC_E",s[s.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Je||(Je={}));var $p=new Map([[Je.QR_CODE,"QR_CODE"],[Je.AZTEC,"AZTEC"],[Je.CODABAR,"CODABAR"],[Je.CODE_39,"CODE_39"],[Je.CODE_93,"CODE_93"],[Je.CODE_128,"CODE_128"],[Je.DATA_MATRIX,"DATA_MATRIX"],[Je.MAXICODE,"MAXICODE"],[Je.ITF,"ITF"],[Je.EAN_13,"EAN_13"],[Je.EAN_8,"EAN_8"],[Je.PDF_417,"PDF_417"],[Je.RSS_14,"RSS_14"],[Je.RSS_EXPANDED,"RSS_EXPANDED"],[Je.UPC_A,"UPC_A"],[Je.UPC_E,"UPC_E"],[Je.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Xp;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.URL=1]="URL"})(Xp||(Xp={}));function GA(s){return Object.values(Je).includes(s)}var xa;(function(s){s[s.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",s[s.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(xa||(xa={}));var Ws=function(){function s(){}return s.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",s.SCAN_DEFAULT_FPS=2,s.DEFAULT_DISABLE_FLIP=!1,s.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,s.DEFAULT_SUPPORTED_SCAN_TYPE=[xa.SCAN_TYPE_CAMERA,xa.SCAN_TYPE_FILE],s}(),d2=function(){function s(e,n){this.format=e,this.formatName=n}return s.prototype.toString=function(){return this.formatName},s.create=function(e){if(!$p.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new s(e,$p.get(e))},s}(),Kp=function(){function s(){}return s.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},s.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},s}(),kd;(function(s){s[s.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",s[s.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",s[s.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(kd||(kd={}));var p2=function(){function s(){}return s.createFrom=function(e){return{errorMessage:e,type:kd.UNKWOWN_ERROR}},s}(),g2=function(){function s(e){this.verbose=e}return s.prototype.log=function(e){this.verbose&&console.log(e)},s.prototype.warn=function(e){this.verbose&&console.warn(e)},s.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},s.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},s}();function po(s){return typeof s>"u"||s===null}function YA(s,e,n){return s>n?n:s<e?e:s}var Tl=function(){function s(){}return s.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},s.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},s.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},s.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},s.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},s.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},s.scannerPaused=function(){return"Scanner paused"},s}(),pn=function(){function s(){}return s.scanningStatus=function(){return"Scanning"},s.idleStatus=function(){return"Idle"},s.errorStatus=function(){return"Error"},s.permissionStatus=function(){return"Permission"},s.noCameraFoundErrorStatus=function(){return"No Cameras"},s.lastMatch=function(e){return"Last Match: ".concat(e)},s.codeScannerTitle=function(){return"Code Scanner"},s.cameraPermissionTitle=function(){return"Request Camera Permissions"},s.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},s.noCameraFound=function(){return"No camera found"},s.scanButtonStopScanningText=function(){return"Stop Scanning"},s.scanButtonStartScanningText=function(){return"Start Scanning"},s.torchOnButton=function(){return"Switch On Torch"},s.torchOffButton=function(){return"Switch Off Torch"},s.torchOnFailedMessage=function(){return"Failed to turn on torch"},s.torchOffFailedMessage=function(){return"Failed to turn off torch"},s.scanButtonScanningStarting=function(){return"Launching Camera..."},s.textIfCameraScanSelected=function(){return"Scan an Image File"},s.textIfFileScanSelected=function(){return"Scan using camera directly"},s.selectCamera=function(){return"Select Camera"},s.fileSelectionChooseImage=function(){return"Choose Image"},s.fileSelectionChooseAnother=function(){return"Choose Another"},s.fileSelectionNoImageSelected=function(){return"No image choosen"},s.anonymousCameraPrefix=function(){return"Anonymous Camera"},s.dragAndDropMessage=function(){return"Or drop an image to scan"},s.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},s.zoom=function(){return"zoom"},s.loadingImage=function(){return"Loading image..."},s.cameraScanAltText=function(){return"Camera based scan"},s.fileScanAltText=function(){return"Fule based scan"},s}(),Qp=function(){function s(){}return s.poweredBy=function(){return"Powered by "},s.reportIssues=function(){return"Report issues"},s}(),m2=function(){function s(){}return s.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var l=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(l,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(c),y=Object.keys(e),x=0,v=y;x<v.length;x++){var w=v[x];if(f.has(w))return n.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},s}(),Su={exports:{}},$A=Su.exports,qp;function XA(){return qp||(qp=1,function(s,e){(function(n,l){l(e)})($A,function(n){function l(M){return M==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,t){M.__proto__=t}||function(M,t){for(var i in t)t.hasOwnProperty(i)&&(M[i]=t[i])};function f(M,t){c(M,t);function i(){this.constructor=M}M.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function y(M,t){var i=Object.setPrototypeOf;i?i(M,t):M.__proto__=t}function x(M,t){t===void 0&&(t=M.constructor);var i=Error.captureStackTrace;i&&i(M,t)}var v=function(M){f(t,M);function t(i){var o=this.constructor,u=M.call(this,i)||this;return Object.defineProperty(u,"name",{value:o.name,enumerable:!1}),y(u,o.prototype),x(u),u}return t}(Error);class w extends v{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}w.kind="Exception";class S extends w{}S.kind="ArgumentException";class N extends w{}N.kind="IllegalArgumentException";class k{constructor(t){if(this.binarizer=t,t===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,o,u){const h=this.binarizer.getLuminanceSource().crop(t,i,o,u);return new k(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new k(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new k(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class U extends w{static getChecksumInstance(){return new U}}U.kind="ChecksumException";class z{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class ${static arraycopy(t,i,o,u,h){for(;h--;)o[u++]=t[i++]}static currentTimeMillis(){return Date.now()}}class q extends w{}q.kind="IndexOutOfBoundsException";class j extends q{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}j.kind="ArrayIndexOutOfBoundsException";class Q{static fill(t,i){for(let o=0,u=t.length;o<u;o++)t[o]=i}static fillWithin(t,i,o,u){Q.rangeCheck(t.length,i,o);for(let h=i;h<o;h++)t[h]=u}static rangeCheck(t,i,o){if(i>o)throw new N("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new j(i);if(o>t)throw new j(o)}static asList(...t){return t}static create(t,i,o){return Array.from({length:t}).map(h=>Array.from({length:i}).fill(o))}static createInt32Array(t,i,o){return Array.from({length:t}).map(h=>Int32Array.from({length:i}).fill(o))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let o=0,u=t.length;o<u;o++)if(t[o]!==i[o])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const o of t)i=31*i+o;return i}static fillUint8Array(t,i){for(let o=0;o!==t.length;o++)t[o]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const o=new Uint8Array(i);return o.set(t),o}return t.slice(0,i)}static copyOfRange(t,i,o){const u=o-i,h=new Int32Array(u);return $.arraycopy(t,i,h,0,u),h}static binarySearch(t,i,o){o===void 0&&(o=Q.numberComparator);let u=0,h=t.length-1;for(;u<=h;){const d=h+u>>1,g=o(i,t[d]);if(g>0)u=d+1;else if(g<0)h=d-1;else return d}return-u-1}static numberComparator(t,i){return t-i}}class J{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let o=31;return i=t<<16,i!==0&&(o-=16,t=i),i=t<<8,i!==0&&(o-=8,t=i),i=t<<4,i!==0&&(o-=4,t=i),i=t<<2,i!==0&&(o-=2,t=i),o-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}J.MIN_VALUE_32_BITS=-2147483648,J.MAX_VALUE=Number.MAX_SAFE_INTEGER;class se{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=se.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=se.makeArray(t);$.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const o=this.bits;let u=Math.floor(t/32),h=o[u];h&=~((1<<(t&31))-1);const d=o.length;for(;h===0;){if(++u===d)return i;h=o[u]}const g=u*32+J.numberOfTrailingZeros(h);return g>i?i:g}getNextUnset(t){const i=this.size;if(t>=i)return i;const o=this.bits;let u=Math.floor(t/32),h=~o[u];h&=~((1<<(t&31))-1);const d=o.length;for(;h===0;){if(++u===d)return i;h=~o[u]}const g=u*32+J.numberOfTrailingZeros(h);return g>i?i:g}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new N;if(i===t)return;i--;const o=Math.floor(t/32),u=Math.floor(i/32),h=this.bits;for(let d=o;d<=u;d++){const g=d>o?0:t&31,A=(2<<(d<u?31:i&31))-(1<<g);h[d]|=A}}clear(){const t=this.bits.length,i=this.bits;for(let o=0;o<t;o++)i[o]=0}isRange(t,i,o){if(i<t||t<0||i>this.size)throw new N;if(i===t)return!0;i--;const u=Math.floor(t/32),h=Math.floor(i/32),d=this.bits;for(let g=u;g<=h;g++){const _=g>u?0:t&31,R=(2<<(g<h?31:i&31))-(1<<_)&4294967295;if((d[g]&R)!==(o?R:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((t>>o-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(t.get(o))}xor(t){if(this.size!==t.size)throw new N("Sizes don't match");const i=this.bits;for(let o=0,u=i.length;o<u;o++)i[o]^=t.bits[o]}toBytes(t,i,o,u){for(let h=0;h<u;h++){let d=0;for(let g=0;g<8;g++)this.get(t)&&(d|=1<<7-g),t++;i[o+h]=d}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,u=this.bits;for(let h=0;h<o;h++){let d=u[h];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,t[i-h]=d}if(this.size!==o*32){const h=o*32-this.size;let d=t[0]>>>h;for(let g=1;g<o;g++){const _=t[g];d|=_<<32-h,t[g-1]=d,d=_>>>h}t[o-1]=d}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof se))return!1;const i=t;return this.size===i.size&&Q.equals(this.bits,i.bits)}hashCode(){return 31*this.size+Q.hashCode(this.bits)}toString(){let t="";for(let i=0,o=this.size;i<o;i++)i&7||(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new se(this.size,this.bits.slice())}}var Ee;(function(M){M[M.OTHER=0]="OTHER",M[M.PURE_BARCODE=1]="PURE_BARCODE",M[M.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",M[M.TRY_HARDER=3]="TRY_HARDER",M[M.CHARACTER_SET=4]="CHARACTER_SET",M[M.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",M[M.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",M[M.ASSUME_GS1=7]="ASSUME_GS1",M[M.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",M[M.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",M[M.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ee||(Ee={}));var Te=Ee;class H extends w{static getFormatInstance(){return new H}}H.kind="FormatException";var F;(function(M){M[M.Cp437=0]="Cp437",M[M.ISO8859_1=1]="ISO8859_1",M[M.ISO8859_2=2]="ISO8859_2",M[M.ISO8859_3=3]="ISO8859_3",M[M.ISO8859_4=4]="ISO8859_4",M[M.ISO8859_5=5]="ISO8859_5",M[M.ISO8859_6=6]="ISO8859_6",M[M.ISO8859_7=7]="ISO8859_7",M[M.ISO8859_8=8]="ISO8859_8",M[M.ISO8859_9=9]="ISO8859_9",M[M.ISO8859_10=10]="ISO8859_10",M[M.ISO8859_11=11]="ISO8859_11",M[M.ISO8859_13=12]="ISO8859_13",M[M.ISO8859_14=13]="ISO8859_14",M[M.ISO8859_15=14]="ISO8859_15",M[M.ISO8859_16=15]="ISO8859_16",M[M.SJIS=16]="SJIS",M[M.Cp1250=17]="Cp1250",M[M.Cp1251=18]="Cp1251",M[M.Cp1252=19]="Cp1252",M[M.Cp1256=20]="Cp1256",M[M.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",M[M.UTF8=22]="UTF8",M[M.ASCII=23]="ASCII",M[M.Big5=24]="Big5",M[M.GB18030=25]="GB18030",M[M.EUC_KR=26]="EUC_KR"})(F||(F={}));class D{constructor(t,i,o,...u){this.valueIdentifier=t,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=u,D.VALUE_IDENTIFIER_TO_ECI.set(t,this),D.NAME_TO_ECI.set(o,this);const h=this.values;for(let d=0,g=h.length;d!==g;d++){const _=h[d];D.VALUES_TO_ECI.set(_,this)}for(const d of u)D.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new H("incorect value");const i=D.VALUES_TO_ECI.get(t);if(i===void 0)throw new H("incorect value");return i}static getCharacterSetECIByName(t){const i=D.NAME_TO_ECI.get(t);if(i===void 0)throw new H("incorect value");return i}equals(t){if(!(t instanceof D))return!1;const i=t;return this.getName()===i.getName()}}D.VALUE_IDENTIFIER_TO_ECI=new Map,D.VALUES_TO_ECI=new Map,D.NAME_TO_ECI=new Map,D.Cp437=new D(F.Cp437,Int32Array.from([0,2]),"Cp437"),D.ISO8859_1=new D(F.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),D.ISO8859_2=new D(F.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),D.ISO8859_3=new D(F.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),D.ISO8859_4=new D(F.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),D.ISO8859_5=new D(F.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),D.ISO8859_6=new D(F.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),D.ISO8859_7=new D(F.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),D.ISO8859_8=new D(F.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),D.ISO8859_9=new D(F.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),D.ISO8859_10=new D(F.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),D.ISO8859_11=new D(F.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),D.ISO8859_13=new D(F.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),D.ISO8859_14=new D(F.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),D.ISO8859_15=new D(F.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),D.ISO8859_16=new D(F.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),D.SJIS=new D(F.SJIS,20,"SJIS","Shift_JIS"),D.Cp1250=new D(F.Cp1250,21,"Cp1250","windows-1250"),D.Cp1251=new D(F.Cp1251,22,"Cp1251","windows-1251"),D.Cp1252=new D(F.Cp1252,23,"Cp1252","windows-1252"),D.Cp1256=new D(F.Cp1256,24,"Cp1256","windows-1256"),D.UnicodeBigUnmarked=new D(F.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),D.UTF8=new D(F.UTF8,26,"UTF8","UTF-8"),D.ASCII=new D(F.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),D.Big5=new D(F.Big5,28,"Big5"),D.GB18030=new D(F.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),D.EUC_KR=new D(F.EUC_KR,30,"EUC_KR","EUC-KR");class X extends w{}X.kind="UnsupportedOperationException";class G{static decode(t,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(t,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(t,o):new TextDecoder(o).decode(t)}static shouldDecodeOnFallback(t){return!G.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(t,o):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof D?t:D.getCharacterSetECIByName(t)}static decodeFallback(t,i){const o=this.encodingCharacterSet(i);if(G.isDecodeFallbackSupported(o)){let u="";for(let h=0,d=t.length;h<d;h++){let g=t[h].toString(16);g.length<2&&(g="0"+g),u+="%"+g}return decodeURIComponent(u)}if(o.equals(D.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new X(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(D.UTF8)||t.equals(D.ISO8859_1)||t.equals(D.ASCII)}static encodeFallback(t){const o=btoa(unescape(encodeURIComponent(t))).split(""),u=[];for(let h=0;h<o.length;h++)u.push(o[h].charCodeAt(0));return new Uint8Array(u)}}class ee{static castAsNonUtf8Char(t,i=null){const o=i?i.getName():this.ISO88591;return G.decode(new Uint8Array([t]),o)}static guessEncoding(t,i){if(i!=null&&i.get(Te.CHARACTER_SET)!==void 0)return i.get(Te.CHARACTER_SET).toString();const o=t.length;let u=!0,h=!0,d=!0,g=0,_=0,A=0,R=0,L=0,V=0,Z=0,ie=0,oe=0,ce=0,ye=0;const De=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let Me=0;Me<o&&(u||h||d);Me++){const Ne=t[Me]&255;d&&(g>0?Ne&128?g--:d=!1:Ne&128&&(Ne&64?(g++,Ne&32?(g++,Ne&16?(g++,Ne&8?d=!1:R++):A++):_++):d=!1)),u&&(Ne>127&&Ne<160?u=!1:Ne>159&&(Ne<192||Ne===215||Ne===247)&&ye++),h&&(L>0?Ne<64||Ne===127||Ne>252?h=!1:L--:Ne===128||Ne===160||Ne>239?h=!1:Ne>160&&Ne<224?(V++,ie=0,Z++,Z>oe&&(oe=Z)):Ne>127?(L++,Z=0,ie++,ie>ce&&(ce=ie)):(Z=0,ie=0))}return d&&g>0&&(d=!1),h&&L>0&&(h=!1),d&&(De||_+A+R>0)?ee.UTF8:h&&(ee.ASSUME_SHIFT_JIS||oe>=3||ce>=3)?ee.SHIFT_JIS:u&&h?oe===2&&V===2||ye*10>=o?ee.SHIFT_JIS:ee.ISO88591:u?ee.ISO88591:h?ee.SHIFT_JIS:d?ee.UTF8:ee.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let o=-1;function u(d,g,_,A,R,L){if(d==="%%")return"%";if(i[++o]===void 0)return;d=A?parseInt(A.substr(1)):void 0;let V=R?parseInt(R.substr(1)):void 0,Z;switch(L){case"s":Z=i[o];break;case"c":Z=i[o][0];break;case"f":Z=parseFloat(i[o]).toFixed(d);break;case"p":Z=parseFloat(i[o]).toPrecision(d);break;case"e":Z=parseFloat(i[o]).toExponential(d);break;case"x":Z=parseInt(i[o]).toString(V||16);break;case"d":Z=parseFloat(parseInt(i[o],V||10).toPrecision(d)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(V);let ie=parseInt(_),oe=_&&_[0]+""=="0"?"0":" ";for(;Z.length<ie;)Z=g!==void 0?Z+oe:oe+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(h,u)}static getBytes(t,i){return G.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}ee.SHIFT_JIS=D.SJIS.getName(),ee.GB2312="GB2312",ee.ISO88591=D.ISO8859_1.getName(),ee.EUC_JP="EUC_JP",ee.UTF8=D.UTF8.getName(),ee.PLATFORM_DEFAULT_ENCODING=ee.UTF8,ee.ASSUME_SHIFT_JIS=!1;class Y{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ee.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,o){for(let u=i;i<i+o;u++)this.append(t[u]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class $e{constructor(t,i,o,u){if(this.width=t,this.height=i,this.rowSize=o,this.bits=u,i==null&&(i=t),this.height=i,t<1||i<1)throw new N("Both dimensions must be greater than 0");o==null&&(o=Math.floor((t+31)/32)),this.rowSize=o,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,o=t[0].length,u=new $e(o,i);for(let h=0;h<i;h++){const d=t[h];for(let g=0;g<o;g++)d[g]&&u.set(g,h)}return u}static parseFromString(t,i,o){if(t===null)throw new N("stringRepresentation cannot be null");const u=new Array(t.length);let h=0,d=0,g=-1,_=0,A=0;for(;A<t.length;)if(t.charAt(A)===`
`||t.charAt(A)==="\r"){if(h>d){if(g===-1)g=h-d;else if(h-d!==g)throw new N("row lengths do not match");d=h,_++}A++}else if(t.substring(A,A+i.length)===i)A+=i.length,u[h]=!0,h++;else if(t.substring(A,A+o.length)===o)A+=o.length,u[h]=!1,h++;else throw new N("illegal character encountered: "+t.substring(A));if(h>d){if(g===-1)g=h-d;else if(h-d!==g)throw new N("row lengths do not match");_++}const R=new $e(g,_);for(let L=0;L<h;L++)u[L]&&R.set(Math.floor(L%g),Math.floor(L/g));return R}get(t,i){const o=i*this.rowSize+Math.floor(t/32);return(this.bits[o]>>>(t&31)&1)!==0}set(t,i){const o=i*this.rowSize+Math.floor(t/32);this.bits[o]|=1<<(t&31)&4294967295}unset(t,i){const o=i*this.rowSize+Math.floor(t/32);this.bits[o]&=~(1<<(t&31)&4294967295)}flip(t,i){const o=i*this.rowSize+Math.floor(t/32);this.bits[o]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new N("input matrix dimensions do not match");const i=new se(Math.floor(this.width/32)+1),o=this.rowSize,u=this.bits;for(let h=0,d=this.height;h<d;h++){const g=h*o,_=t.getRow(h,i).getBitArray();for(let A=0;A<o;A++)u[g+A]^=_[A]}}clear(){const t=this.bits,i=t.length;for(let o=0;o<i;o++)t[o]=0}setRegion(t,i,o,u){if(i<0||t<0)throw new N("Left and top must be nonnegative");if(u<1||o<1)throw new N("Height and width must be at least 1");const h=t+o,d=i+u;if(d>this.height||h>this.width)throw new N("The region must fit inside the matrix");const g=this.rowSize,_=this.bits;for(let A=i;A<d;A++){const R=A*g;for(let L=t;L<h;L++)_[R+Math.floor(L/32)]|=1<<(L&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new se(this.width):i.clear();const o=this.rowSize,u=this.bits,h=t*o;for(let d=0;d<o;d++)i.setBulk(d*32,u[h+d]);return i}setRow(t,i){$.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let o=new se(t),u=new se(t);for(let h=0,d=Math.floor((i+1)/2);h<d;h++)o=this.getRow(h,o),u=this.getRow(i-1-h,u),o.reverse(),u.reverse(),this.setRow(h,u),this.setRow(i-1-h,o)}getEnclosingRectangle(){const t=this.width,i=this.height,o=this.rowSize,u=this.bits;let h=t,d=i,g=-1,_=-1;for(let A=0;A<i;A++)for(let R=0;R<o;R++){const L=u[A*o+R];if(L!==0){if(A<d&&(d=A),A>_&&(_=A),R*32<h){let V=0;for(;!(L<<31-V&4294967295);)V++;R*32+V<h&&(h=R*32+V)}if(R*32+31>g){let V=31;for(;!(L>>>V);)V--;R*32+V>g&&(g=R*32+V)}}}return g<h||_<d?null:Int32Array.from([h,d,g-h+1,_-d+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const u=o/t;let h=o%t*32;const d=i[o];let g=0;for(;!(d<<31-g&4294967295);)g++;return h+=g,Int32Array.from([h,u])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const u=Math.floor(o/t);let h=Math.floor(o%t)*32;const d=i[o];let g=31;for(;!(d>>>g);)g--;return h+=g,Int32Array.from([h,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof $e))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&Q.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+Q.hashCode(this.bits),t}toString(t="X ",i="  ",o=`
`){return this.buildToString(t,i,o)}buildToString(t,i,o){let u=new Y;for(let h=0,d=this.height;h<d;h++){for(let g=0,_=this.width;g<_;g++)u.append(this.get(g,h)?t:i);u.append(o)}return u.toString()}clone(){return new $e(this.width,this.height,this.rowSize,this.bits.slice())}}class he extends w{static getNotFoundInstance(){return new he}}he.kind="NotFoundException";class st extends z{constructor(t){super(t),this.luminances=st.EMPTY,this.buckets=new Int32Array(st.LUMINANCE_BUCKETS)}getBlackRow(t,i){const o=this.getLuminanceSource(),u=o.getWidth();i==null||i.getSize()<u?i=new se(u):i.clear(),this.initArrays(u);const h=o.getRow(t,this.luminances),d=this.buckets;for(let _=0;_<u;_++)d[(h[_]&255)>>st.LUMINANCE_SHIFT]++;const g=st.estimateBlackPoint(d);if(u<3)for(let _=0;_<u;_++)(h[_]&255)<g&&i.set(_);else{let _=h[0]&255,A=h[1]&255;for(let R=1;R<u-1;R++){const L=h[R+1]&255;(A*4-_-L)/2<g&&i.set(R),_=A,A=L}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),o=t.getHeight(),u=new $e(i,o);this.initArrays(i);const h=this.buckets;for(let _=1;_<5;_++){const A=Math.floor(o*_/5),R=t.getRow(A,this.luminances),L=Math.floor(i*4/5);for(let V=Math.floor(i/5);V<L;V++){const Z=R[V]&255;h[Z>>st.LUMINANCE_SHIFT]++}}const d=st.estimateBlackPoint(h),g=t.getMatrix();for(let _=0;_<o;_++){const A=_*i;for(let R=0;R<i;R++)(g[A+R]&255)<d&&u.set(R,_)}return u}createBinarizer(t){return new st(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let o=0;o<st.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(t){const i=t.length;let o=0,u=0,h=0;for(let R=0;R<i;R++)t[R]>h&&(u=R,h=t[R]),t[R]>o&&(o=t[R]);let d=0,g=0;for(let R=0;R<i;R++){const L=R-u,V=t[R]*L*L;V>g&&(d=R,g=V)}if(u>d){const R=u;u=d,d=R}if(d-u<=i/16)throw new he;let _=d-1,A=-1;for(let R=d-1;R>u;R--){const L=R-u,V=L*L*(d-R)*(o-t[R]);V>A&&(_=R,A=V)}return _<<st.LUMINANCE_SHIFT}}st.LUMINANCE_BITS=5,st.LUMINANCE_SHIFT=8-st.LUMINANCE_BITS,st.LUMINANCE_BUCKETS=1<<st.LUMINANCE_BITS,st.EMPTY=Uint8ClampedArray.from([0]);class ze extends st{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),o=t.getHeight();if(i>=ze.MINIMUM_DIMENSION&&o>=ze.MINIMUM_DIMENSION){const u=t.getMatrix();let h=i>>ze.BLOCK_SIZE_POWER;i&ze.BLOCK_SIZE_MASK&&h++;let d=o>>ze.BLOCK_SIZE_POWER;o&ze.BLOCK_SIZE_MASK&&d++;const g=ze.calculateBlackPoints(u,h,d,i,o),_=new $e(i,o);ze.calculateThresholdForBlock(u,h,d,i,o,g,_),this.matrix=_}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ze(t)}static calculateThresholdForBlock(t,i,o,u,h,d,g){const _=h-ze.BLOCK_SIZE,A=u-ze.BLOCK_SIZE;for(let R=0;R<o;R++){let L=R<<ze.BLOCK_SIZE_POWER;L>_&&(L=_);const V=ze.cap(R,2,o-3);for(let Z=0;Z<i;Z++){let ie=Z<<ze.BLOCK_SIZE_POWER;ie>A&&(ie=A);const oe=ze.cap(Z,2,i-3);let ce=0;for(let De=-2;De<=2;De++){const Me=d[V+De];ce+=Me[oe-2]+Me[oe-1]+Me[oe]+Me[oe+1]+Me[oe+2]}const ye=ce/25;ze.thresholdBlock(t,ie,L,ye,u,g)}}}static cap(t,i,o){return t<i?i:t>o?o:t}static thresholdBlock(t,i,o,u,h,d){for(let g=0,_=o*h+i;g<ze.BLOCK_SIZE;g++,_+=h)for(let A=0;A<ze.BLOCK_SIZE;A++)(t[_+A]&255)<=u&&d.set(i+A,o+g)}static calculateBlackPoints(t,i,o,u,h){const d=h-ze.BLOCK_SIZE,g=u-ze.BLOCK_SIZE,_=new Array(o);for(let A=0;A<o;A++){_[A]=new Int32Array(i);let R=A<<ze.BLOCK_SIZE_POWER;R>d&&(R=d);for(let L=0;L<i;L++){let V=L<<ze.BLOCK_SIZE_POWER;V>g&&(V=g);let Z=0,ie=255,oe=0;for(let ye=0,De=R*u+V;ye<ze.BLOCK_SIZE;ye++,De+=u){for(let Me=0;Me<ze.BLOCK_SIZE;Me++){const Ne=t[De+Me]&255;Z+=Ne,Ne<ie&&(ie=Ne),Ne>oe&&(oe=Ne)}if(oe-ie>ze.MIN_DYNAMIC_RANGE)for(ye++,De+=u;ye<ze.BLOCK_SIZE;ye++,De+=u)for(let Me=0;Me<ze.BLOCK_SIZE;Me++)Z+=t[De+Me]&255}let ce=Z>>ze.BLOCK_SIZE_POWER*2;if(oe-ie<=ze.MIN_DYNAMIC_RANGE&&(ce=ie/2,A>0&&L>0)){const ye=(_[A-1][L]+2*_[A][L-1]+_[A-1][L-1])/4;ie<ye&&(ce=ye)}_[A][L]=ce}}return _}}ze.BLOCK_SIZE_POWER=3,ze.BLOCK_SIZE=1<<ze.BLOCK_SIZE_POWER,ze.BLOCK_SIZE_MASK=ze.BLOCK_SIZE-1,ze.MINIMUM_DIMENSION=ze.BLOCK_SIZE*5,ze.MIN_DYNAMIC_RANGE=24;class ke{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,o,u){throw new X("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new X("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new X("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new Y;for(let o=0;o<this.height;o++){const u=this.getRow(o,t);for(let h=0;h<this.width;h++){const d=u[h]&255;let g;d<64?g="#":d<128?g="+":d<192?g=".":g=" ",i.append(g)}i.append(`
`)}return i.toString()}}class Qe extends ke{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const o=this.delegate.getRow(t,i),u=this.getWidth();for(let h=0;h<u;h++)o[h]=255-(o[h]&255);return o}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let u=0;u<i;u++)o[u]=255-(t[u]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,o,u){return new Qe(this.delegate.crop(t,i,o,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Qe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Qe(this.delegate.rotateCounterClockwise45())}}class Ge extends ke{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Ge.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return Ge.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,o){const u=new Uint8ClampedArray(i*o);for(let h=0,d=0,g=t.length;h<g;h+=4,d++){let _;if(t[h+3]===0)_=255;else{const R=t[h],L=t[h+1],V=t[h+2];_=306*R+601*L+117*V+512>>10}u[d]=_}return u}getRow(t,i){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const o=this.getWidth(),u=t*o;return i===null?i=this.buffer.slice(u,u+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(u,u+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,o,u){return super.crop(t,i,o,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),o=i.getContext("2d"),u=t*Ge.DEGREE_TO_RADIANS,h=this.canvas.width,d=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(u))*h+Math.abs(Math.sin(u))*d),_=Math.ceil(Math.abs(Math.sin(u))*h+Math.abs(Math.cos(u))*d);return i.width=g,i.height=_,o.translate(g/2,_/2),o.rotate(u),o.drawImage(this.canvas,h/-2,d/-2),this.buffer=Ge.makeBufferFromCanvasImageData(i),this}invert(){return new Qe(this)}}Ge.DEGREE_TO_RADIANS=Math.PI/180;class ue{constructor(t,i,o){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var xe=(globalThis||Gc||self||window||void 0)&&(globalThis||Gc||self||window||void 0).__awaiter||function(M,t,i,o){function u(h){return h instanceof i?h:new i(function(d){d(h)})}return new(i||(i=Promise))(function(h,d){function g(R){try{A(o.next(R))}catch(L){d(L)}}function _(R){try{A(o.throw(R))}catch(L){d(L)}}function A(R){R.done?h(R.value):u(R.value).then(g,_)}A((o=o.apply(M,t||[])).next())})};class qe{constructor(t,i=500,o){this.reader=t,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return xe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of t){const u=o.kind==="video"?"videoinput":o.kind;if(u!=="videoinput")continue;const h=o.deviceId||o.id,d=o.label||`Video device ${i.length+1}`,g=o.groupId,_={deviceId:h,label:d,kind:u,groupId:g};i.push(_)}return i})}getVideoInputDevices(){return xe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new ue(i.deviceId,i.label))})}findDeviceById(t){return xe(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return xe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return xe(this,void 0,void 0,function*(){this.reset();let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const u={video:o};return yield this.decodeOnceFromConstraints(u,i)})}decodeOnceFromConstraints(t,i){return xe(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(t,i){return xe(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(t,i,o){return xe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,o)})}decodeFromVideoDevice(t,i,o){return xe(this,void 0,void 0,function*(){let u;t?u={deviceId:{exact:t}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeFromConstraints(h,i,o)})}decodeFromConstraints(t,i,o){return xe(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(u,i,o)})}decodeFromStream(t,i,o){return xe(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(u,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return xe(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,t),this.videoElement=o,this.stream=t,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(t){return new Promise((i,o)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return xe(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const o=document.getElementById(t);if(!o)throw new S(`element with id '${t}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new S(`element with id '${t}' must be an ${i} element`);return o}decodeFromImage(t,i){if(!t&&!i)throw new S("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new S("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,o){if(t===void 0&&i===void 0)throw new S("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(t,o)}decodeFromImageElement(t){if(!t)throw new S("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const o=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(t){if(!t)throw new S("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new S("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=t,o}decodeFromVideoUrl(t){if(!t)throw new S("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=t,o}decodeFromVideoUrlContinuously(t,i){if(!t)throw new S("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(o,i);return o.src=t,u}_decodeOnLoadImage(t){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,o),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return xe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return xe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,o=!0){this._stopAsyncDecode=!1;const u=(h,d)=>{if(this._stopAsyncDecode){d(new he("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(t);h(g)}catch(g){const _=i&&g instanceof he,R=(g instanceof U||g instanceof H)&&o;if(_||R)return setTimeout(u,this._timeBetweenDecodingAttempts,h,d);d(g)}};return new Promise((h,d)=>u(h,d))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(t);i(u,null),setTimeout(o,this.timeBetweenScansMillis)}catch(u){i(null,u);const h=u instanceof U||u instanceof H,d=u instanceof he;(h||d)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,o){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),o=new Ge(i),u=new ze(o);return new k(u)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,u;return typeof t<"u"&&(t instanceof HTMLVideoElement?(o=t.videoWidth,u=t.videoHeight):t instanceof HTMLImageElement&&(o=t.naturalWidth||t.width,u=t.naturalHeight||t.height)),i.style.width=o+"px",i.style.height=u+"px",i.width=o,i.height=u,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class tt{constructor(t,i,o=i==null?0:8*i.length,u,h,d=$.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=o,this.resultPoints=u,this.format=h,this.timestamp=d,this.text=t,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=u,this.format=h,this.resultMetadata=null,d==null?this.timestamp=$.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const o=new Array(i.length+t.length);$.arraycopy(i,0,o,0,i.length),$.arraycopy(t,0,o,i.length,t.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ht;(function(M){M[M.AZTEC=0]="AZTEC",M[M.CODABAR=1]="CODABAR",M[M.CODE_39=2]="CODE_39",M[M.CODE_93=3]="CODE_93",M[M.CODE_128=4]="CODE_128",M[M.DATA_MATRIX=5]="DATA_MATRIX",M[M.EAN_8=6]="EAN_8",M[M.EAN_13=7]="EAN_13",M[M.ITF=8]="ITF",M[M.MAXICODE=9]="MAXICODE",M[M.PDF_417=10]="PDF_417",M[M.QR_CODE=11]="QR_CODE",M[M.RSS_14=12]="RSS_14",M[M.RSS_EXPANDED=13]="RSS_EXPANDED",M[M.UPC_A=14]="UPC_A",M[M.UPC_E=15]="UPC_E",M[M.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ht||(ht={}));var Be=ht,St;(function(M){M[M.OTHER=0]="OTHER",M[M.ORIENTATION=1]="ORIENTATION",M[M.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",M[M.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",M[M.ISSUE_NUMBER=4]="ISSUE_NUMBER",M[M.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",M[M.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",M[M.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",M[M.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",M[M.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",M[M.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(St||(St={}));var rt=St;class Mt{constructor(t,i,o,u,h=-1,d=-1){this.rawBytes=t,this.text=i,this.byteSegments=o,this.ecLevel=u,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=d,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ln{exp(t){return this.expTable[t]}log(t){if(t===0)throw new N;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class ve{constructor(t,i){if(i.length===0)throw new N;this.field=t;const o=i.length;if(o>1&&i[0]===0){let u=1;for(;u<o&&i[u]===0;)u++;u===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-u),$.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(t===1){o=0;for(let d=0,g=i.length;d!==g;d++){const _=i[d];o=ln.addOrSubtract(o,_)}return o}o=i[0];const u=i.length,h=this.field;for(let d=1;d<u;d++)o=ln.addOrSubtract(h.multiply(t,o),i[d]);return o}addOrSubtract(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,o=t.coefficients;if(i.length>o.length){const d=i;i=o,o=d}let u=new Int32Array(o.length);const h=o.length-i.length;$.arraycopy(o,0,u,0,h);for(let d=h;d<o.length;d++)u[d]=ln.addOrSubtract(i[d-h],o[d]);return new ve(this.field,u)}multiply(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,u=t.coefficients,h=u.length,d=new Int32Array(o+h-1),g=this.field;for(let _=0;_<o;_++){const A=i[_];for(let R=0;R<h;R++)d[_+R]=ln.addOrSubtract(d[_+R],g.multiply(A,u[R]))}return new ve(g,d)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,o=this.field,u=new Int32Array(i),h=this.coefficients;for(let d=0;d<i;d++)u[d]=o.multiply(h[d],t);return new ve(o,u)}multiplyByMonomial(t,i){if(t<0)throw new N;if(i===0)return this.field.getZero();const o=this.coefficients,u=o.length,h=new Int32Array(u+t),d=this.field;for(let g=0;g<u;g++)h[g]=d.multiply(o[g],i);return new ve(d,h)}divide(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new N("Divide by 0");const i=this.field;let o=i.getZero(),u=this;const h=t.getCoefficient(t.getDegree()),d=i.inverse(h);for(;u.getDegree()>=t.getDegree()&&!u.isZero();){const g=u.getDegree()-t.getDegree(),_=i.multiply(u.getCoefficient(u.getDegree()),d),A=t.multiplyByMonomial(g,_),R=i.buildMonomial(g,_);o=o.addOrSubtract(R),u=u.addOrSubtract(A)}return[o,u]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(t+=" - ",o=-o):t.length>0&&(t+=" + "),i===0||o!==1){const u=this.field.log(o);u===0?t+="1":u===1?t+="a":(t+="a^",t+=u)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class Vr extends w{}Vr.kind="ArithmeticException";class vt extends ln{constructor(t,i,o){super(),this.primitive=t,this.size=i,this.generatorBase=o;const u=new Int32Array(i);let h=1;for(let g=0;g<i;g++)u[g]=h,h*=2,h>=i&&(h^=t,h&=i-1);this.expTable=u;const d=new Int32Array(i);for(let g=0;g<i-1;g++)d[u[g]]=g;this.logTable=d,this.zero=new ve(this,Int32Array.from([0])),this.one=new ve(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new N;if(i===0)return this.zero;const o=new Int32Array(t+1);return o[0]=i,new ve(this,o)}inverse(t){if(t===0)throw new Vr;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+J.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}vt.AZTEC_DATA_12=new vt(4201,4096,1),vt.AZTEC_DATA_10=new vt(1033,1024,1),vt.AZTEC_DATA_6=new vt(67,64,1),vt.AZTEC_PARAM=new vt(19,16,1),vt.QR_CODE_FIELD_256=new vt(285,256,0),vt.DATA_MATRIX_FIELD_256=new vt(301,256,1),vt.AZTEC_DATA_8=vt.DATA_MATRIX_FIELD_256,vt.MAXICODE_FIELD_64=vt.AZTEC_DATA_6;class lr extends w{}lr.kind="ReedSolomonException";class un extends w{}un.kind="IllegalStateException";class ur{constructor(t){this.field=t}decode(t,i){const o=this.field,u=new ve(o,t),h=new Int32Array(i);let d=!0;for(let Z=0;Z<i;Z++){const ie=u.evaluateAt(o.exp(Z+o.getGeneratorBase()));h[h.length-1-Z]=ie,ie!==0&&(d=!1)}if(d)return;const g=new ve(o,h),_=this.runEuclideanAlgorithm(o.buildMonomial(i,1),g,i),A=_[0],R=_[1],L=this.findErrorLocations(A),V=this.findErrorMagnitudes(R,L);for(let Z=0;Z<L.length;Z++){const ie=t.length-1-o.log(L[Z]);if(ie<0)throw new lr("Bad error location");t[ie]=vt.addOrSubtract(t[ie],V[Z])}}runEuclideanAlgorithm(t,i,o){if(t.getDegree()<i.getDegree()){const Z=t;t=i,i=Z}const u=this.field;let h=t,d=i,g=u.getZero(),_=u.getOne();for(;d.getDegree()>=(o/2|0);){let Z=h,ie=g;if(h=d,g=_,h.isZero())throw new lr("r_{i-1} was zero");d=Z;let oe=u.getZero();const ce=h.getCoefficient(h.getDegree()),ye=u.inverse(ce);for(;d.getDegree()>=h.getDegree()&&!d.isZero();){const De=d.getDegree()-h.getDegree(),Me=u.multiply(d.getCoefficient(d.getDegree()),ye);oe=oe.addOrSubtract(u.buildMonomial(De,Me)),d=d.addOrSubtract(h.multiplyByMonomial(De,Me))}if(_=oe.multiply(g).addOrSubtract(ie),d.getDegree()>=h.getDegree())throw new un("Division algorithm failed to reduce polynomial?")}const A=_.getCoefficient(0);if(A===0)throw new lr("sigmaTilde(0) was zero");const R=u.inverse(A),L=_.multiplyScalar(R),V=d.multiplyScalar(R);return[L,V]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const o=new Int32Array(i);let u=0;const h=this.field;for(let d=1;d<h.getSize()&&u<i;d++)t.evaluateAt(d)===0&&(o[u]=h.inverse(d),u++);if(u!==i)throw new lr("Error locator degree does not match number of roots");return o}findErrorMagnitudes(t,i){const o=i.length,u=new Int32Array(o),h=this.field;for(let d=0;d<o;d++){const g=h.inverse(i[d]);let _=1;for(let A=0;A<o;A++)if(d!==A){const R=h.multiply(i[A],g),L=R&1?R&-2:R|1;_=h.multiply(_,L)}u[d]=h.multiply(t.evaluateAt(g),h.inverse(_)),h.getGeneratorBase()!==0&&(u[d]=h.multiply(u[d],g))}return u}}var mn;(function(M){M[M.UPPER=0]="UPPER",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.DIGIT=3]="DIGIT",M[M.PUNCT=4]="PUNCT",M[M.BINARY=5]="BINARY"})(mn||(mn={}));class It{decode(t){this.ddata=t;let i=t.getBits(),o=this.extractBits(i),u=this.correctBits(o),h=It.convertBoolArrayToByteArray(u),d=It.getEncodedData(u),g=new Mt(h,d,null,null);return g.setNumBits(u.length),g}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,o=mn.UPPER,u=mn.UPPER,h="",d=0;for(;d<i;)if(u===mn.BINARY){if(i-d<5)break;let g=It.readCode(t,d,5);if(d+=5,g===0){if(i-d<11)break;g=It.readCode(t,d,11)+31,d+=11}for(let _=0;_<g;_++){if(i-d<8){d=i;break}const A=It.readCode(t,d,8);h+=ee.castAsNonUtf8Char(A),d+=8}u=o}else{let g=u===mn.DIGIT?4:5;if(i-d<g)break;let _=It.readCode(t,d,g);d+=g;let A=It.getCharacter(u,_);A.startsWith("CTRL_")?(o=u,u=It.getTable(A.charAt(5)),A.charAt(6)==="L"&&(o=u)):(h+=A,u=o)}return h}static getTable(t){switch(t){case"L":return mn.LOWER;case"P":return mn.PUNCT;case"M":return mn.MIXED;case"D":return mn.DIGIT;case"B":return mn.BINARY;case"U":default:return mn.UPPER}}static getCharacter(t,i){switch(t){case mn.UPPER:return It.UPPER_TABLE[i];case mn.LOWER:return It.LOWER_TABLE[i];case mn.MIXED:return It.MIXED_TABLE[i];case mn.PUNCT:return It.PUNCT_TABLE[i];case mn.DIGIT:return It.DIGIT_TABLE[i];default:throw new un("Bad table")}}correctBits(t){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=vt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=vt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=vt.AZTEC_DATA_10):(o=12,i=vt.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),h=t.length/o;if(h<u)throw new H;let d=t.length%o,g=new Int32Array(h);for(let V=0;V<h;V++,d+=o)g[V]=It.readCode(t,d,o);try{new ur(i).decode(g,h-u)}catch(V){throw new H(V)}let _=(1<<o)-1,A=0;for(let V=0;V<u;V++){let Z=g[V];if(Z===0||Z===_)throw new H;(Z===1||Z===_-1)&&A++}let R=new Array(u*o-A),L=0;for(let V=0;V<u;V++){let Z=g[V];if(Z===1||Z===_-1)R.fill(Z>1,L,L+o-1),L+=o-1;else for(let ie=o-1;ie>=0;--ie)R[L++]=(Z&1<<ie)!==0}return R}extractBits(t){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),u=(i?11:14)+o*4,h=new Int32Array(u),d=new Array(this.totalBitsInLayer(o,i));if(i)for(let g=0;g<h.length;g++)h[g]=g;else{let g=u+1+2*J.truncDivision(J.truncDivision(u,2)-1,15),_=u/2,A=J.truncDivision(g,2);for(let R=0;R<_;R++){let L=R+J.truncDivision(R,15);h[_-R-1]=A-L-1,h[_+R]=A+L+1}}for(let g=0,_=0;g<o;g++){let A=(o-g)*4+(i?9:12),R=g*2,L=u-1-R;for(let V=0;V<A;V++){let Z=V*2;for(let ie=0;ie<2;ie++)d[_+Z+ie]=t.get(h[R+ie],h[R+V]),d[_+2*A+Z+ie]=t.get(h[R+V],h[L-ie]),d[_+4*A+Z+ie]=t.get(h[L-ie],h[L-V]),d[_+6*A+Z+ie]=t.get(h[L-V],h[R+ie])}_+=A*8}return d}static readCode(t,i,o){let u=0;for(let h=i;h<i+o;h++)u<<=1,t[h]&&(u|=1);return u}static readByte(t,i){let o=t.length-i;return o>=8?It.readCode(t,i,8):It.readCode(t,i,o)<<8-o}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let o=0;o<i.length;o++)i[o]=It.readByte(t,8*o);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}It.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],It.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],It.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],It.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],It.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class At{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,o,u){const h=t-o,d=i-u;return Math.sqrt(h*h+d*d)}static sum(t){let i=0;for(let o=0,u=t.length;o!==u;o++){const h=t[o];i+=h}return i}}class Xe{static floatToIntBits(t){return t}}Xe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ye{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Ye){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Xe.floatToIntBits(this.x)+Xe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),u=this.distance(t[0],t[2]);let h,d,g;if(o>=i&&o>=u?(d=t[0],h=t[1],g=t[2]):u>=o&&u>=i?(d=t[1],h=t[0],g=t[2]):(d=t[2],h=t[0],g=t[1]),this.crossProductZ(h,d,g)<0){const _=h;h=g,g=_}t[0]=h,t[1]=d,t[2]=g}static distance(t,i){return At.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,o){const u=i.x,h=i.y;return(o.x-u)*(t.y-h)-(o.y-h)*(t.x-u)}}class gi{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ki extends gi{constructor(t,i,o,u,h){super(t,i),this.compact=o,this.nbDatablocks=u,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class zn{constructor(t,i,o,u){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=zn.INIT_SIZE),o==null&&(o=t.getWidth()/2|0),u==null&&(u=t.getHeight()/2|0);const h=i/2|0;if(this.leftInit=o-h,this.rightInit=o+h,this.upInit=u-h,this.downInit=u+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new he}detect(){let t=this.leftInit,i=this.rightInit,o=this.upInit,u=this.downInit,h=!1,d=!0,g=!1,_=!1,A=!1,R=!1,L=!1;const V=this.width,Z=this.height;for(;d;){d=!1;let ie=!0;for(;(ie||!_)&&i<V;)ie=this.containsBlackPoint(o,u,i,!1),ie?(i++,d=!0,_=!0):_||i++;if(i>=V){h=!0;break}let oe=!0;for(;(oe||!A)&&u<Z;)oe=this.containsBlackPoint(t,i,u,!0),oe?(u++,d=!0,A=!0):A||u++;if(u>=Z){h=!0;break}let ce=!0;for(;(ce||!R)&&t>=0;)ce=this.containsBlackPoint(o,u,t,!1),ce?(t--,d=!0,R=!0):R||t--;if(t<0){h=!0;break}let ye=!0;for(;(ye||!L)&&o>=0;)ye=this.containsBlackPoint(t,i,o,!0),ye?(o--,d=!0,L=!0):L||o--;if(o<0){h=!0;break}d&&(g=!0)}if(!h&&g){const ie=i-t;let oe=null;for(let Me=1;oe===null&&Me<ie;Me++)oe=this.getBlackPointOnSegment(t,u-Me,t+Me,u);if(oe==null)throw new he;let ce=null;for(let Me=1;ce===null&&Me<ie;Me++)ce=this.getBlackPointOnSegment(t,o+Me,t+Me,o);if(ce==null)throw new he;let ye=null;for(let Me=1;ye===null&&Me<ie;Me++)ye=this.getBlackPointOnSegment(i,o+Me,i-Me,o);if(ye==null)throw new he;let De=null;for(let Me=1;De===null&&Me<ie;Me++)De=this.getBlackPointOnSegment(i,u-Me,i-Me,u);if(De==null)throw new he;return this.centerEdges(De,oe,ye,ce)}else throw new he}getBlackPointOnSegment(t,i,o,u){const h=At.round(At.distance(t,i,o,u)),d=(o-t)/h,g=(u-i)/h,_=this.image;for(let A=0;A<h;A++){const R=At.round(t+A*d),L=At.round(i+A*g);if(_.get(R,L))return new Ye(R,L)}return null}centerEdges(t,i,o,u){const h=t.getX(),d=t.getY(),g=i.getX(),_=i.getY(),A=o.getX(),R=o.getY(),L=u.getX(),V=u.getY(),Z=zn.CORR;return h<this.width/2?[new Ye(L-Z,V+Z),new Ye(g+Z,_+Z),new Ye(A-Z,R-Z),new Ye(h+Z,d-Z)]:[new Ye(L+Z,V+Z),new Ye(g+Z,_-Z),new Ye(A-Z,R+Z),new Ye(h-Z,d-Z)]}containsBlackPoint(t,i,o,u){const h=this.image;if(u){for(let d=t;d<=i;d++)if(h.get(d,o))return!0}else for(let d=t;d<=i;d++)if(h.get(o,d))return!0;return!1}}zn.INIT_SIZE=10,zn.CORR=1;class Pi{static checkAndNudgePoints(t,i){const o=t.getWidth(),u=t.getHeight();let h=!0;for(let d=0;d<i.length&&h;d+=2){const g=Math.floor(i[d]),_=Math.floor(i[d+1]);if(g<-1||g>o||_<-1||_>u)throw new he;h=!1,g===-1?(i[d]=0,h=!0):g===o&&(i[d]=o-1,h=!0),_===-1?(i[d+1]=0,h=!0):_===u&&(i[d+1]=u-1,h=!0)}h=!0;for(let d=i.length-2;d>=0&&h;d-=2){const g=Math.floor(i[d]),_=Math.floor(i[d+1]);if(g<-1||g>o||_<-1||_>u)throw new he;h=!1,g===-1?(i[d]=0,h=!0):g===o&&(i[d]=o-1,h=!0),_===-1?(i[d+1]=0,h=!0):_===u&&(i[d+1]=u-1,h=!0)}}}class Vt{constructor(t,i,o,u,h,d,g,_,A){this.a11=t,this.a21=i,this.a31=o,this.a12=u,this.a22=h,this.a32=d,this.a13=g,this.a23=_,this.a33=A}static quadrilateralToQuadrilateral(t,i,o,u,h,d,g,_,A,R,L,V,Z,ie,oe,ce){const ye=Vt.quadrilateralToSquare(t,i,o,u,h,d,g,_);return Vt.squareToQuadrilateral(A,R,L,V,Z,ie,oe,ce).times(ye)}transformPoints(t){const i=t.length,o=this.a11,u=this.a12,h=this.a13,d=this.a21,g=this.a22,_=this.a23,A=this.a31,R=this.a32,L=this.a33;for(let V=0;V<i;V+=2){const Z=t[V],ie=t[V+1],oe=h*Z+_*ie+L;t[V]=(o*Z+d*ie+A)/oe,t[V+1]=(u*Z+g*ie+R)/oe}}transformPointsWithValues(t,i){const o=this.a11,u=this.a12,h=this.a13,d=this.a21,g=this.a22,_=this.a23,A=this.a31,R=this.a32,L=this.a33,V=t.length;for(let Z=0;Z<V;Z++){const ie=t[Z],oe=i[Z],ce=h*ie+_*oe+L;t[Z]=(o*ie+d*oe+A)/ce,i[Z]=(u*ie+g*oe+R)/ce}}static squareToQuadrilateral(t,i,o,u,h,d,g,_){const A=t-o+h-g,R=i-u+d-_;if(A===0&&R===0)return new Vt(o-t,h-o,t,u-i,d-u,i,0,0,1);{const L=o-h,V=g-h,Z=u-d,ie=_-d,oe=L*ie-V*Z,ce=(A*ie-V*R)/oe,ye=(L*R-A*Z)/oe;return new Vt(o-t+ce*o,g-t+ye*g,t,u-i+ce*u,_-i+ye*_,i,ce,ye,1)}}static quadrilateralToSquare(t,i,o,u,h,d,g,_){return Vt.squareToQuadrilateral(t,i,o,u,h,d,g,_).buildAdjoint()}buildAdjoint(){return new Vt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Vt(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class vn extends Pi{sampleGrid(t,i,o,u,h,d,g,_,A,R,L,V,Z,ie,oe,ce,ye,De,Me){const Ne=Vt.quadrilateralToQuadrilateral(u,h,d,g,_,A,R,L,V,Z,ie,oe,ce,ye,De,Me);return this.sampleGridWithTransform(t,i,o,Ne)}sampleGridWithTransform(t,i,o,u){if(i<=0||o<=0)throw new he;const h=new $e(i,o),d=new Float32Array(2*i);for(let g=0;g<o;g++){const _=d.length,A=g+.5;for(let R=0;R<_;R+=2)d[R]=R/2+.5,d[R+1]=A;u.transformPoints(d),Pi.checkAndNudgePoints(t,d);try{for(let R=0;R<_;R+=2)t.get(Math.floor(d[R]),Math.floor(d[R+1]))&&h.set(R/2,g)}catch{throw new he}}return h}}class Hn{static setGridSampler(t){Hn.gridSampler=t}static getInstance(){return Hn.gridSampler}}Hn.gridSampler=new vn;class An{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new Ye(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Qi{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(t){let d=o[0];o[0]=o[2],o[2]=d}this.extractParameters(o);let u=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),h=this.getMatrixCornerPoints(o);return new Ki(u,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new he;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(o,i);let u=0;for(let d=0;d<4;d++){let g=o[(this.shift+d)%4];this.compact?(u<<=7,u+=g>>1&127):(u<<=10,u+=(g>>2&992)+(g>>1&31))}let h=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(t,i){let o=0;t.forEach((u,h,d)=>{let g=(u>>i-2<<1)+(u&1);o=(o<<3)+g}),o=((o&1)<<11)+(o>>1);for(let u=0;u<4;u++)if(J.bitCount(o^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new he}getCorrectedParameterData(t,i){let o,u;i?(o=7,u=2):(o=10,u=4);let h=o-u,d=new Int32Array(o);for(let _=o-1;_>=0;--_)d[_]=t&15,t>>=4;try{new ur(vt.AZTEC_PARAM).decode(d,h)}catch{throw new he}let g=0;for(let _=0;_<u;_++)g=(g<<4)+d[_];return g}getBullsEyeCorners(t){let i=t,o=t,u=t,h=t,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let L=this.getFirstDifferent(i,d,1,-1),V=this.getFirstDifferent(o,d,1,1),Z=this.getFirstDifferent(u,d,-1,1),ie=this.getFirstDifferent(h,d,-1,-1);if(this.nbCenterLayers>2){let oe=this.distancePoint(ie,L)*this.nbCenterLayers/(this.distancePoint(h,i)*(this.nbCenterLayers+2));if(oe<.75||oe>1.25||!this.isWhiteOrBlackRectangle(L,V,Z,ie))break}i=L,o=V,u=Z,h=ie,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new he;this.compact=this.nbCenterLayers===5;let g=new Ye(i.getX()+.5,i.getY()-.5),_=new Ye(o.getX()+.5,o.getY()+.5),A=new Ye(u.getX()-.5,u.getY()+.5),R=new Ye(h.getX()-.5,h.getY()-.5);return this.expandSquare([g,_,A,R],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,o,u;try{let g=new zn(this.image).detect();t=g[0],i=g[1],o=g[2],u=g[3]}catch{let _=this.image.getWidth()/2,A=this.image.getHeight()/2;t=this.getFirstDifferent(new An(_+7,A-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new An(_+7,A+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new An(_-7,A+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new An(_-7,A-7),!1,-1,-1).toResultPoint()}let h=At.round((t.getX()+u.getX()+i.getX()+o.getX())/4),d=At.round((t.getY()+u.getY()+i.getY()+o.getY())/4);try{let g=new zn(this.image,15,h,d).detect();t=g[0],i=g[1],o=g[2],u=g[3]}catch{t=this.getFirstDifferent(new An(h+7,d-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new An(h+7,d+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new An(h-7,d+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new An(h-7,d-7),!1,-1,-1).toResultPoint()}return h=At.round((t.getX()+u.getX()+i.getX()+o.getX())/4),d=At.round((t.getY()+u.getY()+i.getY()+o.getY())/4),new An(h,d)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,o,u,h){let d=Hn.getInstance(),g=this.getDimension(),_=g/2-this.nbCenterLayers,A=g/2+this.nbCenterLayers;return d.sampleGrid(t,g,g,_,_,A,_,A,A,_,A,i.getX(),i.getY(),o.getX(),o.getY(),u.getX(),u.getY(),h.getX(),h.getY())}sampleLine(t,i,o){let u=0,h=this.distanceResultPoint(t,i),d=h/o,g=t.getX(),_=t.getY(),A=d*(i.getX()-t.getX())/h,R=d*(i.getY()-t.getY())/h;for(let L=0;L<o;L++)this.image.get(At.round(g+L*A),At.round(_+L*R))&&(u|=1<<o-L-1);return u}isWhiteOrBlackRectangle(t,i,o,u){let h=3;t=new An(t.getX()-h,t.getY()+h),i=new An(i.getX()-h,i.getY()-h),o=new An(o.getX()+h,o.getY()-h),u=new An(u.getX()+h,u.getY()+h);let d=this.getColor(u,t);if(d===0)return!1;let g=this.getColor(t,i);return g!==d||(g=this.getColor(i,o),g!==d)?!1:(g=this.getColor(o,u),g===d)}getColor(t,i){let o=this.distancePoint(t,i),u=(i.getX()-t.getX())/o,h=(i.getY()-t.getY())/o,d=0,g=t.getX(),_=t.getY(),A=this.image.get(t.getX(),t.getY()),R=Math.ceil(o);for(let V=0;V<R;V++)g+=u,_+=h,this.image.get(At.round(g),At.round(_))!==A&&d++;let L=d/o;return L>.1&&L<.9?0:L<=.1===A?1:-1}getFirstDifferent(t,i,o,u){let h=t.getX()+o,d=t.getY()+u;for(;this.isValid(h,d)&&this.image.get(h,d)===i;)h+=o,d+=u;for(h-=o,d-=u;this.isValid(h,d)&&this.image.get(h,d)===i;)h+=o;for(h-=o;this.isValid(h,d)&&this.image.get(h,d)===i;)d+=u;return d-=u,new An(h,d)}expandSquare(t,i,o){let u=o/(2*i),h=t[0].getX()-t[2].getX(),d=t[0].getY()-t[2].getY(),g=(t[0].getX()+t[2].getX())/2,_=(t[0].getY()+t[2].getY())/2,A=new Ye(g+u*h,_+u*d),R=new Ye(g-u*h,_-u*d);h=t[1].getX()-t[3].getX(),d=t[1].getY()-t[3].getY(),g=(t[1].getX()+t[3].getX())/2,_=(t[1].getY()+t[3].getY())/2;let L=new Ye(g+u*h,_+u*d),V=new Ye(g-u*h,_-u*d);return[A,L,R,V]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=At.round(t.getX()),o=At.round(t.getY());return this.isValid(i,o)}distancePoint(t,i){return At.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return At.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(J.truncDivision(this.nbLayers-4,8)+1)+15}}class qi{decode(t,i=null){let o=null,u=new Qi(t.getBlackMatrix()),h=null,d=null;try{let R=u.detectMirror(!1);h=R.getPoints(),this.reportFoundResultPoints(i,h),d=new It().decode(R)}catch(R){o=R}if(d==null)try{let R=u.detectMirror(!0);h=R.getPoints(),this.reportFoundResultPoints(i,h),d=new It().decode(R)}catch(R){throw o??R}let g=new tt(d.getText(),d.getRawBytes(),d.getNumBits(),h,Be.AZTEC,$.currentTimeMillis()),_=d.getByteSegments();_!=null&&g.putMetadata(rt.BYTE_SEGMENTS,_);let A=d.getECLevel();return A!=null&&g.putMetadata(rt.ERROR_CORRECTION_LEVEL,A),g}reportFoundResultPoints(t,i){if(t!=null){let o=t.get(Te.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((u,h,d)=>{o.foundPossibleResultPoint(u)})}}reset(){}}class Ss extends qe{constructor(t=500){super(new qi,t)}}class yn{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(Te.TRY_HARDER)===!0&&t.isRotateSupported()){const h=t.rotateCounterClockwise(),d=this.doDecode(h,i),g=d.getResultMetadata();let _=270;g!==null&&g.get(rt.ORIENTATION)===!0&&(_=_+g.get(rt.ORIENTATION)%360),d.putMetadata(rt.ORIENTATION,_);const A=d.getResultPoints();if(A!==null){const R=h.getHeight();for(let L=0;L<A.length;L++)A[L]=new Ye(R-A[L].getY()-1,A[L].getX())}return d}else throw new he}}reset(){}doDecode(t,i){const o=t.getWidth(),u=t.getHeight();let h=new se(o);const d=i&&i.get(Te.TRY_HARDER)===!0,g=Math.max(1,u>>(d?8:5));let _;d?_=u:_=15;const A=Math.trunc(u/2);for(let R=0;R<_;R++){const L=Math.trunc((R+1)/2),V=(R&1)===0,Z=A+g*(V?L:-L);if(Z<0||Z>=u)break;try{h=t.getBlackRow(Z,h)}catch{continue}for(let ie=0;ie<2;ie++){if(ie===1&&(h.reverse(),i&&i.get(Te.NEED_RESULT_POINT_CALLBACK)===!0)){const oe=new Map;i.forEach((ce,ye)=>oe.set(ye,ce)),oe.delete(Te.NEED_RESULT_POINT_CALLBACK),i=oe}try{const oe=this.decodeRow(Z,h,i);if(ie===1){oe.putMetadata(rt.ORIENTATION,180);const ce=oe.getResultPoints();ce!==null&&(ce[0]=new Ye(o-ce[0].getX()-1,ce[0].getY()),ce[1]=new Ye(o-ce[1].getX()-1,ce[1].getY()))}return oe}catch{}}}throw new he}static recordPattern(t,i,o){const u=o.length;for(let A=0;A<u;A++)o[A]=0;const h=t.getSize();if(i>=h)throw new he;let d=!t.get(i),g=0,_=i;for(;_<h;){if(t.get(_)!==d)o[g]++;else{if(++g===u)break;o[g]=1,d=!d}_++}if(!(g===u||g===u-1&&_===h))throw new he}static recordPatternInReverse(t,i,o){let u=o.length,h=t.get(i);for(;i>0&&u>=0;)t.get(--i)!==h&&(u--,h=!h);if(u>=0)throw new he;yn.recordPattern(t,i+1,o)}static patternMatchVariance(t,i,o){const u=t.length;let h=0,d=0;for(let A=0;A<u;A++)h+=t[A],d+=i[A];if(h<d)return Number.POSITIVE_INFINITY;const g=h/d;o*=g;let _=0;for(let A=0;A<u;A++){const R=t[A],L=i[A]*g,V=R>L?R-L:L-R;if(V>o)return Number.POSITIVE_INFINITY;_+=V}return _/h}}class je extends yn{static findStartPattern(t){const i=t.getSize(),o=t.getNextSet(0);let u=0,h=Int32Array.from([0,0,0,0,0,0]),d=o,g=!1;const _=6;for(let A=o;A<i;A++)if(t.get(A)!==g)h[u]++;else{if(u===_-1){let R=je.MAX_AVG_VARIANCE,L=-1;for(let V=je.CODE_START_A;V<=je.CODE_START_C;V++){const Z=yn.patternMatchVariance(h,je.CODE_PATTERNS[V],je.MAX_INDIVIDUAL_VARIANCE);Z<R&&(R=Z,L=V)}if(L>=0&&t.isRange(Math.max(0,d-(A-d)/2),d,!1))return Int32Array.from([d,A,L]);d+=h[0]+h[1],h=h.slice(2,h.length-1),h[u-1]=0,h[u]=0,u--}else u++;h[u]=1,g=!g}throw new he}static decodeCode(t,i,o){yn.recordPattern(t,o,i);let u=je.MAX_AVG_VARIANCE,h=-1;for(let d=0;d<je.CODE_PATTERNS.length;d++){const g=je.CODE_PATTERNS[d],_=this.patternMatchVariance(i,g,je.MAX_INDIVIDUAL_VARIANCE);_<u&&(u=_,h=d)}if(h>=0)return h;throw new he}decodeRow(t,i,o){const u=o&&o.get(Te.ASSUME_GS1)===!0,h=je.findStartPattern(i),d=h[2];let g=0;const _=new Uint8Array(20);_[g++]=d;let A;switch(d){case je.CODE_START_A:A=je.CODE_CODE_A;break;case je.CODE_START_B:A=je.CODE_CODE_B;break;case je.CODE_START_C:A=je.CODE_CODE_C;break;default:throw new H}let R=!1,L=!1,V="",Z=h[0],ie=h[1];const oe=Int32Array.from([0,0,0,0,0,0]);let ce=0,ye=0,De=d,Me=0,Ne=!0,Rt=!1,yt=!1;for(;!R;){const is=L;switch(L=!1,ce=ye,ye=je.decodeCode(i,oe,ie),_[g++]=ye,ye!==je.CODE_STOP&&(Ne=!0),ye!==je.CODE_STOP&&(Me++,De+=Me*ye),Z=ie,ie+=oe.reduce((to,Ta)=>to+Ta,0),ye){case je.CODE_START_A:case je.CODE_START_B:case je.CODE_START_C:throw new H}switch(A){case je.CODE_CODE_A:if(ye<64)yt===Rt?V+=String.fromCharCode(32+ye):V+=String.fromCharCode(32+ye+128),yt=!1;else if(ye<96)yt===Rt?V+=String.fromCharCode(ye-64):V+=String.fromCharCode(ye+64),yt=!1;else switch(ye!==je.CODE_STOP&&(Ne=!1),ye){case je.CODE_FNC_1:u&&(V.length===0?V+="]C1":V+="");break;case je.CODE_FNC_2:case je.CODE_FNC_3:break;case je.CODE_FNC_4_A:!Rt&&yt?(Rt=!0,yt=!1):Rt&&yt?(Rt=!1,yt=!1):yt=!0;break;case je.CODE_SHIFT:L=!0,A=je.CODE_CODE_B;break;case je.CODE_CODE_B:A=je.CODE_CODE_B;break;case je.CODE_CODE_C:A=je.CODE_CODE_C;break;case je.CODE_STOP:R=!0;break}break;case je.CODE_CODE_B:if(ye<96)yt===Rt?V+=String.fromCharCode(32+ye):V+=String.fromCharCode(32+ye+128),yt=!1;else switch(ye!==je.CODE_STOP&&(Ne=!1),ye){case je.CODE_FNC_1:u&&(V.length===0?V+="]C1":V+="");break;case je.CODE_FNC_2:case je.CODE_FNC_3:break;case je.CODE_FNC_4_B:!Rt&&yt?(Rt=!0,yt=!1):Rt&&yt?(Rt=!1,yt=!1):yt=!0;break;case je.CODE_SHIFT:L=!0,A=je.CODE_CODE_A;break;case je.CODE_CODE_A:A=je.CODE_CODE_A;break;case je.CODE_CODE_C:A=je.CODE_CODE_C;break;case je.CODE_STOP:R=!0;break}break;case je.CODE_CODE_C:if(ye<100)ye<10&&(V+="0"),V+=ye;else switch(ye!==je.CODE_STOP&&(Ne=!1),ye){case je.CODE_FNC_1:u&&(V.length===0?V+="]C1":V+="");break;case je.CODE_CODE_A:A=je.CODE_CODE_A;break;case je.CODE_CODE_B:A=je.CODE_CODE_B;break;case je.CODE_STOP:R=!0;break}break}is&&(A=A===je.CODE_CODE_A?je.CODE_CODE_B:je.CODE_CODE_A)}const Rr=ie-Z;if(ie=i.getNextUnset(ie),!i.isRange(ie,Math.min(i.getSize(),ie+(ie-Z)/2),!1))throw new he;if(De-=Me*ce,De%103!==ce)throw new U;const Ci=V.length;if(Ci===0)throw new he;Ci>0&&Ne&&(A===je.CODE_CODE_C?V=V.substring(0,Ci-2):V=V.substring(0,Ci-1));const Kn=(h[1]+h[0])/2,$t=Z+Rr/2,Dn=_.length,xr=new Uint8Array(Dn);for(let is=0;is<Dn;is++)xr[is]=_[is];const ks=[new Ye(Kn,t),new Ye($t,t)];return new tt(V,xr,0,ks,Be.CODE_128,new Date().getTime())}}je.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],je.MAX_AVG_VARIANCE=.25,je.MAX_INDIVIDUAL_VARIANCE=.7,je.CODE_SHIFT=98,je.CODE_CODE_C=99,je.CODE_CODE_B=100,je.CODE_CODE_A=101,je.CODE_FNC_1=102,je.CODE_FNC_2=97,je.CODE_FNC_3=96,je.CODE_FNC_4_A=101,je.CODE_FNC_4_B=100,je.CODE_START_A=103,je.CODE_START_B=104,je.CODE_START_C=105,je.CODE_STOP=106;class En extends yn{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,o){let u=this.counters;u.fill(0),this.decodeRowResult="";let h=En.findAsteriskPattern(i,u),d=i.getNextSet(h[1]),g=i.getSize(),_,A;do{En.recordPattern(i,d,u);let oe=En.toNarrowWidePattern(u);if(oe<0)throw new he;_=En.patternToChar(oe),this.decodeRowResult+=_,A=d;for(let ce of u)d+=ce;d=i.getNextSet(d)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let R=0;for(let oe of u)R+=oe;let L=d-A-R;if(d!==g&&L*2<R)throw new he;if(this.usingCheckDigit){let oe=this.decodeRowResult.length-1,ce=0;for(let ye=0;ye<oe;ye++)ce+=En.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ye));if(this.decodeRowResult.charAt(oe)!==En.ALPHABET_STRING.charAt(ce%43))throw new U;this.decodeRowResult=this.decodeRowResult.substring(0,oe)}if(this.decodeRowResult.length===0)throw new he;let V;this.extendedMode?V=En.decodeExtended(this.decodeRowResult):V=this.decodeRowResult;let Z=(h[1]+h[0])/2,ie=A+R/2;return new tt(V,null,0,[new Ye(Z,t),new Ye(ie,t)],Be.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let o=t.getSize(),u=t.getNextSet(0),h=0,d=u,g=!1,_=i.length;for(let A=u;A<o;A++)if(t.get(A)!==g)i[h]++;else{if(h===_-1){if(this.toNarrowWidePattern(i)===En.ASTERISK_ENCODING&&t.isRange(Math.max(0,d-Math.floor((A-d)/2)),d,!1))return[d,A];d+=i[0]+i[1],i.copyWithin(0,2,2+h-1),i[h-1]=0,i[h]=0,h--}else h++;i[h]=1,g=!g}throw new he}static toNarrowWidePattern(t){let i=t.length,o=0,u;do{let h=2147483647;for(let _ of t)_<h&&_>o&&(h=_);o=h,u=0;let d=0,g=0;for(let _=0;_<i;_++){let A=t[_];A>o&&(g|=1<<i-1-_,u++,d+=A)}if(u===3){for(let _=0;_<i&&u>0;_++){let A=t[_];if(A>o&&(u--,A*2>=d))return-1}return g}}while(u>3);return-1}static patternToChar(t){for(let i=0;i<En.CHARACTER_ENCODINGS.length;i++)if(En.CHARACTER_ENCODINGS[i]===t)return En.ALPHABET_STRING.charAt(i);if(t===En.ASTERISK_ENCODING)return"*";throw new he}static decodeExtended(t){let i=t.length,o="";for(let u=0;u<i;u++){let h=t.charAt(u);if(h==="+"||h==="$"||h==="%"||h==="/"){let d=t.charAt(u+1),g="\0";switch(h){case"+":if(d>="A"&&d<="Z")g=String.fromCharCode(d.charCodeAt(0)+32);else throw new H;break;case"$":if(d>="A"&&d<="Z")g=String.fromCharCode(d.charCodeAt(0)-64);else throw new H;break;case"%":if(d>="A"&&d<="E")g=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")g=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")g=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")g=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")g="\0";else if(d==="V")g="@";else if(d==="W")g="`";else if(d==="X"||d==="Y"||d==="Z")g="";else throw new H;break;case"/":if(d>="A"&&d<="O")g=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")g=":";else throw new H;break}o+=g,u++}else o+=h}return o}}En.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",En.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],En.ASTERISK_ENCODING=148;class jt extends yn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,o){let u=this.decodeStart(i),h=this.decodeEnd(i),d=new Y;jt.decodeMiddle(i,u[1],h[0],d);let g=d.toString(),_=null;o!=null&&(_=o.get(Te.ALLOWED_LENGTHS)),_==null&&(_=jt.DEFAULT_ALLOWED_LENGTHS);let A=g.length,R=!1,L=0;for(let ie of _){if(A===ie){R=!0;break}ie>L&&(L=ie)}if(!R&&A>L&&(R=!0),!R)throw new H;const V=[new Ye(u[1],t),new Ye(h[0],t)];return new tt(g,null,0,V,Be.ITF,new Date().getTime())}static decodeMiddle(t,i,o,u){let h=new Int32Array(10),d=new Int32Array(5),g=new Int32Array(5);for(h.fill(0),d.fill(0),g.fill(0);i<o;){yn.recordPattern(t,i,h);for(let A=0;A<5;A++){let R=2*A;d[A]=h[R],g[A]=h[R+1]}let _=jt.decodeDigit(d);u.append(_.toString()),_=this.decodeDigit(g),u.append(_.toString()),h.forEach(function(A){i+=A})}}decodeStart(t){let i=jt.skipWhiteSpace(t),o=jt.findGuardPattern(t,i,jt.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(t,o[0]),o}validateQuietZone(t,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let u=i-1;o>0&&u>=0&&!t.get(u);u--)o--;if(o!==0)throw new he}static skipWhiteSpace(t){const i=t.getSize(),o=t.getNextSet(0);if(o===i)throw new he;return o}decodeEnd(t){t.reverse();try{let i=jt.skipWhiteSpace(t),o;try{o=jt.findGuardPattern(t,i,jt.END_PATTERN_REVERSED[0])}catch(h){h instanceof he&&(o=jt.findGuardPattern(t,i,jt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,o[0]);let u=o[0];return o[0]=t.getSize()-o[1],o[1]=t.getSize()-u,o}finally{t.reverse()}}static findGuardPattern(t,i,o){let u=o.length,h=new Int32Array(u),d=t.getSize(),g=!1,_=0,A=i;h.fill(0);for(let R=i;R<d;R++)if(t.get(R)!==g)h[_]++;else{if(_===u-1){if(yn.patternMatchVariance(h,o,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return[A,R];A+=h[0]+h[1],$.arraycopy(h,2,h,0,_-1),h[_-1]=0,h[_]=0,_--}else _++;h[_]=1,g=!g}throw new he}static decodeDigit(t){let i=jt.MAX_AVG_VARIANCE,o=-1,u=jt.PATTERNS.length;for(let h=0;h<u;h++){let d=jt.PATTERNS[h],g=yn.patternMatchVariance(t,d,jt.MAX_INDIVIDUAL_VARIANCE);g<i?(i=g,o=h):g===i&&(o=-1)}if(o>=0)return o%10;throw new he}}jt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],jt.MAX_AVG_VARIANCE=.38,jt.MAX_INDIVIDUAL_VARIANCE=.5,jt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],jt.START_PATTERN=Int32Array.from([1,1,1,1]),jt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ht extends yn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,o,u=0,h=Int32Array.from([0,0,0]);for(;!i;){h=Int32Array.from([0,0,0]),o=Ht.findGuardPattern(t,u,!1,this.START_END_PATTERN,h);let d=o[0];u=o[1];let g=d-(u-d);g>=0&&(i=t.isRange(g,d,!1))}return o}static checkChecksum(t){return Ht.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let o=parseInt(t.charAt(i-1),10);return Ht.getStandardUPCEANChecksum(t.substring(0,i-1))===o}static getStandardUPCEANChecksum(t){let i=t.length,o=0;for(let u=i-1;u>=0;u-=2){let h=t.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new H;o+=h}o*=3;for(let u=i-2;u>=0;u-=2){let h=t.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new H;o+=h}return(1e3-o)%10}static decodeEnd(t,i){return Ht.findGuardPattern(t,i,!1,Ht.START_END_PATTERN,new Int32Array(Ht.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,o,u){return this.findGuardPattern(t,i,o,u,new Int32Array(u.length))}static findGuardPattern(t,i,o,u,h){let d=t.getSize();i=o?t.getNextUnset(i):t.getNextSet(i);let g=0,_=i,A=u.length,R=o;for(let L=i;L<d;L++)if(t.get(L)!==R)h[g]++;else{if(g===A-1){if(yn.patternMatchVariance(h,u,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return Int32Array.from([_,L]);_+=h[0]+h[1];let V=h.slice(2,h.length-1);for(let Z=0;Z<g-1;Z++)h[Z]=V[Z];h[g-1]=0,h[g]=0,g--}else g++;h[g]=1,R=!R}throw new he}static decodeDigit(t,i,o,u){this.recordPattern(t,o,i);let h=this.MAX_AVG_VARIANCE,d=-1,g=u.length;for(let _=0;_<g;_++){let A=u[_],R=yn.patternMatchVariance(i,A,Ht.MAX_INDIVIDUAL_VARIANCE);R<h&&(h=R,d=_)}if(d>=0)return d;throw new he}}Ht.MAX_AVG_VARIANCE=.48,Ht.MAX_INDIVIDUAL_VARIANCE=.7,Ht.START_END_PATTERN=Int32Array.from([1,1,1]),Ht.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ht.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ht.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class mi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,o){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(i,o,u),d=u.toString(),g=mi.parseExtensionString(d),_=[new Ye((o[0]+o[1])/2,t),new Ye(h,t)],A=new tt(d,null,0,_,Be.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&A.putAllMetadata(g),A}decodeMiddle(t,i,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),d=i[1],g=0;for(let A=0;A<5&&d<h;A++){let R=Ht.decodeDigit(t,u,d,Ht.L_AND_G_PATTERNS);o+=String.fromCharCode(48+R%10);for(let L of u)d+=L;R>=10&&(g|=1<<4-A),A!==4&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(o.length!==5)throw new he;let _=this.determineCheckDigit(g);if(mi.extensionChecksum(o.toString())!==_)throw new he;return d}static extensionChecksum(t){let i=t.length,o=0;for(let u=i-2;u>=0;u-=2)o+=t.charAt(u).charCodeAt(0)-48;o*=3;for(let u=i-1;u>=0;u-=2)o+=t.charAt(u).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new he}static parseExtensionString(t){if(t.length!==5)return null;let i=mi.parseExtension5String(t);return i==null?null:new Map([[rt.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(t.substring(1)),u=(o/100).toString(),h=o%100,d=h<10?"0"+h:h.toString();return i+u+"."+d}}class Ur{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,o){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(i,o,u),d=u.toString(),g=Ur.parseExtensionString(d),_=[new Ye((o[0]+o[1])/2,t),new Ye(h,t)],A=new tt(d,null,0,_,Be.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&A.putAllMetadata(g),A}decodeMiddle(t,i,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),d=i[1],g=0;for(let _=0;_<2&&d<h;_++){let A=Ht.decodeDigit(t,u,d,Ht.L_AND_G_PATTERNS);o+=String.fromCharCode(48+A%10);for(let R of u)d+=R;A>=10&&(g|=1<<1-_),_!==1&&(d=t.getNextSet(d),d=t.getNextUnset(d))}if(o.length!==2)throw new he;if(parseInt(o.toString())%4!==g)throw new he;return d}static parseExtensionString(t){return t.length!==2?null:new Map([[rt.ISSUE_NUMBER,parseInt(t)]])}}class bs{static decodeRow(t,i,o){let u=Ht.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new mi().decodeRow(t,i,u)}catch{return new Ur().decodeRow(t,i,u)}}}bs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ct extends Ht{constructor(){super(),this.decodeRowStringBuffer="",Ct.L_AND_G_PATTERNS=Ct.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=Ct.L_PATTERNS[t-10],o=new Int32Array(i.length);for(let u=0;u<i.length;u++)o[u]=i[i.length-u-1];Ct.L_AND_G_PATTERNS[t]=o}}decodeRow(t,i,o){let u=Ct.findStartGuardPattern(i),h=o==null?null:o.get(Te.NEED_RESULT_POINT_CALLBACK);if(h!=null){const Ne=new Ye((u[0]+u[1])/2,t);h.foundPossibleResultPoint(Ne)}let d=this.decodeMiddle(i,u,this.decodeRowStringBuffer),g=d.rowOffset,_=d.resultString;if(h!=null){const Ne=new Ye(g,t);h.foundPossibleResultPoint(Ne)}let A=this.decodeEnd(i,g);if(h!=null){const Ne=new Ye((A[0]+A[1])/2,t);h.foundPossibleResultPoint(Ne)}let R=A[1],L=R+(R-A[0]);if(L>=i.getSize()||!i.isRange(R,L,!1))throw new he;let V=_.toString();if(V.length<8)throw new H;if(!Ct.checkChecksum(V))throw new U;let Z=(u[1]+u[0])/2,ie=(A[1]+A[0])/2,oe=this.getBarcodeFormat(),ce=[new Ye(Z,t),new Ye(ie,t)],ye=new tt(V,null,0,ce,oe,new Date().getTime()),De=0;try{let Ne=bs.decodeRow(t,i,A[1]);ye.putMetadata(rt.UPC_EAN_EXTENSION,Ne.getText()),ye.putAllMetadata(Ne.getResultMetadata()),ye.addResultPoints(Ne.getResultPoints()),De=Ne.getText().length}catch{}let Me=o==null?null:o.get(Te.ALLOWED_EAN_EXTENSIONS);if(Me!=null){let Ne=!1;for(let Rt in Me)if(De.toString()===Rt){Ne=!0;break}if(!Ne)throw new he}return ye}decodeEnd(t,i){return Ct.findGuardPattern(t,i,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Ct.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let o=parseInt(t.charAt(i-1),10);return Ct.getStandardUPCEANChecksum(t.substring(0,i-1))===o}static getStandardUPCEANChecksum(t){let i=t.length,o=0;for(let u=i-1;u>=0;u-=2){let h=t.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new H;o+=h}o*=3;for(let u=i-2;u>=0;u-=2){let h=t.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new H;o+=h}return(1e3-o)%10}}class cr extends Ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,o){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),d=i[1],g=0;for(let A=0;A<6&&d<h;A++){let R=Ct.decodeDigit(t,u,d,Ct.L_AND_G_PATTERNS);o+=String.fromCharCode(48+R%10);for(let L of u)d+=L;R>=10&&(g|=1<<5-A)}o=cr.determineFirstDigit(o,g),d=Ct.findGuardPattern(t,d,!0,Ct.MIDDLE_PATTERN,new Int32Array(Ct.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<6&&d<h;A++){let R=Ct.decodeDigit(t,u,d,Ct.L_PATTERNS);o+=String.fromCharCode(48+R);for(let L of u)d+=L}return{rowOffset:d,resultString:o}}getBarcodeFormat(){return Be.EAN_13}static determineFirstDigit(t,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return t=String.fromCharCode(48+o)+t,t;throw new he}}cr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ns extends Ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,o){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),d=i[1];for(let _=0;_<4&&d<h;_++){let A=Ct.decodeDigit(t,u,d,Ct.L_PATTERNS);o+=String.fromCharCode(48+A);for(let R of u)d+=R}d=Ct.findGuardPattern(t,d,!0,Ct.MIDDLE_PATTERN,new Int32Array(Ct.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<4&&d<h;_++){let A=Ct.decodeDigit(t,u,d,Ct.L_PATTERNS);o+=String.fromCharCode(48+A);for(let R of u)d+=R}return{rowOffset:d,resultString:o}}getBarcodeFormat(){return Be.EAN_8}}class yi extends Ct{constructor(){super(...arguments),this.ean13Reader=new cr}getBarcodeFormat(){return Be.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,o))}decodeMiddle(t,i,o){return this.ean13Reader.decodeMiddle(t,i,o)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let o=new tt(i.substring(1),null,null,t.getResultPoints(),Be.UPC_A);return t.getResultMetadata()!=null&&o.putAllMetadata(t.getResultMetadata()),o}else throw new he}reset(){this.ean13Reader.reset()}}class mr extends Ct{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,o){const u=this.decodeMiddleCounters.map(A=>A);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const h=t.getSize();let d=i[1],g=0;for(let A=0;A<6&&d<h;A++){const R=mr.decodeDigit(t,u,d,mr.L_AND_G_PATTERNS);o+=String.fromCharCode(48+R%10);for(let L of u)d+=L;R>=10&&(g|=1<<5-A)}let _=mr.determineNumSysAndCheckDigit(o,g);return{rowOffset:d,resultString:_}}decodeEnd(t,i){return mr.findGuardPatternWithoutCounters(t,i,!0,mr.MIDDLE_END_PATTERN)}checkChecksum(t){return Ct.checkChecksum(mr.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let o=0;o<=1;o++)for(let u=0;u<10;u++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][u]){let h=String.fromCharCode(48+o),d=String.fromCharCode(48+u);return h+t+d}throw he.getNotFoundInstance()}getBarcodeFormat(){return Be.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(h=>h.charCodeAt(0)),o=new Y;o.append(t.charAt(0));let u=i[5];switch(u){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(u),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(u);break}return t.length>=8&&o.append(t.charAt(7)),o.toString()}}mr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),mr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Zi extends yn{constructor(t){super();let i=t==null?null:t.get(Te.POSSIBLE_FORMATS),o=[];l(i)?(o.push(new cr),o.push(new yi),o.push(new Ns),o.push(new mr)):(i.indexOf(Be.EAN_13)>-1&&o.push(new cr),i.indexOf(Be.UPC_A)>-1&&o.push(new yi),i.indexOf(Be.EAN_8)>-1&&o.push(new Ns),i.indexOf(Be.UPC_E)>-1&&o.push(new mr)),this.readers=o}decodeRow(t,i,o){for(let u of this.readers)try{const h=u.decodeRow(t,i,o),d=h.getBarcodeFormat()===Be.EAN_13&&h.getText().charAt(0)==="0",g=o==null?null:o.get(Te.POSSIBLE_FORMATS),_=g==null||g.includes(Be.UPC_A);if(d&&_){const A=h.getRawBytes(),R=new tt(h.getText().substring(1),A,A?A.length:null,h.getResultPoints(),Be.UPC_A);return R.putAllMetadata(h.getResultMetadata()),R}return h}catch{}throw new he}reset(){for(let t of this.readers)t.reset()}}class Fn extends yn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let o=0;o<i.length;o++)if(yn.patternMatchVariance(t,i[o],Fn.MAX_INDIVIDUAL_VARIANCE)<Fn.MAX_AVG_VARIANCE)return o;throw new he}static count(t){return At.sum(new Int32Array(t))}static increment(t,i){let o=0,u=i[0];for(let h=1;h<t.length;h++)i[h]>u&&(u=i[h],o=h);t[o]++}static decrement(t,i){let o=0,u=i[0];for(let h=1;h<t.length;h++)i[h]<u&&(u=i[h],o=h);t[o]--}static isFinderPattern(t){let i=t[0]+t[1],o=i+t[2]+t[3],u=i/o;if(u>=Fn.MIN_FINDER_PATTERN_RATIO&&u<=Fn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let g of t)g>d&&(d=g),g<h&&(h=g);return d<10*h}return!1}}Fn.MAX_AVG_VARIANCE=.2,Fn.MAX_INDIVIDUAL_VARIANCE=.45,Fn.MIN_FINDER_PATTERN_RATIO=9.5/12,Fn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Tr{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Tr))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ps{constructor(t,i,o,u,h){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Ye(o,h)),this.resultPoints.push(new Ye(u,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof ps))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class Wt{constructor(){}static getRSSvalue(t,i,o){let u=0;for(let _ of t)u+=_;let h=0,d=0,g=t.length;for(let _=0;_<g-1;_++){let A;for(A=1,d|=1<<_;A<t[_];A++,d&=~(1<<_)){let R=Wt.combins(u-A-1,g-_-2);if(o&&d===0&&u-A-(g-_-1)>=g-_-1&&(R-=Wt.combins(u-A-(g-_),g-_-2)),g-_-1>1){let L=0;for(let V=u-A-(g-_-2);V>i;V--)L+=Wt.combins(u-A-V-1,g-_-3);R-=L*(g-1-_)}else u-A>i&&R--;h+=R}u-=A}return h}static combins(t,i){let o,u;t-i>i?(u=i,o=t-i):(u=t-i,o=i);let h=1,d=1;for(let g=t;g>o;g--)h*=g,d<=u&&(h/=d,d++);for(;d<=u;)h/=d,d++;return h}}class Ji{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let o=12*i,u=new se(o),h=0,g=t[0].getRightChar().getValue();for(let _=11;_>=0;--_)g&1<<_&&u.set(h),h++;for(let _=1;_<t.length;++_){let A=t[_],R=A.getLeftChar().getValue();for(let L=11;L>=0;--L)R&1<<L&&u.set(h),h++;if(A.getRightChar()!=null){let L=A.getRightChar().getValue();for(let V=11;V>=0;--V)L&1<<V&&u.set(h),h++}}return u}}class sr{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class gs{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class en extends gs{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===en.FNC1}}en.FNC1="$";class jr extends gs{constructor(t,i,o){super(t),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class In extends gs{constructor(t,i,o){if(super(t),i<0||i>10||o<0||o>10)throw new H;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===In.FNC1}isSecondDigitFNC1(){return this.secondDigit===In.FNC1}isAnyFNC1(){return this.firstDigit===In.FNC1||this.secondDigit===In.FNC1}}In.FNC1=10;class Ke{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new he;let i=t.substring(0,2);for(let h of Ke.TWO_DIGIT_DATA_LENGTH)if(h[0]===i)return h[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(2,h[2],t):Ke.processFixedAI(2,h[1],t);if(t.length<3)throw new he;let o=t.substring(0,3);for(let h of Ke.THREE_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(3,h[2],t):Ke.processFixedAI(3,h[1],t);for(let h of Ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(4,h[2],t):Ke.processFixedAI(4,h[1],t);if(t.length<4)throw new he;let u=t.substring(0,4);for(let h of Ke.FOUR_DIGIT_DATA_LENGTH)if(h[0]===u)return h[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(4,h[2],t):Ke.processFixedAI(4,h[1],t);throw new he}static processFixedAI(t,i,o){if(o.length<t)throw new he;let u=o.substring(0,t);if(o.length<t+i)throw new he;let h=o.substring(t,t+i),d=o.substring(t+i),g="("+u+")"+h,_=Ke.parseFieldsInGeneralPurpose(d);return _==null?g:g+_}static processVariableAI(t,i,o){let u=o.substring(0,t),h;o.length<t+i?h=o.length:h=t+i;let d=o.substring(t,h),g=o.substring(h),_="("+u+")"+d,A=Ke.parseFieldsInGeneralPurpose(g);return A==null?_:_+A}}Ke.VARIABLE_LENGTH=[],Ke.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ke.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ke.VARIABLE_LENGTH,20],["22",Ke.VARIABLE_LENGTH,29],["30",Ke.VARIABLE_LENGTH,8],["37",Ke.VARIABLE_LENGTH,8],["90",Ke.VARIABLE_LENGTH,30],["91",Ke.VARIABLE_LENGTH,30],["92",Ke.VARIABLE_LENGTH,30],["93",Ke.VARIABLE_LENGTH,30],["94",Ke.VARIABLE_LENGTH,30],["95",Ke.VARIABLE_LENGTH,30],["96",Ke.VARIABLE_LENGTH,30],["97",Ke.VARIABLE_LENGTH,3],["98",Ke.VARIABLE_LENGTH,30],["99",Ke.VARIABLE_LENGTH,30]],Ke.THREE_DIGIT_DATA_LENGTH=[["240",Ke.VARIABLE_LENGTH,30],["241",Ke.VARIABLE_LENGTH,30],["242",Ke.VARIABLE_LENGTH,6],["250",Ke.VARIABLE_LENGTH,30],["251",Ke.VARIABLE_LENGTH,30],["253",Ke.VARIABLE_LENGTH,17],["254",Ke.VARIABLE_LENGTH,20],["400",Ke.VARIABLE_LENGTH,30],["401",Ke.VARIABLE_LENGTH,30],["402",17],["403",Ke.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ke.VARIABLE_LENGTH,20],["421",Ke.VARIABLE_LENGTH,15],["422",3],["423",Ke.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ke.VARIABLE_LENGTH,15],["391",Ke.VARIABLE_LENGTH,18],["392",Ke.VARIABLE_LENGTH,15],["393",Ke.VARIABLE_LENGTH,18],["703",Ke.VARIABLE_LENGTH,30]],Ke.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ke.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ke.VARIABLE_LENGTH,20],["8003",Ke.VARIABLE_LENGTH,30],["8004",Ke.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ke.VARIABLE_LENGTH,30],["8008",Ke.VARIABLE_LENGTH,12],["8018",18],["8020",Ke.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ke.VARIABLE_LENGTH,70],["8200",Ke.VARIABLE_LENGTH,70]];class ms{constructor(t){this.buffer=new Y,this.information=t}decodeAllCodes(t,i){let o=i,u=null;do{let h=this.decodeGeneralPurposeField(o,u),d=Ke.parseFieldsInGeneralPurpose(h.getNewString());if(d!=null&&t.append(d),h.isRemaining()?u=""+h.getRemainingValue():u=null,o===h.getNewPosition())break;o=h.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(t,4);return h===0?new In(this.information.getSize(),In.FNC1,In.FNC1):new In(this.information.getSize(),h-1,In.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),o=(i-8)/11,u=(i-8)%11;return new In(t+7,o,u)}extractNumericValueFromBitArray(t,i){return ms.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,o){let u=0;for(let h=0;h<o;++h)t.get(i+h)&&(u|=1<<o-h-1);return u}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new jr(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new jr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(o!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new jr(this.current.getPosition(),this.buffer.toString()):i=new jr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new sr(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new jr(this.current.getPosition(),this.buffer.toString());return new sr(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new sr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new jr(this.current.getPosition(),this.buffer.toString());return new sr(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new sr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new jr(this.current.getPosition(),this.buffer.toString());return new sr(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new sr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<116)return!0;if(t+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(t,8);return u>=232&&u<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new en(t+5,en.FNC1);if(i>=5&&i<15)return new en(t+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<90)return new en(t+7,""+(o+1));if(o>=90&&o<116)return new en(t+7,""+(o+7));let u=this.extractNumericValueFromBitArray(t,8),h;switch(u){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new H}return new en(t+8,h)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,6);return o>=16&&o<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new en(t+5,en.FNC1);if(i>=5&&i<15)return new en(t+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(t,6);if(o>=32&&o<58)return new en(t+6,""+(o+33));let u;switch(o){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new un("Decoding invalid alphanumeric value: "+o)}return new en(t+6,u)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class ei{constructor(t){this.information=t,this.generalDecoder=new ms(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Sn extends ei{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let o=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,o)}encodeCompressedGtinWithoutAI(t,i,o){for(let u=0;u<4;++u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*u,10);h/100===0&&t.append("0"),h/10===0&&t.append("0"),t.append(h)}Sn.appendCheckDigit(t,o)}static appendCheckDigit(t,i){let o=0;for(let u=0;u<13;u++){let h=t.charAt(u+i).charCodeAt(0)-48;o+=u&1?h:3*h}o=10-o%10,o===10&&(o=0),t.append(o)}}Sn.GTIN_SIZE=40;class Pn extends Sn{constructor(t){super(t)}parseInformation(){let t=new Y;t.append("(01)");let i=t.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Pn.HEADER_SIZE,4);return t.append(o),this.encodeCompressedGtinWithoutAI(t,Pn.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,Pn.HEADER_SIZE+44)}}Pn.HEADER_SIZE=4;class zr extends ei{constructor(t){super(t)}parseInformation(){let t=new Y;return this.getGeneralDecoder().decodeAllCodes(t,zr.HEADER_SIZE)}}zr.HEADER_SIZE=5;class Ir extends Sn{constructor(t){super(t)}encodeCompressedWeight(t,i,o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(t,u);let h=this.checkWeight(u),d=1e5;for(let g=0;g<5;++g)h/d===0&&t.append("0"),d/=10;t.append(h)}}class yr extends Ir{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=yr.HEADER_SIZE+Ir.GTIN_SIZE+yr.WEIGHT_SIZE)throw new he;let t=new Y;return this.encodeCompressedGtin(t,yr.HEADER_SIZE),this.encodeCompressedWeight(t,yr.HEADER_SIZE+Ir.GTIN_SIZE,yr.WEIGHT_SIZE),t.toString()}}yr.HEADER_SIZE=5,yr.WEIGHT_SIZE=15;class xo extends yr{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class Xs extends yr{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Er extends Sn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Er.HEADER_SIZE+Sn.GTIN_SIZE)throw new he;let t=new Y;this.encodeCompressedGtin(t,Er.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Er.HEADER_SIZE+Sn.GTIN_SIZE,Er.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Er.HEADER_SIZE+Sn.GTIN_SIZE+Er.LAST_DIGIT_SIZE,null);return t.append(o.getNewString()),t.toString()}}Er.HEADER_SIZE=8,Er.LAST_DIGIT_SIZE=2;class Wn extends Sn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Wn.HEADER_SIZE+Sn.GTIN_SIZE)throw new he;let t=new Y;this.encodeCompressedGtin(t,Wn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Wn.HEADER_SIZE+Sn.GTIN_SIZE,Wn.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Wn.HEADER_SIZE+Sn.GTIN_SIZE+Wn.LAST_DIGIT_SIZE,Wn.FIRST_THREE_DIGITS_SIZE);o/100==0&&t.append("0"),o/10==0&&t.append("0"),t.append(o);let u=this.getGeneralDecoder().decodeGeneralPurposeField(Wn.HEADER_SIZE+Sn.GTIN_SIZE+Wn.LAST_DIGIT_SIZE+Wn.FIRST_THREE_DIGITS_SIZE,null);return t.append(u.getNewString()),t.toString()}}Wn.HEADER_SIZE=8,Wn.LAST_DIGIT_SIZE=2,Wn.FIRST_THREE_DIGITS_SIZE=10;class tn extends Ir{constructor(t,i,o){super(t),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=tn.HEADER_SIZE+tn.GTIN_SIZE+tn.WEIGHT_SIZE+tn.DATE_SIZE)throw new he;let t=new Y;return this.encodeCompressedGtin(t,tn.HEADER_SIZE),this.encodeCompressedWeight(t,tn.HEADER_SIZE+tn.GTIN_SIZE,tn.WEIGHT_SIZE),this.encodeCompressedDate(t,tn.HEADER_SIZE+tn.GTIN_SIZE+tn.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,tn.DATE_SIZE);if(o==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let u=o%32;o/=32;let h=o%12+1;o/=12;let d=o;d/10==0&&t.append("0"),t.append(d),h/10==0&&t.append("0"),t.append(h),u/10==0&&t.append("0"),t.append(u)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}tn.HEADER_SIZE=8,tn.WEIGHT_SIZE=20,tn.DATE_SIZE=16;function Go(M){try{if(M.get(1))return new Pn(M);if(!M.get(2))return new zr(M);switch(ms.extractNumericValueFromBitArray(M,1,4)){case 4:return new xo(M);case 5:return new Xs(M)}switch(ms.extractNumericValueFromBitArray(M,1,5)){case 12:return new Er(M);case 13:return new Wn(M)}switch(ms.extractNumericValueFromBitArray(M,1,7)){case 56:return new tn(M,"310","11");case 57:return new tn(M,"320","11");case 58:return new tn(M,"310","13");case 59:return new tn(M,"320","13");case 60:return new tn(M,"310","15");case 61:return new tn(M,"320","15");case 62:return new tn(M,"310","17");case 63:return new tn(M,"320","17")}}catch(t){throw console.log(t),new un("unknown decoder: "+M)}}class Lt{constructor(t,i,o,u){this.leftchar=t,this.rightchar=i,this.finderpattern=o,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof Lt?Lt.equalsOrNull(t.leftchar,i.leftchar)&&Lt.equalsOrNull(t.rightchar,i.rightchar)&&Lt.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:Lt.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class es{constructor(t,i,o){this.pairs=t,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof es?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let o;return t.forEach((u,h)=>{i.forEach(d=>{u.getLeftChar().getValue()===d.getLeftChar().getValue()&&u.getRightChar().getValue()===d.getRightChar().getValue()&&u.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(o=!0)})}),o}}class Ie extends Fn{constructor(t){super(...arguments),this.pairs=new Array(Ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,o){this.pairs.length=0,this.startFromEven=!1;try{return Ie.constructResult(this.decodeRow2pairs(t,i))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,Ie.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(h){if(h instanceof he){if(!this.pairs.length)throw new he;o=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(t,!1),u){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new he}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let o=i;o<this.rows.length;o++){let u=this.rows[o];this.pairs.length=0;for(let d of t)this.pairs.push(d.getPairs());if(this.pairs.push(u.getPairs()),!Ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(t);h.push(u);try{return this.checkRows(h,o+1)}catch(d){this.verbose&&console.log(d)}}throw new he}static isValidSequence(t){for(let i of Ie.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let o=!0;for(let u=0;u<t.length;u++)if(t[u].getFinderPattern().getValue()!=i[u]){o=!1;break}if(o)return!0}return!1}storeRow(t,i){let o=0,u=!1,h=!1;for(;o<this.rows.length;){let d=this.rows[o];if(d.getRowNumber()>t){h=d.isEquivalent(this.pairs);break}u=d.isEquivalent(this.pairs),o++}h||u||Ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new es(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let o of i)if(o.getPairs().length!==t.length){for(let u of o.getPairs())for(let h of t)if(Lt.equals(u,h))break}}static isPartialRow(t,i){for(let o of i){let u=!0;for(let h of t){let d=!1;for(let g of o.getPairs())if(h.equals(g)){d=!0;break}if(!d){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=Ji.buildBitArray(t),u=Go(i).parseInformation(),h=t[0].getFinderPattern().getResultPoints(),d=t[t.length-1].getFinderPattern().getResultPoints(),g=[h[0],h[1],d[0],d[1]];return new tt(u,null,null,g,Be.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),o=t.getRightChar();if(o==null)return!1;let u=o.getChecksumPortion(),h=2;for(let g=1;g<this.pairs.size();++g){let _=this.pairs.get(g);u+=_.getLeftChar().getChecksumPortion(),h++;let A=_.getRightChar();A!=null&&(u+=A.getChecksumPortion(),h++)}return u%=211,211*(h-4)+u==i.getValue()}static getNextSecondBar(t,i){let o;return t.get(i)?(o=t.getNextUnset(i),o=t.getNextSet(o)):(o=t.getNextSet(i),o=t.getNextUnset(o)),o}retrieveNextPair(t,i,o){let u=i.length%2==0;this.startFromEven&&(u=!u);let h,d=!0,g=-1;do this.findNextPair(t,i,g),h=this.parseFoundFinderPattern(t,o,u),h==null?g=Ie.getNextSecondBar(t,this.startEnd[0]):d=!1;while(d);let _=this.decodeDataCharacter(t,h,u,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new he;let A;try{A=this.decodeDataCharacter(t,h,u,!1)}catch(R){A=null,this.verbose&&console.log(R)}return new Lt(_,A,h,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,o){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=t.getSize(),d;o>=0?d=o:this.isEmptyPair(i)?d=0:d=i[i.length-1].getFinderPattern().getStartEnd()[1];let g=i.length%2!=0;this.startFromEven&&(g=!g);let _=!1;for(;d<h&&(_=!t.get(d),!!_);)d++;let A=0,R=d;for(let L=d;L<h;L++)if(t.get(L)!=_)u[A]++;else{if(A==3){if(g&&Ie.reverseCounters(u),Ie.isFinderPattern(u)){this.startEnd[0]=R,this.startEnd[1]=L;return}g&&Ie.reverseCounters(u),R+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,A--}else A++;u[A]=1,_=!_}throw new he}static reverseCounters(t){let i=t.length;for(let o=0;o<i/2;++o){let u=t[o];t[o]=t[i-o-1],t[i-o-1]=u}}parseFoundFinderPattern(t,i,o){let u,h,d;if(o){let A=this.startEnd[0]-1;for(;A>=0&&!t.get(A);)A--;A++,u=this.startEnd[0]-A,h=A,d=this.startEnd[1]}else h=this.startEnd[0],d=t.getNextUnset(this.startEnd[1]+1),u=d-this.startEnd[1];let g=this.getDecodeFinderCounters();$.arraycopy(g,0,g,1,g.length-1),g[0]=u;let _;try{_=this.parseFinderValue(g,Ie.FINDER_PATTERNS)}catch{return null}return new ps(_,[h,d],h,d,i)}decodeDataCharacter(t,i,o,u){let h=this.getDataCharacterCounters();for(let $t=0;$t<h.length;$t++)h[$t]=0;if(u)Ie.recordPatternInReverse(t,i.getStartEnd()[0],h);else{Ie.recordPattern(t,i.getStartEnd()[1],h);for(let $t=0,Dn=h.length-1;$t<Dn;$t++,Dn--){let xr=h[$t];h[$t]=h[Dn],h[Dn]=xr}}let d=17,g=At.sum(new Int32Array(h))/d,_=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(g-_)/_>.3)throw new he;let A=this.getOddCounts(),R=this.getEvenCounts(),L=this.getOddRoundingErrors(),V=this.getEvenRoundingErrors();for(let $t=0;$t<h.length;$t++){let Dn=1*h[$t]/g,xr=Dn+.5;if(xr<1){if(Dn<.3)throw new he;xr=1}else if(xr>8){if(Dn>8.7)throw new he;xr=8}let ks=$t/2;$t&1?(R[ks]=xr,V[ks]=Dn-xr):(A[ks]=xr,L[ks]=Dn-xr)}this.adjustOddEvenCounts(d);let Z=4*i.getValue()+(o?0:2)+(u?0:1)-1,ie=0,oe=0;for(let $t=A.length-1;$t>=0;$t--){if(Ie.isNotA1left(i,o,u)){let Dn=Ie.WEIGHTS[Z][2*$t];oe+=A[$t]*Dn}ie+=A[$t]}let ce=0;for(let $t=R.length-1;$t>=0;$t--)if(Ie.isNotA1left(i,o,u)){let Dn=Ie.WEIGHTS[Z][2*$t+1];ce+=R[$t]*Dn}let ye=oe+ce;if(ie&1||ie>13||ie<4)throw new he;let De=(13-ie)/2,Me=Ie.SYMBOL_WIDEST[De],Ne=9-Me,Rt=Wt.getRSSvalue(A,Me,!0),yt=Wt.getRSSvalue(R,Ne,!1),Rr=Ie.EVEN_TOTAL_SUBSET[De],Ci=Ie.GSUM[De],Kn=Rt*Rr+yt+Ci;return new Tr(Kn,ye)}static isNotA1left(t,i,o){return!(t.getValue()==0&&i&&o)}adjustOddEvenCounts(t){let i=At.sum(new Int32Array(this.getOddCounts())),o=At.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1;i>13?h=!0:i<4&&(u=!0);let d=!1,g=!1;o>13?g=!0:o<4&&(d=!0);let _=i+o-t,A=(i&1)==1,R=(o&1)==0;if(_==1)if(A){if(R)throw new he;h=!0}else{if(!R)throw new he;g=!0}else if(_==-1)if(A){if(R)throw new he;u=!0}else{if(!R)throw new he;d=!0}else if(_==0){if(A){if(!R)throw new he;i<o?(u=!0,g=!0):(h=!0,d=!0)}else if(R)throw new he}else throw new he;if(u){if(h)throw new he;Ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(g)throw new he;Ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&Ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ie.SYMBOL_WIDEST=[7,5,4,3,1],Ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ie.GSUM=[0,348,1388,2948,3988],Ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ie.FINDER_PAT_A=0,Ie.FINDER_PAT_B=1,Ie.FINDER_PAT_C=2,Ie.FINDER_PAT_D=3,Ie.FINDER_PAT_E=4,Ie.FINDER_PAT_F=5,Ie.FINDER_PATTERN_SEQUENCES=[[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_C,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_C],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F]],Ie.MAX_PAIRS=11;class ys extends Tr{constructor(t,i,o){super(t,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Bt extends Fn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,o){const u=this.decodePair(i,!1,t,o);Bt.addOrTally(this.possibleLeftPairs,u),i.reverse();let h=this.decodePair(i,!0,t,o);Bt.addOrTally(this.possibleRightPairs,h),i.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&Bt.checkChecksum(d,g))return Bt.constructResult(d,g)}throw new he}static addOrTally(t,i){if(i==null)return;let o=!1;for(let u of t)if(u.getValue()===i.getValue()){u.incrementCount(),o=!0;break}o||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let o=4537077*t.getValue()+i.getValue(),u=new String(o).toString(),h=new Y;for(let A=13-u.length;A>0;A--)h.append("0");h.append(u);let d=0;for(let A=0;A<13;A++){let R=h.charAt(A).charCodeAt(0)-48;d+=A&1?R:3*R}d=10-d%10,d===10&&(d=0),h.append(d.toString());let g=t.getFinderPattern().getResultPoints(),_=i.getFinderPattern().getResultPoints();return new tt(h.toString(),null,0,[g[0],g[1],_[0],_[1]],Be.RSS_14,new Date().getTime())}static checkChecksum(t,i){let o=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,u=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,o===u}decodePair(t,i,o,u){try{let h=this.findFinderPattern(t,i),d=this.parseFoundFinderPattern(t,o,i,h),g=u==null?null:u.get(Te.NEED_RESULT_POINT_CALLBACK);if(g!=null){let R=(h[0]+h[1])/2;i&&(R=t.getSize()-1-R),g.foundPossibleResultPoint(new Ye(R,o))}let _=this.decodeDataCharacter(t,d,!0),A=this.decodeDataCharacter(t,d,!1);return new ys(1597*_.getValue()+A.getValue(),_.getChecksumPortion()+4*A.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(t,i,o){let u=this.getDataCharacterCounters();for(let ce=0;ce<u.length;ce++)u[ce]=0;if(o)yn.recordPatternInReverse(t,i.getStartEnd()[0],u);else{yn.recordPattern(t,i.getStartEnd()[1]+1,u);for(let ce=0,ye=u.length-1;ce<ye;ce++,ye--){let De=u[ce];u[ce]=u[ye],u[ye]=De}}let h=o?16:15,d=At.sum(new Int32Array(u))/h,g=this.getOddCounts(),_=this.getEvenCounts(),A=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let ce=0;ce<u.length;ce++){let ye=u[ce]/d,De=Math.floor(ye+.5);De<1?De=1:De>8&&(De=8);let Me=Math.floor(ce/2);ce&1?(_[Me]=De,R[Me]=ye-De):(g[Me]=De,A[Me]=ye-De)}this.adjustOddEvenCounts(o,h);let L=0,V=0;for(let ce=g.length-1;ce>=0;ce--)V*=9,V+=g[ce],L+=g[ce];let Z=0,ie=0;for(let ce=_.length-1;ce>=0;ce--)Z*=9,Z+=_[ce],ie+=_[ce];let oe=V+3*Z;if(o){if(L&1||L>12||L<4)throw new he;let ce=(12-L)/2,ye=Bt.OUTSIDE_ODD_WIDEST[ce],De=9-ye,Me=Wt.getRSSvalue(g,ye,!1),Ne=Wt.getRSSvalue(_,De,!0),Rt=Bt.OUTSIDE_EVEN_TOTAL_SUBSET[ce],yt=Bt.OUTSIDE_GSUM[ce];return new Tr(Me*Rt+Ne+yt,oe)}else{if(ie&1||ie>10||ie<4)throw new he;let ce=(10-ie)/2,ye=Bt.INSIDE_ODD_WIDEST[ce],De=9-ye,Me=Wt.getRSSvalue(g,ye,!0),Ne=Wt.getRSSvalue(_,De,!1),Rt=Bt.INSIDE_ODD_TOTAL_SUBSET[ce],yt=Bt.INSIDE_GSUM[ce];return new Tr(Ne*Rt+Me+yt,oe)}}findFinderPattern(t,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=t.getSize(),h=!1,d=0;for(;d<u&&(h=!t.get(d),i!==h);)d++;let g=0,_=d;for(let A=d;A<u;A++)if(t.get(A)!==h)o[g]++;else{if(g===3){if(Fn.isFinderPattern(o))return[_,A];_+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,h=!h}throw new he}parseFoundFinderPattern(t,i,o,u){let h=t.get(u[0]),d=u[0]-1;for(;d>=0&&h!==t.get(d);)d--;d++;const g=u[0]-d,_=this.getDecodeFinderCounters(),A=new Int32Array(_.length);$.arraycopy(_,0,A,1,_.length-1),A[0]=g;const R=this.parseFinderValue(A,Bt.FINDER_PATTERNS);let L=d,V=u[1];return o&&(L=t.getSize()-1-L,V=t.getSize()-1-V),new ps(R,[d,u[1]],L,V,i)}adjustOddEvenCounts(t,i){let o=At.sum(new Int32Array(this.getOddCounts())),u=At.sum(new Int32Array(this.getEvenCounts())),h=!1,d=!1,g=!1,_=!1;t?(o>12?d=!0:o<4&&(h=!0),u>12?_=!0:u<4&&(g=!0)):(o>11?d=!0:o<5&&(h=!0),u>10?_=!0:u<4&&(g=!0));let A=o+u-i,R=(o&1)===(t?1:0),L=(u&1)===1;if(A===1)if(R){if(L)throw new he;d=!0}else{if(!L)throw new he;_=!0}else if(A===-1)if(R){if(L)throw new he;h=!0}else{if(!L)throw new he;g=!0}else if(A===0){if(R){if(!L)throw new he;o<u?(h=!0,_=!0):(d=!0,g=!0)}else if(L)throw new he}else throw new he;if(h){if(d)throw new he;Fn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&Fn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(_)throw new he;Fn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&Fn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Bt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Bt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Bt.OUTSIDE_GSUM=[0,161,961,2015,2715],Bt.INSIDE_GSUM=[0,336,1036,1516],Bt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Bt.INSIDE_ODD_WIDEST=[2,4,6,8],Bt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ki extends yn{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const o=t?t.get(Te.POSSIBLE_FORMATS):null,u=t&&t.get(Te.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(Be.EAN_13)||o.includes(Be.UPC_A)||o.includes(Be.EAN_8)||o.includes(Be.UPC_E))&&this.readers.push(new Zi(t)),o.includes(Be.CODE_39)&&this.readers.push(new En(u)),o.includes(Be.CODE_128)&&this.readers.push(new je),o.includes(Be.ITF)&&this.readers.push(new jt),o.includes(Be.RSS_14)&&this.readers.push(new Bt),o.includes(Be.RSS_EXPANDED)&&this.readers.push(new Ie(this.verbose))):(this.readers.push(new Zi(t)),this.readers.push(new En),this.readers.push(new Zi(t)),this.readers.push(new je),this.readers.push(new jt),this.readers.push(new Bt),this.readers.push(new Ie(this.verbose)))}decodeRow(t,i,o){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(t,i,o)}catch{}throw new he}reset(){this.readers.forEach(t=>t.reset())}}class Yo extends qe{constructor(t=500,i){super(new ki(i),t,i)}}class Nt{constructor(t,i,o){this.ecCodewords=t,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Et{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class bt{constructor(t,i,o,u,h,d){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=h,this.ecBlocks=d;let g=0;const _=d.getECCodewords(),A=d.getECBlocks();for(let R of A)g+=R.getCount()*(R.getDataCodewords()+_);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if(t&1||i&1)throw new H;for(let o of bt.VERSIONS)if(o.symbolSizeRows===t&&o.symbolSizeColumns===i)return o;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new bt(1,10,10,8,8,new Nt(5,new Et(1,3))),new bt(2,12,12,10,10,new Nt(7,new Et(1,5))),new bt(3,14,14,12,12,new Nt(10,new Et(1,8))),new bt(4,16,16,14,14,new Nt(12,new Et(1,12))),new bt(5,18,18,16,16,new Nt(14,new Et(1,18))),new bt(6,20,20,18,18,new Nt(18,new Et(1,22))),new bt(7,22,22,20,20,new Nt(20,new Et(1,30))),new bt(8,24,24,22,22,new Nt(24,new Et(1,36))),new bt(9,26,26,24,24,new Nt(28,new Et(1,44))),new bt(10,32,32,14,14,new Nt(36,new Et(1,62))),new bt(11,36,36,16,16,new Nt(42,new Et(1,86))),new bt(12,40,40,18,18,new Nt(48,new Et(1,114))),new bt(13,44,44,20,20,new Nt(56,new Et(1,144))),new bt(14,48,48,22,22,new Nt(68,new Et(1,174))),new bt(15,52,52,24,24,new Nt(42,new Et(2,102))),new bt(16,64,64,14,14,new Nt(56,new Et(2,140))),new bt(17,72,72,16,16,new Nt(36,new Et(4,92))),new bt(18,80,80,18,18,new Nt(48,new Et(4,114))),new bt(19,88,88,20,20,new Nt(56,new Et(4,144))),new bt(20,96,96,22,22,new Nt(68,new Et(4,174))),new bt(21,104,104,24,24,new Nt(56,new Et(6,136))),new bt(22,120,120,18,18,new Nt(68,new Et(6,175))),new bt(23,132,132,20,20,new Nt(62,new Et(8,163))),new bt(24,144,144,22,22,new Nt(62,new Et(8,156),new Et(2,155))),new bt(25,8,18,6,16,new Nt(7,new Et(1,5))),new bt(26,8,32,6,14,new Nt(11,new Et(1,10))),new bt(27,12,26,10,24,new Nt(14,new Et(1,16))),new bt(28,12,36,10,16,new Nt(18,new Et(1,22))),new bt(29,16,36,14,16,new Nt(24,new Et(1,32))),new bt(30,16,48,14,22,new Nt(28,new Et(1,49)))]}}bt.VERSIONS=bt.buildVersions();class or{constructor(t){const i=t.getHeight();if(i<8||i>144||i&1)throw new H;this.version=or.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new $e(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),o=t.getWidth();return bt.getVersionForDimensions(i,o)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,u=0;const h=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let g=!1,_=!1,A=!1,R=!1;do if(o===h&&u===0&&!g)t[i++]=this.readCorner1(h,d)&255,o-=2,u+=2,g=!0;else if(o===h-2&&u===0&&d&3&&!_)t[i++]=this.readCorner2(h,d)&255,o-=2,u+=2,_=!0;else if(o===h+4&&u===2&&!(d&7)&&!A)t[i++]=this.readCorner3(h,d)&255,o-=2,u+=2,A=!0;else if(o===h-2&&u===0&&(d&7)===4&&!R)t[i++]=this.readCorner4(h,d)&255,o-=2,u+=2,R=!0;else{do o<h&&u>=0&&!this.readMappingMatrix.get(u,o)&&(t[i++]=this.readUtah(o,u,h,d)&255),o-=2,u+=2;while(o>=0&&u<d);o+=1,u+=3;do o>=0&&u<d&&!this.readMappingMatrix.get(u,o)&&(t[i++]=this.readUtah(o,u,h,d)&255),o+=2,u-=2;while(o<h&&u>=0);o+=3,u+=1}while(o<h||u<d);if(i!==this.version.getTotalCodewords())throw new H;return t}readModule(t,i,o,u){return t<0&&(t+=o,i+=4-(o+4&7)),i<0&&(i+=u,t+=4-(u+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,o,u){let h=0;return this.readModule(t-2,i-2,o,u)&&(h|=1),h<<=1,this.readModule(t-2,i-1,o,u)&&(h|=1),h<<=1,this.readModule(t-1,i-2,o,u)&&(h|=1),h<<=1,this.readModule(t-1,i-1,o,u)&&(h|=1),h<<=1,this.readModule(t-1,i,o,u)&&(h|=1),h<<=1,this.readModule(t,i-2,o,u)&&(h|=1),h<<=1,this.readModule(t,i-1,o,u)&&(h|=1),h<<=1,this.readModule(t,i,o,u)&&(h|=1),h}readCorner1(t,i){let o=0;return this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,1,t,i)&&(o|=1),o<<=1,this.readModule(t-1,2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o<<=1,this.readModule(2,i-1,t,i)&&(o|=1),o<<=1,this.readModule(3,i-1,t,i)&&(o|=1),o}readCorner2(t,i){let o=0;return this.readModule(t-3,0,t,i)&&(o|=1),o<<=1,this.readModule(t-2,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(0,i-4,t,i)&&(o|=1),o<<=1,this.readModule(0,i-3,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o}readCorner3(t,i){let o=0;return this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,i-1,t,i)&&(o|=1),o<<=1,this.readModule(0,i-3,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-3,t,i)&&(o|=1),o<<=1,this.readModule(1,i-2,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o}readCorner4(t,i){let o=0;return this.readModule(t-3,0,t,i)&&(o|=1),o<<=1,this.readModule(t-2,0,t,i)&&(o|=1),o<<=1,this.readModule(t-1,0,t,i)&&(o|=1),o<<=1,this.readModule(0,i-2,t,i)&&(o|=1),o<<=1,this.readModule(0,i-1,t,i)&&(o|=1),o<<=1,this.readModule(1,i-1,t,i)&&(o|=1),o<<=1,this.readModule(2,i-1,t,i)&&(o|=1),o<<=1,this.readModule(3,i-1,t,i)&&(o|=1),o}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new N("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),d=i/u|0,g=o/h|0,_=d*u,A=g*h,R=new $e(A,_);for(let L=0;L<d;++L){const V=L*u;for(let Z=0;Z<g;++Z){const ie=Z*h;for(let oe=0;oe<u;++oe){const ce=L*(u+2)+1+oe,ye=V+oe;for(let De=0;De<h;++De){const Me=Z*(h+2)+1+De;if(t.get(Me,ce)){const Ne=ie+De;R.set(Ne,ye)}}}}}return R}}class Rs{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const o=i.getECBlocks();let u=0;const h=o.getECBlocks();for(let oe of h)u+=oe.getCount();const d=new Array(u);let g=0;for(let oe of h)for(let ce=0;ce<oe.getCount();ce++){const ye=oe.getDataCodewords(),De=o.getECCodewords()+ye;d[g++]=new Rs(ye,new Uint8Array(De))}const A=d[0].codewords.length-o.getECCodewords(),R=A-1;let L=0;for(let oe=0;oe<R;oe++)for(let ce=0;ce<g;ce++)d[ce].codewords[oe]=t[L++];const V=i.getVersionNumber()===24,Z=V?8:g;for(let oe=0;oe<Z;oe++)d[oe].codewords[A-1]=t[L++];const ie=d[0].codewords.length;for(let oe=A;oe<ie;oe++)for(let ce=0;ce<g;ce++){const ye=V?(ce+8)%g:ce,De=V&&ye>7?oe-1:oe;d[ye].codewords[De]=t[L++]}if(L!==t.length)throw new N;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ks{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new N(""+t);let i=0,o=this.bitOffset,u=this.byteOffset;const h=this.bytes;if(o>0){const d=8-o,g=t<d?t:d,_=d-g,A=255>>8-g<<_;i=(h[u]&A)>>_,t-=g,o+=g,o===8&&(o=0,u++)}if(t>0){for(;t>=8;)i=i<<8|h[u]&255,u++,t-=8;if(t>0){const d=8-t,g=255>>d<<d;i=i<<t|(h[u]&g)>>d,o+=t}}return this.bitOffset=o,this.byteOffset=u,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var bn;(function(M){M[M.PAD_ENCODE=0]="PAD_ENCODE",M[M.ASCII_ENCODE=1]="ASCII_ENCODE",M[M.C40_ENCODE=2]="C40_ENCODE",M[M.TEXT_ENCODE=3]="TEXT_ENCODE",M[M.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",M[M.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",M[M.BASE256_ENCODE=6]="BASE256_ENCODE"})(bn||(bn={}));class Hr{static decode(t){const i=new Ks(t),o=new Y,u=new Y,h=new Array;let d=bn.ASCII_ENCODE;do if(d===bn.ASCII_ENCODE)d=this.decodeAsciiSegment(i,o,u);else{switch(d){case bn.C40_ENCODE:this.decodeC40Segment(i,o);break;case bn.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case bn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case bn.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case bn.BASE256_ENCODE:this.decodeBase256Segment(i,o,h);break;default:throw new H}d=bn.ASCII_ENCODE}while(d!==bn.PAD_ENCODE&&i.available()>0);return u.length()>0&&o.append(u.toString()),new Mt(t,o.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(t,i,o){let u=!1;do{let h=t.readBits(8);if(h===0)throw new H;if(h<=128)return u&&(h+=128),i.append(String.fromCharCode(h-1)),bn.ASCII_ENCODE;if(h===129)return bn.PAD_ENCODE;if(h<=229){const d=h-130;d<10&&i.append("0"),i.append(""+d)}else switch(h){case 230:return bn.C40_ENCODE;case 231:return bn.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return bn.ANSIX12_ENCODE;case 239:return bn.TEXT_ENCODE;case 240:return bn.EDIFACT_ENCODE;case 241:break;default:if(h!==254||t.available()!==0)throw new H;break}}while(t.available()>0);return bn.ASCII_ENCODE}static decodeC40Segment(t,i){let o=!1;const u=[];let h=0;do{if(t.available()===8)return;const d=t.readBits(8);if(d===254)return;this.parseTwoBytes(d,t.readBits(8),u);for(let g=0;g<3;g++){const _=u[g];switch(h){case 0:if(_<3)h=_+1;else if(_<this.C40_BASIC_SET_CHARS.length){const A=this.C40_BASIC_SET_CHARS[_];o?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):i.append(A)}else throw new H;break;case 1:o?(i.append(String.fromCharCode(_+128)),o=!1):i.append(String.fromCharCode(_)),h=0;break;case 2:if(_<this.C40_SHIFT2_SET_CHARS.length){const A=this.C40_SHIFT2_SET_CHARS[_];o?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):i.append(A)}else switch(_){case 27:i.append("");break;case 30:o=!0;break;default:throw new H}h=0;break;case 3:o?(i.append(String.fromCharCode(_+224)),o=!1):i.append(String.fromCharCode(_+96)),h=0;break;default:throw new H}}}while(t.available()>0)}static decodeTextSegment(t,i){let o=!1,u=[],h=0;do{if(t.available()===8)return;const d=t.readBits(8);if(d===254)return;this.parseTwoBytes(d,t.readBits(8),u);for(let g=0;g<3;g++){const _=u[g];switch(h){case 0:if(_<3)h=_+1;else if(_<this.TEXT_BASIC_SET_CHARS.length){const A=this.TEXT_BASIC_SET_CHARS[_];o?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):i.append(A)}else throw new H;break;case 1:o?(i.append(String.fromCharCode(_+128)),o=!1):i.append(String.fromCharCode(_)),h=0;break;case 2:if(_<this.TEXT_SHIFT2_SET_CHARS.length){const A=this.TEXT_SHIFT2_SET_CHARS[_];o?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):i.append(A)}else switch(_){case 27:i.append("");break;case 30:o=!0;break;default:throw new H}h=0;break;case 3:if(_<this.TEXT_SHIFT3_SET_CHARS.length){const A=this.TEXT_SHIFT3_SET_CHARS[_];o?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):i.append(A),h=0}else throw new H;break;default:throw new H}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const o=[];do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let h=0;h<3;h++){const d=o[h];switch(d){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(d<14)i.append(String.fromCharCode(d+44));else if(d<40)i.append(String.fromCharCode(d+51));else throw new H;break}}}while(t.available()>0)}static parseTwoBytes(t,i,o){let u=(t<<8)+i-1,h=Math.floor(u/1600);o[0]=h,u-=h*1600,h=Math.floor(u/40),o[1]=h,o[2]=u-h*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let o=0;o<4;o++){let u=t.readBits(6);if(u===31){const h=8-t.getBitOffset();h!==8&&t.readBits(h);return}u&32||(u|=64),i.append(String.fromCharCode(u))}}while(t.available()>0)}static decodeBase256Segment(t,i,o){let u=1+t.getByteOffset();const h=this.unrandomize255State(t.readBits(8),u++);let d;if(h===0?d=t.available()/8|0:h<250?d=h:d=250*(h-249)+this.unrandomize255State(t.readBits(8),u++),d<0)throw new H;const g=new Uint8Array(d);for(let _=0;_<d;_++){if(t.available()<8)throw new H;g[_]=this.unrandomize255State(t.readBits(8),u++)}o.push(g);try{i.append(G.decode(g,ee.ISO88591))}catch(_){throw new un("Platform does not support required encoding: "+_.message)}}static unrandomize255State(t,i){const o=149*i%255+1,u=t-o;return u>=0?u:u+256}}Hr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Hr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Hr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Hr.TEXT_SHIFT2_SET_CHARS=Hr.C40_SHIFT2_SET_CHARS,Hr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Qs{constructor(){this.rsDecoder=new ur(vt.DATA_MATRIX_FIELD_256)}decode(t){const i=new or(t),o=i.getVersion(),u=i.readCodewords(),h=Rs.getDataBlocks(u,o);let d=0;for(let A of h)d+=A.getNumDataCodewords();const g=new Uint8Array(d),_=h.length;for(let A=0;A<_;A++){const R=h[A],L=R.getCodewords(),V=R.getNumDataCodewords();this.correctErrors(L,V);for(let Z=0;Z<V;Z++)g[Z*_+A]=L[Z]}return Hr.decode(g)}correctErrors(t,i){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-i)}catch{throw new U}for(let u=0;u<i;u++)t[u]=o[u]}}class qt{constructor(t){this.image=t,this.rectangleDetector=new zn(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new he;i=this.shiftToModuleCenter(i);const o=i[0],u=i[1],h=i[2],d=i[3];let g=this.transitionsBetween(o,d)+1,_=this.transitionsBetween(h,d)+1;(g&1)===1&&(g+=1),(_&1)===1&&(_+=1),4*g<7*_&&4*_<7*g&&(g=_=Math.max(g,_));let A=qt.sampleGrid(this.image,o,u,h,d,g,_);return new gi(A,[o,u,h,d])}static shiftPoint(t,i,o){let u=(i.getX()-t.getX())/(o+1),h=(i.getY()-t.getY())/(o+1);return new Ye(t.getX()+u,t.getY()+h)}static moveAway(t,i,o){let u=t.getX(),h=t.getY();return u<i?u-=1:u+=1,h<o?h-=1:h+=1,new Ye(u,h)}detectSolid1(t){let i=t[0],o=t[1],u=t[3],h=t[2],d=this.transitionsBetween(i,o),g=this.transitionsBetween(o,u),_=this.transitionsBetween(u,h),A=this.transitionsBetween(h,i),R=d,L=[h,i,o,u];return R>g&&(R=g,L[0]=i,L[1]=o,L[2]=u,L[3]=h),R>_&&(R=_,L[0]=o,L[1]=u,L[2]=h,L[3]=i),R>A&&(L[0]=u,L[1]=h,L[2]=i,L[3]=o),L}detectSolid2(t){let i=t[0],o=t[1],u=t[2],h=t[3],d=this.transitionsBetween(i,h),g=qt.shiftPoint(o,u,(d+1)*4),_=qt.shiftPoint(u,o,(d+1)*4),A=this.transitionsBetween(g,i),R=this.transitionsBetween(_,h);return A<R?(t[0]=i,t[1]=o,t[2]=u,t[3]=h):(t[0]=o,t[1]=u,t[2]=h,t[3]=i),t}correctTopRight(t){let i=t[0],o=t[1],u=t[2],h=t[3],d=this.transitionsBetween(i,h),g=this.transitionsBetween(o,h),_=qt.shiftPoint(i,o,(g+1)*4),A=qt.shiftPoint(u,o,(d+1)*4);d=this.transitionsBetween(_,h),g=this.transitionsBetween(A,h);let R=new Ye(h.getX()+(u.getX()-o.getX())/(d+1),h.getY()+(u.getY()-o.getY())/(d+1)),L=new Ye(h.getX()+(i.getX()-o.getX())/(g+1),h.getY()+(i.getY()-o.getY())/(g+1));if(!this.isValid(R))return this.isValid(L)?L:null;if(!this.isValid(L))return R;let V=this.transitionsBetween(_,R)+this.transitionsBetween(A,R),Z=this.transitionsBetween(_,L)+this.transitionsBetween(A,L);return V>Z?R:L}shiftToModuleCenter(t){let i=t[0],o=t[1],u=t[2],h=t[3],d=this.transitionsBetween(i,h)+1,g=this.transitionsBetween(u,h)+1,_=qt.shiftPoint(i,o,g*4),A=qt.shiftPoint(u,o,d*4);d=this.transitionsBetween(_,h)+1,g=this.transitionsBetween(A,h)+1,(d&1)===1&&(d+=1),(g&1)===1&&(g+=1);let R=(i.getX()+o.getX()+u.getX()+h.getX())/4,L=(i.getY()+o.getY()+u.getY()+h.getY())/4;i=qt.moveAway(i,R,L),o=qt.moveAway(o,R,L),u=qt.moveAway(u,R,L),h=qt.moveAway(h,R,L);let V,Z;return _=qt.shiftPoint(i,o,g*4),_=qt.shiftPoint(_,h,d*4),V=qt.shiftPoint(o,i,g*4),V=qt.shiftPoint(V,u,d*4),A=qt.shiftPoint(u,h,g*4),A=qt.shiftPoint(A,o,d*4),Z=qt.shiftPoint(h,u,g*4),Z=qt.shiftPoint(Z,i,d*4),[_,V,A,Z]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,o,u,h,d,g){return Hn.getInstance().sampleGrid(t,d,g,.5,.5,d-.5,.5,d-.5,g-.5,.5,g-.5,i.getX(),i.getY(),h.getX(),h.getY(),u.getX(),u.getY(),o.getX(),o.getY())}transitionsBetween(t,i){let o=Math.trunc(t.getX()),u=Math.trunc(t.getY()),h=Math.trunc(i.getX()),d=Math.trunc(i.getY()),g=Math.abs(d-u)>Math.abs(h-o);if(g){let oe=o;o=u,u=oe,oe=h,h=d,d=oe}let _=Math.abs(h-o),A=Math.abs(d-u),R=-_/2,L=u<d?1:-1,V=o<h?1:-1,Z=0,ie=this.image.get(g?u:o,g?o:u);for(let oe=o,ce=u;oe!==h;oe+=V){let ye=this.image.get(g?ce:oe,g?oe:ce);if(ye!==ie&&(Z++,ie=ye),R+=A,R>0){if(ce===d)break;ce+=L,R-=_}}return Z}}class Gn{constructor(){this.decoder=new Qs}decode(t,i=null){let o,u;if(i!=null&&i.has(Te.PURE_BARCODE)){const A=Gn.extractPureBits(t.getBlackMatrix());o=this.decoder.decode(A),u=Gn.NO_POINTS}else{const A=new qt(t.getBlackMatrix()).detect();o=this.decoder.decode(A.getBits()),u=A.getPoints()}const h=o.getRawBytes(),d=new tt(o.getText(),h,8*h.length,u,Be.DATA_MATRIX,$.currentTimeMillis()),g=o.getByteSegments();g!=null&&d.putMetadata(rt.BYTE_SEGMENTS,g);const _=o.getECLevel();return _!=null&&d.putMetadata(rt.ERROR_CORRECTION_LEVEL,_),d}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(i==null||o==null)throw new he;const u=this.moduleSize(i,t);let h=i[1];const d=o[1];let g=i[0];const A=(o[0]-g+1)/u,R=(d-h+1)/u;if(A<=0||R<=0)throw new he;const L=u/2;h+=L,g+=L;const V=new $e(A,R);for(let Z=0;Z<R;Z++){const ie=h+Z*u;for(let oe=0;oe<A;oe++)t.get(g+oe*u,ie)&&V.set(oe,Z)}return V}static moduleSize(t,i){const o=i.getWidth();let u=t[0];const h=t[1];for(;u<o&&i.get(u,h);)u++;if(u===o)throw new he;const d=u-t[0];if(d===0)throw new he;return d}}Gn.NO_POINTS=[];class Aa extends qe{constructor(t=500){super(new Gn,t)}}var Wr;(function(M){M[M.L=0]="L",M[M.M=1]="M",M[M.Q=2]="Q",M[M.H=3]="H"})(Wr||(Wr={}));class Tt{constructor(t,i,o){this.value=t,this.stringValue=i,this.bits=o,Tt.FOR_BITS.set(o,this),Tt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Tt.L;case"M":return Tt.M;case"Q":return Tt.Q;case"H":return Tt.H;default:throw new S(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Tt))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=Tt.FOR_BITS.size)throw new N;return Tt.FOR_BITS.get(t)}}Tt.FOR_BITS=new Map,Tt.FOR_VALUE=new Map,Tt.L=new Tt(Wr.L,"L",1),Tt.M=new Tt(Wr.M,"M",0),Tt.Q=new Tt(Wr.Q,"Q",3),Tt.H=new Tt(Wr.H,"H",2);class Nn{constructor(t){this.errorCorrectionLevel=Tt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return J.bitCount(t^i)}static decodeFormatInformation(t,i){const o=Nn.doDecodeFormatInformation(t,i);return o!==null?o:Nn.doDecodeFormatInformation(t^Nn.FORMAT_INFO_MASK_QR,i^Nn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let o=Number.MAX_SAFE_INTEGER,u=0;for(const h of Nn.FORMAT_INFO_DECODE_LOOKUP){const d=h[0];if(d===t||d===i)return new Nn(h[1]);let g=Nn.numBitsDiffering(t,d);g<o&&(u=h[1],o=g),t!==i&&(g=Nn.numBitsDiffering(i,d),g<o&&(u=h[1],o=g))}return o<=3?new Nn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Nn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Nn.FORMAT_INFO_MASK_QR=21522,Nn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class fe{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const o of i)t+=o.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class K{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class He{constructor(t,i,...o){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=o;let u=0;const h=o[0].getECCodewordsPerBlock(),d=o[0].getECBlocks();for(const g of d)u+=g.getCount()*(g.getDataCodewords()+h);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new H;try{return this.getVersionForNumber((t-17)/4)}catch{throw new H}}static getVersionForNumber(t){if(t<1||t>40)throw new N;return He.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,o=0;for(let u=0;u<He.VERSION_DECODE_INFO.length;u++){const h=He.VERSION_DECODE_INFO[u];if(h===t)return He.getVersionForNumber(u+7);const d=Nn.numBitsDiffering(t,h);d<i&&(o=u+7,i=d)}return i<=3?He.getVersionForNumber(o):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new $e(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const o=this.alignmentPatternCenters.length;for(let u=0;u<o;u++){const h=this.alignmentPatternCenters[u]-2;for(let d=0;d<o;d++)u===0&&(d===0||d===o-1)||u===o-1&&d===0||i.setRegion(this.alignmentPatternCenters[d]-2,h,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}He.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),He.VERSIONS=[new He(1,new Int32Array(0),new fe(7,new K(1,19)),new fe(10,new K(1,16)),new fe(13,new K(1,13)),new fe(17,new K(1,9))),new He(2,Int32Array.from([6,18]),new fe(10,new K(1,34)),new fe(16,new K(1,28)),new fe(22,new K(1,22)),new fe(28,new K(1,16))),new He(3,Int32Array.from([6,22]),new fe(15,new K(1,55)),new fe(26,new K(1,44)),new fe(18,new K(2,17)),new fe(22,new K(2,13))),new He(4,Int32Array.from([6,26]),new fe(20,new K(1,80)),new fe(18,new K(2,32)),new fe(26,new K(2,24)),new fe(16,new K(4,9))),new He(5,Int32Array.from([6,30]),new fe(26,new K(1,108)),new fe(24,new K(2,43)),new fe(18,new K(2,15),new K(2,16)),new fe(22,new K(2,11),new K(2,12))),new He(6,Int32Array.from([6,34]),new fe(18,new K(2,68)),new fe(16,new K(4,27)),new fe(24,new K(4,19)),new fe(28,new K(4,15))),new He(7,Int32Array.from([6,22,38]),new fe(20,new K(2,78)),new fe(18,new K(4,31)),new fe(18,new K(2,14),new K(4,15)),new fe(26,new K(4,13),new K(1,14))),new He(8,Int32Array.from([6,24,42]),new fe(24,new K(2,97)),new fe(22,new K(2,38),new K(2,39)),new fe(22,new K(4,18),new K(2,19)),new fe(26,new K(4,14),new K(2,15))),new He(9,Int32Array.from([6,26,46]),new fe(30,new K(2,116)),new fe(22,new K(3,36),new K(2,37)),new fe(20,new K(4,16),new K(4,17)),new fe(24,new K(4,12),new K(4,13))),new He(10,Int32Array.from([6,28,50]),new fe(18,new K(2,68),new K(2,69)),new fe(26,new K(4,43),new K(1,44)),new fe(24,new K(6,19),new K(2,20)),new fe(28,new K(6,15),new K(2,16))),new He(11,Int32Array.from([6,30,54]),new fe(20,new K(4,81)),new fe(30,new K(1,50),new K(4,51)),new fe(28,new K(4,22),new K(4,23)),new fe(24,new K(3,12),new K(8,13))),new He(12,Int32Array.from([6,32,58]),new fe(24,new K(2,92),new K(2,93)),new fe(22,new K(6,36),new K(2,37)),new fe(26,new K(4,20),new K(6,21)),new fe(28,new K(7,14),new K(4,15))),new He(13,Int32Array.from([6,34,62]),new fe(26,new K(4,107)),new fe(22,new K(8,37),new K(1,38)),new fe(24,new K(8,20),new K(4,21)),new fe(22,new K(12,11),new K(4,12))),new He(14,Int32Array.from([6,26,46,66]),new fe(30,new K(3,115),new K(1,116)),new fe(24,new K(4,40),new K(5,41)),new fe(20,new K(11,16),new K(5,17)),new fe(24,new K(11,12),new K(5,13))),new He(15,Int32Array.from([6,26,48,70]),new fe(22,new K(5,87),new K(1,88)),new fe(24,new K(5,41),new K(5,42)),new fe(30,new K(5,24),new K(7,25)),new fe(24,new K(11,12),new K(7,13))),new He(16,Int32Array.from([6,26,50,74]),new fe(24,new K(5,98),new K(1,99)),new fe(28,new K(7,45),new K(3,46)),new fe(24,new K(15,19),new K(2,20)),new fe(30,new K(3,15),new K(13,16))),new He(17,Int32Array.from([6,30,54,78]),new fe(28,new K(1,107),new K(5,108)),new fe(28,new K(10,46),new K(1,47)),new fe(28,new K(1,22),new K(15,23)),new fe(28,new K(2,14),new K(17,15))),new He(18,Int32Array.from([6,30,56,82]),new fe(30,new K(5,120),new K(1,121)),new fe(26,new K(9,43),new K(4,44)),new fe(28,new K(17,22),new K(1,23)),new fe(28,new K(2,14),new K(19,15))),new He(19,Int32Array.from([6,30,58,86]),new fe(28,new K(3,113),new K(4,114)),new fe(26,new K(3,44),new K(11,45)),new fe(26,new K(17,21),new K(4,22)),new fe(26,new K(9,13),new K(16,14))),new He(20,Int32Array.from([6,34,62,90]),new fe(28,new K(3,107),new K(5,108)),new fe(26,new K(3,41),new K(13,42)),new fe(30,new K(15,24),new K(5,25)),new fe(28,new K(15,15),new K(10,16))),new He(21,Int32Array.from([6,28,50,72,94]),new fe(28,new K(4,116),new K(4,117)),new fe(26,new K(17,42)),new fe(28,new K(17,22),new K(6,23)),new fe(30,new K(19,16),new K(6,17))),new He(22,Int32Array.from([6,26,50,74,98]),new fe(28,new K(2,111),new K(7,112)),new fe(28,new K(17,46)),new fe(30,new K(7,24),new K(16,25)),new fe(24,new K(34,13))),new He(23,Int32Array.from([6,30,54,78,102]),new fe(30,new K(4,121),new K(5,122)),new fe(28,new K(4,47),new K(14,48)),new fe(30,new K(11,24),new K(14,25)),new fe(30,new K(16,15),new K(14,16))),new He(24,Int32Array.from([6,28,54,80,106]),new fe(30,new K(6,117),new K(4,118)),new fe(28,new K(6,45),new K(14,46)),new fe(30,new K(11,24),new K(16,25)),new fe(30,new K(30,16),new K(2,17))),new He(25,Int32Array.from([6,32,58,84,110]),new fe(26,new K(8,106),new K(4,107)),new fe(28,new K(8,47),new K(13,48)),new fe(30,new K(7,24),new K(22,25)),new fe(30,new K(22,15),new K(13,16))),new He(26,Int32Array.from([6,30,58,86,114]),new fe(28,new K(10,114),new K(2,115)),new fe(28,new K(19,46),new K(4,47)),new fe(28,new K(28,22),new K(6,23)),new fe(30,new K(33,16),new K(4,17))),new He(27,Int32Array.from([6,34,62,90,118]),new fe(30,new K(8,122),new K(4,123)),new fe(28,new K(22,45),new K(3,46)),new fe(30,new K(8,23),new K(26,24)),new fe(30,new K(12,15),new K(28,16))),new He(28,Int32Array.from([6,26,50,74,98,122]),new fe(30,new K(3,117),new K(10,118)),new fe(28,new K(3,45),new K(23,46)),new fe(30,new K(4,24),new K(31,25)),new fe(30,new K(11,15),new K(31,16))),new He(29,Int32Array.from([6,30,54,78,102,126]),new fe(30,new K(7,116),new K(7,117)),new fe(28,new K(21,45),new K(7,46)),new fe(30,new K(1,23),new K(37,24)),new fe(30,new K(19,15),new K(26,16))),new He(30,Int32Array.from([6,26,52,78,104,130]),new fe(30,new K(5,115),new K(10,116)),new fe(28,new K(19,47),new K(10,48)),new fe(30,new K(15,24),new K(25,25)),new fe(30,new K(23,15),new K(25,16))),new He(31,Int32Array.from([6,30,56,82,108,134]),new fe(30,new K(13,115),new K(3,116)),new fe(28,new K(2,46),new K(29,47)),new fe(30,new K(42,24),new K(1,25)),new fe(30,new K(23,15),new K(28,16))),new He(32,Int32Array.from([6,34,60,86,112,138]),new fe(30,new K(17,115)),new fe(28,new K(10,46),new K(23,47)),new fe(30,new K(10,24),new K(35,25)),new fe(30,new K(19,15),new K(35,16))),new He(33,Int32Array.from([6,30,58,86,114,142]),new fe(30,new K(17,115),new K(1,116)),new fe(28,new K(14,46),new K(21,47)),new fe(30,new K(29,24),new K(19,25)),new fe(30,new K(11,15),new K(46,16))),new He(34,Int32Array.from([6,34,62,90,118,146]),new fe(30,new K(13,115),new K(6,116)),new fe(28,new K(14,46),new K(23,47)),new fe(30,new K(44,24),new K(7,25)),new fe(30,new K(59,16),new K(1,17))),new He(35,Int32Array.from([6,30,54,78,102,126,150]),new fe(30,new K(12,121),new K(7,122)),new fe(28,new K(12,47),new K(26,48)),new fe(30,new K(39,24),new K(14,25)),new fe(30,new K(22,15),new K(41,16))),new He(36,Int32Array.from([6,24,50,76,102,128,154]),new fe(30,new K(6,121),new K(14,122)),new fe(28,new K(6,47),new K(34,48)),new fe(30,new K(46,24),new K(10,25)),new fe(30,new K(2,15),new K(64,16))),new He(37,Int32Array.from([6,28,54,80,106,132,158]),new fe(30,new K(17,122),new K(4,123)),new fe(28,new K(29,46),new K(14,47)),new fe(30,new K(49,24),new K(10,25)),new fe(30,new K(24,15),new K(46,16))),new He(38,Int32Array.from([6,32,58,84,110,136,162]),new fe(30,new K(4,122),new K(18,123)),new fe(28,new K(13,46),new K(32,47)),new fe(30,new K(48,24),new K(14,25)),new fe(30,new K(42,15),new K(32,16))),new He(39,Int32Array.from([6,26,54,82,110,138,166]),new fe(30,new K(20,117),new K(4,118)),new fe(28,new K(40,47),new K(7,48)),new fe(30,new K(43,24),new K(22,25)),new fe(30,new K(10,15),new K(67,16))),new He(40,Int32Array.from([6,30,58,86,114,142,170]),new fe(30,new K(19,118),new K(6,119)),new fe(28,new K(18,47),new K(31,48)),new fe(30,new K(34,24),new K(34,25)),new fe(30,new K(20,15),new K(61,16)))];var cn;(function(M){M[M.DATA_MASK_000=0]="DATA_MASK_000",M[M.DATA_MASK_001=1]="DATA_MASK_001",M[M.DATA_MASK_010=2]="DATA_MASK_010",M[M.DATA_MASK_011=3]="DATA_MASK_011",M[M.DATA_MASK_100=4]="DATA_MASK_100",M[M.DATA_MASK_101=5]="DATA_MASK_101",M[M.DATA_MASK_110=6]="DATA_MASK_110",M[M.DATA_MASK_111=7]="DATA_MASK_111"})(cn||(cn={}));class mt{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let o=0;o<i;o++)for(let u=0;u<i;u++)this.isMasked(o,u)&&t.flip(u,o)}}mt.values=new Map([[cn.DATA_MASK_000,new mt(cn.DATA_MASK_000,(M,t)=>(M+t&1)===0)],[cn.DATA_MASK_001,new mt(cn.DATA_MASK_001,(M,t)=>(M&1)===0)],[cn.DATA_MASK_010,new mt(cn.DATA_MASK_010,(M,t)=>t%3===0)],[cn.DATA_MASK_011,new mt(cn.DATA_MASK_011,(M,t)=>(M+t)%3===0)],[cn.DATA_MASK_100,new mt(cn.DATA_MASK_100,(M,t)=>(Math.floor(M/2)+Math.floor(t/3)&1)===0)],[cn.DATA_MASK_101,new mt(cn.DATA_MASK_101,(M,t)=>M*t%6===0)],[cn.DATA_MASK_110,new mt(cn.DATA_MASK_110,(M,t)=>M*t%6<3)],[cn.DATA_MASK_111,new mt(cn.DATA_MASK_111,(M,t)=>(M+t+M*t%3&1)===0)]]);class Bi{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new H;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let h=0;h<6;h++)t=this.copyBit(h,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let h=5;h>=0;h--)t=this.copyBit(8,h,t);const i=this.bitMatrix.getHeight();let o=0;const u=i-7;for(let h=i-1;h>=u;h--)o=this.copyBit(8,h,o);for(let h=i-8;h<i;h++)o=this.copyBit(h,8,o);if(this.parsedFormatInfo=Nn.decodeFormatInformation(t,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return He.getVersionForNumber(i);let o=0;const u=t-11;for(let d=5;d>=0;d--)for(let g=t-9;g>=u;g--)o=this.copyBit(g,d,o);let h=He.decodeVersionInformation(o);if(h!==null&&h.getDimensionForVersion()===t)return this.parsedVersion=h,h;o=0;for(let d=5;d>=0;d--)for(let g=t-9;g>=u;g--)o=this.copyBit(d,g,o);if(h=He.decodeVersionInformation(o),h!==null&&h.getDimensionForVersion()===t)return this.parsedVersion=h,h;throw new H}copyBit(t,i,o){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?o<<1|1:o<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),o=mt.values.get(t.getDataMask()),u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u);const h=i.buildFunctionPattern();let d=!0;const g=new Uint8Array(i.getTotalCodewords());let _=0,A=0,R=0;for(let L=u-1;L>0;L-=2){L===6&&L--;for(let V=0;V<u;V++){const Z=d?u-1-V:V;for(let ie=0;ie<2;ie++)h.get(L-ie,Z)||(R++,A<<=1,this.bitMatrix.get(L-ie,Z)&&(A|=1),R===8&&(g[_++]=A,R=0,A=0))}d=!d}if(_!==i.getTotalCodewords())throw new H;return g}remask(){if(this.parsedFormatInfo===null)return;const t=mt.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,o=t.getWidth();i<o;i++)for(let u=i+1,h=t.getHeight();u<h;u++)t.get(i,u)!==t.get(u,i)&&(t.flip(u,i),t.flip(i,u))}}class Ei{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,o){if(t.length!==i.getTotalCodewords())throw new N;const u=i.getECBlocksForLevel(o);let h=0;const d=u.getECBlocks();for(const ie of d)h+=ie.getCount();const g=new Array(h);let _=0;for(const ie of d)for(let oe=0;oe<ie.getCount();oe++){const ce=ie.getDataCodewords(),ye=u.getECCodewordsPerBlock()+ce;g[_++]=new Ei(ce,new Uint8Array(ye))}const A=g[0].codewords.length;let R=g.length-1;for(;R>=0&&g[R].codewords.length!==A;)R--;R++;const L=A-u.getECCodewordsPerBlock();let V=0;for(let ie=0;ie<L;ie++)for(let oe=0;oe<_;oe++)g[oe].codewords[ie]=t[V++];for(let ie=R;ie<_;ie++)g[ie].codewords[L]=t[V++];const Z=g[0].codewords.length;for(let ie=L;ie<Z;ie++)for(let oe=0;oe<_;oe++){const ce=oe<R?ie:ie+1;g[oe].codewords[ce]=t[V++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Vn;(function(M){M[M.TERMINATOR=0]="TERMINATOR",M[M.NUMERIC=1]="NUMERIC",M[M.ALPHANUMERIC=2]="ALPHANUMERIC",M[M.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",M[M.BYTE=4]="BYTE",M[M.ECI=5]="ECI",M[M.KANJI=6]="KANJI",M[M.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",M[M.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",M[M.HANZI=9]="HANZI"})(Vn||(Vn={}));class at{constructor(t,i,o,u){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=u,at.FOR_BITS.set(u,this),at.FOR_VALUE.set(t,this)}static forBits(t){const i=at.FOR_BITS.get(t);if(i===void 0)throw new N;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof at))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}at.FOR_BITS=new Map,at.FOR_VALUE=new Map,at.TERMINATOR=new at(Vn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),at.NUMERIC=new at(Vn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),at.ALPHANUMERIC=new at(Vn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),at.STRUCTURED_APPEND=new at(Vn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),at.BYTE=new at(Vn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),at.ECI=new at(Vn.ECI,"ECI",Int32Array.from([0,0,0]),7),at.KANJI=new at(Vn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),at.FNC1_FIRST_POSITION=new at(Vn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),at.FNC1_SECOND_POSITION=new at(Vn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),at.HANZI=new at(Vn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class rn{static decode(t,i,o,u){const h=new Ks(t);let d=new Y;const g=new Array;let _=-1,A=-1;try{let R=null,L=!1,V;do{if(h.available()<4)V=at.TERMINATOR;else{const Z=h.readBits(4);V=at.forBits(Z)}switch(V){case at.TERMINATOR:break;case at.FNC1_FIRST_POSITION:case at.FNC1_SECOND_POSITION:L=!0;break;case at.STRUCTURED_APPEND:if(h.available()<16)throw new H;_=h.readBits(8),A=h.readBits(8);break;case at.ECI:const Z=rn.parseECIValue(h);if(R=D.getCharacterSetECIByValue(Z),R===null)throw new H;break;case at.HANZI:const ie=h.readBits(4),oe=h.readBits(V.getCharacterCountBits(i));ie===rn.GB2312_SUBSET&&rn.decodeHanziSegment(h,d,oe);break;default:const ce=h.readBits(V.getCharacterCountBits(i));switch(V){case at.NUMERIC:rn.decodeNumericSegment(h,d,ce);break;case at.ALPHANUMERIC:rn.decodeAlphanumericSegment(h,d,ce,L);break;case at.BYTE:rn.decodeByteSegment(h,d,ce,R,g,u);break;case at.KANJI:rn.decodeKanjiSegment(h,d,ce);break;default:throw new H}break}}while(V!==at.TERMINATOR)}catch{throw new H}return new Mt(t,d.toString(),g.length===0?null:g,o===null?null:o.toString(),_,A)}static decodeHanziSegment(t,i,o){if(o*13>t.available())throw new H;const u=new Uint8Array(2*o);let h=0;for(;o>0;){const d=t.readBits(13);let g=d/96<<8&4294967295|d%96;g<959?g+=41377:g+=42657,u[h]=g>>8&255,u[h+1]=g&255,h+=2,o--}try{i.append(G.decode(u,ee.GB2312))}catch(d){throw new H(d)}}static decodeKanjiSegment(t,i,o){if(o*13>t.available())throw new H;const u=new Uint8Array(2*o);let h=0;for(;o>0;){const d=t.readBits(13);let g=d/192<<8&4294967295|d%192;g<7936?g+=33088:g+=49472,u[h]=g>>8,u[h+1]=g,h+=2,o--}try{i.append(G.decode(u,ee.SHIFT_JIS))}catch(d){throw new H(d)}}static decodeByteSegment(t,i,o,u,h,d){if(8*o>t.available())throw new H;const g=new Uint8Array(o);for(let A=0;A<o;A++)g[A]=t.readBits(8);let _;u===null?_=ee.guessEncoding(g,d):_=u.getName();try{i.append(G.decode(g,_))}catch(A){throw new H(A)}h.push(g)}static toAlphaNumericChar(t){if(t>=rn.ALPHANUMERIC_CHARS.length)throw new H;return rn.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,o,u){const h=i.length();for(;o>1;){if(t.available()<11)throw new H;const d=t.readBits(11);i.append(rn.toAlphaNumericChar(Math.floor(d/45))),i.append(rn.toAlphaNumericChar(d%45)),o-=2}if(o===1){if(t.available()<6)throw new H;i.append(rn.toAlphaNumericChar(t.readBits(6)))}if(u)for(let d=h;d<i.length();d++)i.charAt(d)==="%"&&(d<i.length()-1&&i.charAt(d+1)==="%"?i.deleteCharAt(d+1):i.setCharAt(d,""))}static decodeNumericSegment(t,i,o){for(;o>=3;){if(t.available()<10)throw new H;const u=t.readBits(10);if(u>=1e3)throw new H;i.append(rn.toAlphaNumericChar(Math.floor(u/100))),i.append(rn.toAlphaNumericChar(Math.floor(u/10)%10)),i.append(rn.toAlphaNumericChar(u%10)),o-=3}if(o===2){if(t.available()<7)throw new H;const u=t.readBits(7);if(u>=100)throw new H;i.append(rn.toAlphaNumericChar(Math.floor(u/10))),i.append(rn.toAlphaNumericChar(u%10))}else if(o===1){if(t.available()<4)throw new H;const u=t.readBits(4);if(u>=10)throw new H;i.append(rn.toAlphaNumericChar(u))}}static parseECIValue(t){const i=t.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const o=t.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=t.readBits(16);return(i&31)<<16&4294967295|o}throw new H}}rn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",rn.GB2312_SUBSET=1;class vo{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class Ao{constructor(){this.rsDecoder=new ur(vt.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix($e.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const o=new Bi(t);let u=null;try{return this.decodeBitMatrixParser(o,i)}catch(h){u=h}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const h=this.decodeBitMatrixParser(o,i);return h.setOther(new vo(!0)),h}catch(h){throw u!==null?u:h}}decodeBitMatrixParser(t,i){const o=t.readVersion(),u=t.readFormatInformation().getErrorCorrectionLevel(),h=t.readCodewords(),d=Ei.getDataBlocks(h,o,u);let g=0;for(const R of d)g+=R.getNumDataCodewords();const _=new Uint8Array(g);let A=0;for(const R of d){const L=R.getCodewords(),V=R.getNumDataCodewords();this.correctErrors(L,V);for(let Z=0;Z<V;Z++)_[A++]=L[Z]}return rn.decode(_,o,u,i)}correctErrors(t,i){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-i)}catch{throw new U}for(let u=0;u<i;u++)t[u]=o[u]}}class ti extends Ye{constructor(t,i,o){super(t,i),this.estimatedModuleSize=o}aboutEquals(t,i,o){if(Math.abs(i-this.getY())<=t&&Math.abs(o-this.getX())<=t){const u=Math.abs(t-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(t,i,o){const u=(this.getX()+i)/2,h=(this.getY()+t)/2,d=(this.estimatedModuleSize+o)/2;return new ti(u,h,d)}}class Un{constructor(t,i,o,u,h,d,g){this.image=t,this.startX=i,this.startY=o,this.width=u,this.height=h,this.moduleSize=d,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,o=this.width,u=t+o,h=this.startY+i/2,d=new Int32Array(3),g=this.image;for(let _=0;_<i;_++){const A=h+(_&1?-Math.floor((_+1)/2):Math.floor((_+1)/2));d[0]=0,d[1]=0,d[2]=0;let R=t;for(;R<u&&!g.get(R,A);)R++;let L=0;for(;R<u;){if(g.get(R,A))if(L===1)d[1]++;else if(L===2){if(this.foundPatternCross(d)){const V=this.handlePossibleCenter(d,A,R);if(V!==null)return V}d[0]=d[2],d[1]=1,d[2]=0,L=1}else d[++L]++;else L===1&&L++,d[L]++;R++}if(this.foundPatternCross(d)){const V=this.handlePossibleCenter(d,A,u);if(V!==null)return V}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new he}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,o=i/2;for(let u=0;u<3;u++)if(Math.abs(i-t[u])>=o)return!1;return!0}crossCheckVertical(t,i,o,u){const h=this.image,d=h.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let _=t;for(;_>=0&&h.get(i,_)&&g[1]<=o;)g[1]++,_--;if(_<0||g[1]>o)return NaN;for(;_>=0&&!h.get(i,_)&&g[0]<=o;)g[0]++,_--;if(g[0]>o)return NaN;for(_=t+1;_<d&&h.get(i,_)&&g[1]<=o;)g[1]++,_++;if(_===d||g[1]>o)return NaN;for(;_<d&&!h.get(i,_)&&g[2]<=o;)g[2]++,_++;if(g[2]>o)return NaN;const A=g[0]+g[1]+g[2];return 5*Math.abs(A-u)>=2*u?NaN:this.foundPatternCross(g)?Un.centerFromEnd(g,_):NaN}handlePossibleCenter(t,i,o){const u=t[0]+t[1]+t[2],h=Un.centerFromEnd(t,o),d=this.crossCheckVertical(i,h,2*t[1],u);if(!isNaN(d)){const g=(t[0]+t[1]+t[2])/3;for(const A of this.possibleCenters)if(A.aboutEquals(g,d,h))return A.combineEstimate(d,h,g);const _=new ti(h,d,g);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null}}class wr extends Ye{constructor(t,i,o,u){super(t,i),this.estimatedModuleSize=o,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,o){if(Math.abs(i-this.getY())<=t&&Math.abs(o-this.getX())<=t){const u=Math.abs(t-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(t,i,o){const u=this.count+1,h=(this.count*this.getX()+i)/u,d=(this.count*this.getY()+t)/u,g=(this.count*this.estimatedModuleSize+o)/u;return new wr(h,d,g,u)}}class wi{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class hn{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(Te.TRY_HARDER)!==void 0,o=t!=null&&t.get(Te.PURE_BARCODE)!==void 0,u=this.image,h=u.getHeight(),d=u.getWidth();let g=Math.floor(3*h/(4*hn.MAX_MODULES));(g<hn.MIN_SKIP||i)&&(g=hn.MIN_SKIP);let _=!1;const A=new Int32Array(5);for(let L=g-1;L<h&&!_;L+=g){A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0;let V=0;for(let Z=0;Z<d;Z++)if(u.get(Z,L))(V&1)===1&&V++,A[V]++;else if(V&1)A[V]++;else if(V===4)if(hn.foundPatternCross(A)){if(this.handlePossibleCenter(A,L,Z,o)===!0)if(g=2,this.hasSkipped===!0)_=this.haveMultiplyConfirmedCenters();else{const oe=this.findRowSkip();oe>A[2]&&(L+=oe-A[2]-g,Z=d-1)}else{A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,V=3;continue}V=0,A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0}else A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,V=3;else A[++V]++;hn.foundPatternCross(A)&&this.handlePossibleCenter(A,L,d,o)===!0&&(g=A[0],this.hasSkipped&&(_=this.haveMultiplyConfirmedCenters()))}const R=this.selectBestPatterns();return Ye.orderBestPatterns(R),new wi(R)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let h=0;h<5;h++){const d=t[h];if(d===0)return!1;i+=d}if(i<7)return!1;const o=i/7,u=o/2;return Math.abs(o-t[0])<u&&Math.abs(o-t[1])<u&&Math.abs(3*o-t[2])<3*u&&Math.abs(o-t[3])<u&&Math.abs(o-t[4])<u}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,o,u){const h=this.getCrossCheckStateCount();let d=0;const g=this.image;for(;t>=d&&i>=d&&g.get(i-d,t-d);)h[2]++,d++;if(t<d||i<d)return!1;for(;t>=d&&i>=d&&!g.get(i-d,t-d)&&h[1]<=o;)h[1]++,d++;if(t<d||i<d||h[1]>o)return!1;for(;t>=d&&i>=d&&g.get(i-d,t-d)&&h[0]<=o;)h[0]++,d++;if(h[0]>o)return!1;const _=g.getHeight(),A=g.getWidth();for(d=1;t+d<_&&i+d<A&&g.get(i+d,t+d);)h[2]++,d++;if(t+d>=_||i+d>=A)return!1;for(;t+d<_&&i+d<A&&!g.get(i+d,t+d)&&h[3]<o;)h[3]++,d++;if(t+d>=_||i+d>=A||h[3]>=o)return!1;for(;t+d<_&&i+d<A&&g.get(i+d,t+d)&&h[4]<o;)h[4]++,d++;if(h[4]>=o)return!1;const R=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(R-u)<2*u&&hn.foundPatternCross(h)}crossCheckVertical(t,i,o,u){const h=this.image,d=h.getHeight(),g=this.getCrossCheckStateCount();let _=t;for(;_>=0&&h.get(i,_);)g[2]++,_--;if(_<0)return NaN;for(;_>=0&&!h.get(i,_)&&g[1]<=o;)g[1]++,_--;if(_<0||g[1]>o)return NaN;for(;_>=0&&h.get(i,_)&&g[0]<=o;)g[0]++,_--;if(g[0]>o)return NaN;for(_=t+1;_<d&&h.get(i,_);)g[2]++,_++;if(_===d)return NaN;for(;_<d&&!h.get(i,_)&&g[3]<o;)g[3]++,_++;if(_===d||g[3]>=o)return NaN;for(;_<d&&h.get(i,_)&&g[4]<o;)g[4]++,_++;if(g[4]>=o)return NaN;const A=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(A-u)>=2*u?NaN:hn.foundPatternCross(g)?hn.centerFromEnd(g,_):NaN}crossCheckHorizontal(t,i,o,u){const h=this.image,d=h.getWidth(),g=this.getCrossCheckStateCount();let _=t;for(;_>=0&&h.get(_,i);)g[2]++,_--;if(_<0)return NaN;for(;_>=0&&!h.get(_,i)&&g[1]<=o;)g[1]++,_--;if(_<0||g[1]>o)return NaN;for(;_>=0&&h.get(_,i)&&g[0]<=o;)g[0]++,_--;if(g[0]>o)return NaN;for(_=t+1;_<d&&h.get(_,i);)g[2]++,_++;if(_===d)return NaN;for(;_<d&&!h.get(_,i)&&g[3]<o;)g[3]++,_++;if(_===d||g[3]>=o)return NaN;for(;_<d&&h.get(_,i)&&g[4]<o;)g[4]++,_++;if(g[4]>=o)return NaN;const A=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(A-u)>=u?NaN:hn.foundPatternCross(g)?hn.centerFromEnd(g,_):NaN}handlePossibleCenter(t,i,o,u){const h=t[0]+t[1]+t[2]+t[3]+t[4];let d=hn.centerFromEnd(t,o),g=this.crossCheckVertical(i,Math.floor(d),t[2],h);if(!isNaN(g)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(g),t[2],h),!isNaN(d)&&(!u||this.crossCheckDiagonal(Math.floor(g),Math.floor(d),t[2],h)))){const _=h/7;let A=!1;const R=this.possibleCenters;for(let L=0,V=R.length;L<V;L++){const Z=R[L];if(Z.aboutEquals(_,g,d)){R[L]=Z.combineEstimate(g,d,_),A=!0;break}}if(!A){const L=new wr(d,g,_);R.push(L),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(L)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=hn.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const o=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=hn.CENTER_QUORUM&&(t++,i+=d.getEstimatedModuleSize());if(t<3)return!1;const u=i/o;let h=0;for(const d of this.possibleCenters)h+=Math.abs(d.getEstimatedModuleSize()-u);return h<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new he;const i=this.possibleCenters;let o;if(t>3){let u=0,h=0;for(const _ of this.possibleCenters){const A=_.getEstimatedModuleSize();u+=A,h+=A*A}o=u/t;let d=Math.sqrt(h/t-o*o);i.sort((_,A)=>{const R=Math.abs(A.getEstimatedModuleSize()-o),L=Math.abs(_.getEstimatedModuleSize()-o);return R<L?-1:R>L?1:0});const g=Math.max(.2*o,d);for(let _=0;_<i.length&&i.length>3;_++){const A=i[_];Math.abs(A.getEstimatedModuleSize()-o)>g&&(i.splice(_,1),_--)}}if(i.length>3){let u=0;for(const h of i)u+=h.getEstimatedModuleSize();o=u/i.length,i.sort((h,d)=>{if(d.getCount()===h.getCount()){const g=Math.abs(d.getEstimatedModuleSize()-o),_=Math.abs(h.getEstimatedModuleSize()-o);return g<_?1:g>_?-1:0}else return d.getCount()-h.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}hn.CENTER_QUORUM=2,hn.MIN_SKIP=3,hn.MAX_MODULES=57;class kn{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Te.NEED_RESULT_POINT_CALLBACK);const o=new hn(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(o)}processFinderPatternInfo(t){const i=t.getTopLeft(),o=t.getTopRight(),u=t.getBottomLeft(),h=this.calculateModuleSize(i,o,u);if(h<1)throw new he("No pattern found in proccess finder.");const d=kn.computeDimension(i,o,u,h),g=He.getProvisionalVersionForDimension(d),_=g.getDimensionForVersion()-7;let A=null;if(g.getAlignmentPatternCenters().length>0){const Z=o.getX()-i.getX()+u.getX(),ie=o.getY()-i.getY()+u.getY(),oe=1-3/_,ce=Math.floor(i.getX()+oe*(Z-i.getX())),ye=Math.floor(i.getY()+oe*(ie-i.getY()));for(let De=4;De<=16;De<<=1)try{A=this.findAlignmentInRegion(h,ce,ye,De);break}catch(Me){if(!(Me instanceof he))throw Me}}const R=kn.createTransform(i,o,u,A,d),L=kn.sampleGrid(this.image,R,d);let V;return A===null?V=[u,i,o]:V=[u,i,o,A],new gi(L,V)}static createTransform(t,i,o,u,h){const d=h-3.5;let g,_,A,R;return u!==null?(g=u.getX(),_=u.getY(),A=d-3,R=A):(g=i.getX()-t.getX()+o.getX(),_=i.getY()-t.getY()+o.getY(),A=d,R=d),Vt.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,A,R,3.5,d,t.getX(),t.getY(),i.getX(),i.getY(),g,_,o.getX(),o.getY())}static sampleGrid(t,i,o){return Hn.getInstance().sampleGridWithTransform(t,o,o,i)}static computeDimension(t,i,o,u){const h=At.round(Ye.distance(t,i)/u),d=At.round(Ye.distance(t,o)/u);let g=Math.floor((h+d)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new he("Dimensions could be not found.")}return g}calculateModuleSize(t,i,o){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,o))/2}calculateModuleSizeOneWay(t,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(o)?u/7:isNaN(u)?o/7:(o+u)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,o,u){let h=this.sizeOfBlackWhiteBlackRun(t,i,o,u),d=1,g=t-(o-t);g<0?(d=t/(t-g),g=0):g>=this.image.getWidth()&&(d=(this.image.getWidth()-1-t)/(g-t),g=this.image.getWidth()-1);let _=Math.floor(i-(u-i)*d);return d=1,_<0?(d=i/(i-_),_=0):_>=this.image.getHeight()&&(d=(this.image.getHeight()-1-i)/(_-i),_=this.image.getHeight()-1),g=Math.floor(t+(g-t)*d),h+=this.sizeOfBlackWhiteBlackRun(t,i,g,_),h-1}sizeOfBlackWhiteBlackRun(t,i,o,u){const h=Math.abs(u-i)>Math.abs(o-t);if(h){let Z=t;t=i,i=Z,Z=o,o=u,u=Z}const d=Math.abs(o-t),g=Math.abs(u-i);let _=-d/2;const A=t<o?1:-1,R=i<u?1:-1;let L=0;const V=o+A;for(let Z=t,ie=i;Z!==V;Z+=A){const oe=h?ie:Z,ce=h?Z:ie;if(L===1===this.image.get(oe,ce)){if(L===2)return At.distance(Z,ie,t,i);L++}if(_+=g,_>0){if(ie===u)break;ie+=R,_-=d}}return L===2?At.distance(o+A,u,t,i):NaN}findAlignmentInRegion(t,i,o,u){const h=Math.floor(u*t),d=Math.max(0,i-h),g=Math.min(this.image.getWidth()-1,i+h);if(g-d<t*3)throw new he("Alignment top exceeds estimated module size.");const _=Math.max(0,o-h),A=Math.min(this.image.getHeight()-1,o+h);if(A-_<t*3)throw new he("Alignment bottom exceeds estimated module size.");return new Un(this.image,d,_,g-d,A-_,t,this.resultPointCallback).find()}}class Jn{constructor(){this.decoder=new Ao}getDecoder(){return this.decoder}decode(t,i){let o,u;if(i!=null&&i.get(Te.PURE_BARCODE)!==void 0){const _=Jn.extractPureBits(t.getBlackMatrix());o=this.decoder.decodeBitMatrix(_,i),u=Jn.NO_POINTS}else{const _=new kn(t.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(_.getBits(),i),u=_.getPoints()}o.getOther()instanceof vo&&o.getOther().applyMirroredCorrection(u);const h=new tt(o.getText(),o.getRawBytes(),void 0,u,Be.QR_CODE,void 0),d=o.getByteSegments();d!==null&&h.putMetadata(rt.BYTE_SEGMENTS,d);const g=o.getECLevel();return g!==null&&h.putMetadata(rt.ERROR_CORRECTION_LEVEL,g),o.hasStructuredAppend()&&(h.putMetadata(rt.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),h.putMetadata(rt.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),h}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(i===null||o===null)throw new he;const u=this.moduleSize(i,t);let h=i[1],d=o[1],g=i[0],_=o[0];if(g>=_||h>=d)throw new he;if(d-h!==_-g&&(_=g+(d-h),_>=t.getWidth()))throw new he;const A=Math.round((_-g+1)/u),R=Math.round((d-h+1)/u);if(A<=0||R<=0)throw new he;if(R!==A)throw new he;const L=Math.floor(u/2);h+=L,g+=L;const V=g+Math.floor((A-1)*u)-_;if(V>0){if(V>L)throw new he;g-=V}const Z=h+Math.floor((R-1)*u)-d;if(Z>0){if(Z>L)throw new he;h-=Z}const ie=new $e(A,R);for(let oe=0;oe<R;oe++){const ce=h+Math.floor(oe*u);for(let ye=0;ye<A;ye++)t.get(g+Math.floor(ye*u),ce)&&ie.set(ye,oe)}return ie}static moduleSize(t,i){const o=i.getHeight(),u=i.getWidth();let h=t[0],d=t[1],g=!0,_=0;for(;h<u&&d<o;){if(g!==i.get(h,d)){if(++_===5)break;g=!g}h++,d++}if(h===u||d===o)throw new he;return(h-t[0])/7}}Jn.NO_POINTS=new Array;class ft{PDF417Common(){}static getBitCountSum(t){return At.sum(t)}static toIntArray(t){if(t==null||!t.length)return ft.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let o=0;for(const u of t)i[o++]=u;return i}static getCodeword(t){const i=Q.binarySearch(ft.SYMBOL_TABLE,t&262143);return i<0?-1:(ft.CODEWORD_TABLE[i]-1)%ft.NUMBER_OF_CODEWORDS}}ft.NUMBER_OF_CODEWORDS=929,ft.MAX_CODEWORDS_IN_BARCODE=ft.NUMBER_OF_CODEWORDS-1,ft.MIN_ROWS_IN_BARCODE=3,ft.MAX_ROWS_IN_BARCODE=90,ft.MODULES_IN_CODEWORD=17,ft.MODULES_IN_STOP_PATTERN=18,ft.BARS_IN_MODULE=8,ft.EMPTY_INT_ARRAY=new Int32Array([]),ft.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ft.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Fi{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ut{static detectMultiple(t,i,o){let u=t.getBlackMatrix(),h=ut.detect(o,u);return h.length||(u=u.clone(),u.rotate180(),h=ut.detect(o,u)),new Fi(u,h)}static detect(t,i){const o=new Array;let u=0,h=0,d=!1;for(;u<i.getHeight();){const g=ut.findVertices(i,u,h);if(g[0]==null&&g[3]==null){if(!d)break;d=!1,h=0;for(const _ of o)_[1]!=null&&(u=Math.trunc(Math.max(u,_[1].getY()))),_[3]!=null&&(u=Math.max(u,Math.trunc(_[3].getY())));u+=ut.ROW_STEP;continue}if(d=!0,o.push(g),!t)break;g[2]!=null?(h=Math.trunc(g[2].getX()),u=Math.trunc(g[2].getY())):(h=Math.trunc(g[4].getX()),u=Math.trunc(g[4].getY()))}return o}static findVertices(t,i,o){const u=t.getHeight(),h=t.getWidth(),d=new Array(8);return ut.copyToResult(d,ut.findRowsWithPattern(t,u,h,i,o,ut.START_PATTERN),ut.INDEXES_START_PATTERN),d[4]!=null&&(o=Math.trunc(d[4].getX()),i=Math.trunc(d[4].getY())),ut.copyToResult(d,ut.findRowsWithPattern(t,u,h,i,o,ut.STOP_PATTERN),ut.INDEXES_STOP_PATTERN),d}static copyToResult(t,i,o){for(let u=0;u<o.length;u++)t[o[u]]=i[u]}static findRowsWithPattern(t,i,o,u,h,d){const g=new Array(4);let _=!1;const A=new Int32Array(d.length);for(;u<i;u+=ut.ROW_STEP){let L=ut.findGuardPattern(t,h,u,o,!1,d,A);if(L!=null){for(;u>0;){const V=ut.findGuardPattern(t,h,--u,o,!1,d,A);if(V!=null)L=V;else{u++;break}}g[0]=new Ye(L[0],u),g[1]=new Ye(L[1],u),_=!0;break}}let R=u+1;if(_){let L=0,V=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;R<i;R++){const Z=ut.findGuardPattern(t,V[0],R,o,!1,d,A);if(Z!=null&&Math.abs(V[0]-Z[0])<ut.MAX_PATTERN_DRIFT&&Math.abs(V[1]-Z[1])<ut.MAX_PATTERN_DRIFT)V=Z,L=0;else{if(L>ut.SKIPPED_ROW_COUNT_MAX)break;L++}}R-=L+1,g[2]=new Ye(V[0],R),g[3]=new Ye(V[1],R)}return R-u<ut.BARCODE_MIN_HEIGHT&&Q.fill(g,null),g}static findGuardPattern(t,i,o,u,h,d,g){Q.fillWithin(g,0,g.length,0);let _=i,A=0;for(;t.get(_,o)&&_>0&&A++<ut.MAX_PIXEL_DRIFT;)_--;let R=_,L=0,V=d.length;for(let Z=h;R<u;R++)if(t.get(R,o)!==Z)g[L]++;else{if(L===V-1){if(ut.patternMatchVariance(g,d,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return new Int32Array([_,R]);_+=g[0]+g[1],$.arraycopy(g,2,g,0,L-1),g[L-1]=0,g[L]=0,L--}else L++;g[L]=1,Z=!Z}return L===V-1&&ut.patternMatchVariance(g,d,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE?new Int32Array([_,R-1]):null}static patternMatchVariance(t,i,o){let u=t.length,h=0,d=0;for(let A=0;A<u;A++)h+=t[A],d+=i[A];if(h<d)return 1/0;let g=h/d;o*=g;let _=0;for(let A=0;A<u;A++){let R=t[A],L=i[A]*g,V=R>L?R-L:L-R;if(V>o)return 1/0;_+=V}return _/h}}ut.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ut.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ut.MAX_AVG_VARIANCE=.42,ut.MAX_INDIVIDUAL_VARIANCE=.8,ut.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ut.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ut.MAX_PIXEL_DRIFT=3,ut.MAX_PATTERN_DRIFT=5,ut.SKIPPED_ROW_COUNT_MAX=25,ut.ROW_STEP=5,ut.BARCODE_MIN_HEIGHT=10;class Yn{constructor(t,i){if(i.length===0)throw new N;this.field=t;let o=i.length;if(o>1&&i[0]===0){let u=1;for(;u<o&&i[u]===0;)u++;u===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-u),$.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let u=0;for(let h of this.coefficients)u=this.field.add(u,h);return u}let i=this.coefficients[0],o=this.coefficients.length;for(let u=1;u<o;u++)i=this.field.add(this.field.multiply(t,i),this.coefficients[u]);return i}add(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,o=t.coefficients;if(i.length>o.length){let d=i;i=o,o=d}let u=new Int32Array(o.length),h=o.length-i.length;$.arraycopy(o,0,u,0,h);for(let d=h;d<o.length;d++)u[d]=this.field.add(i[d-h],o[d]);return new Yn(this.field,u)}subtract(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Yn?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Yn(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,u=t.coefficients,h=u.length,d=new Int32Array(o+h-1);for(let g=0;g<o;g++){let _=i[g];for(let A=0;A<h;A++)d[g+A]=this.field.add(d[g+A],this.field.multiply(_,u[A]))}return new Yn(this.field,d)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let o=0;o<t;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new Yn(this.field,i)}multiplyScalar(t){if(t===0)return new Yn(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let u=0;u<i;u++)o[u]=this.field.multiply(this.coefficients[u],t);return new Yn(this.field,o)}multiplyByMonomial(t,i){if(t<0)throw new N;if(i===0)return new Yn(this.field,new Int32Array([0]));let o=this.coefficients.length,u=new Int32Array(o+t);for(let h=0;h<o;h++)u[h]=this.field.multiply(this.coefficients[h],i);return new Yn(this.field,u)}toString(){let t=new Y;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(t.append(" - "),o=-o):t.length()>0&&t.append(" + "),(i===0||o!==1)&&t.append(o),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class Co{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new N;return this.logTable[t]}inverse(t){if(t===0)throw new Vr;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class _i extends Co{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let o=1;for(let u=0;u<t;u++)this.expTable[u]=o,o=o*i%t;for(let u=0;u<t-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new Yn(this,new Int32Array([0])),this.one=new Yn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new N;if(i===0)return this.zero;let o=new Int32Array(t+1);return o[0]=i,new Yn(this,o)}}_i.PDF417_GF=new _i(ft.NUMBER_OF_CODEWORDS,3);class ts{constructor(){this.field=_i.PDF417_GF}decode(t,i,o){let u=new Yn(this.field,t),h=new Int32Array(i),d=!1;for(let ie=i;ie>0;ie--){let oe=u.evaluateAt(this.field.exp(ie));h[i-ie]=oe,oe!==0&&(d=!0)}if(!d)return 0;let g=this.field.getOne();if(o!=null)for(const ie of o){let oe=this.field.exp(t.length-1-ie),ce=new Yn(this.field,new Int32Array([this.field.subtract(0,oe),1]));g=g.multiply(ce)}let _=new Yn(this.field,h),A=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),_,i),R=A[0],L=A[1],V=this.findErrorLocations(R),Z=this.findErrorMagnitudes(L,R,V);for(let ie=0;ie<V.length;ie++){let oe=t.length-1-this.field.log(V[ie]);if(oe<0)throw U.getChecksumInstance();t[oe]=this.field.subtract(t[oe],Z[ie])}return V.length}runEuclideanAlgorithm(t,i,o){if(t.getDegree()<i.getDegree()){let V=t;t=i,i=V}let u=t,h=i,d=this.field.getZero(),g=this.field.getOne();for(;h.getDegree()>=Math.round(o/2);){let V=u,Z=d;if(u=h,d=g,u.isZero())throw U.getChecksumInstance();h=V;let ie=this.field.getZero(),oe=u.getCoefficient(u.getDegree()),ce=this.field.inverse(oe);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){let ye=h.getDegree()-u.getDegree(),De=this.field.multiply(h.getCoefficient(h.getDegree()),ce);ie=ie.add(this.field.buildMonomial(ye,De)),h=h.subtract(u.multiplyByMonomial(ye,De))}g=ie.multiply(d).subtract(Z).negative()}let _=g.getCoefficient(0);if(_===0)throw U.getChecksumInstance();let A=this.field.inverse(_),R=g.multiply(A),L=h.multiply(A);return[R,L]}findErrorLocations(t){let i=t.getDegree(),o=new Int32Array(i),u=0;for(let h=1;h<this.field.getSize()&&u<i;h++)t.evaluateAt(h)===0&&(o[u]=this.field.inverse(h),u++);if(u!==i)throw U.getChecksumInstance();return o}findErrorMagnitudes(t,i,o){let u=i.getDegree(),h=new Int32Array(u);for(let A=1;A<=u;A++)h[u-A]=this.field.multiply(A,i.getCoefficient(A));let d=new Yn(this.field,h),g=o.length,_=new Int32Array(g);for(let A=0;A<g;A++){let R=this.field.inverse(o[A]),L=this.field.subtract(0,t.evaluateAt(R)),V=this.field.inverse(d.evaluateAt(R));_[A]=this.field.multiply(L,V)}return _}}class Vi{constructor(t,i,o,u,h){t instanceof Vi?this.constructor_2(t):this.constructor_1(t,i,o,u,h)}constructor_1(t,i,o,u,h){const d=i==null||o==null,g=u==null||h==null;if(d&&g)throw new he;d?(i=new Ye(0,u.getY()),o=new Ye(0,h.getY())):g&&(u=new Ye(t.getWidth()-1,i.getY()),h=new Ye(t.getWidth()-1,o.getY())),this.image=t,this.topLeft=i,this.bottomLeft=o,this.topRight=u,this.bottomRight=h,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(u.getX(),h.getX())),this.minY=Math.trunc(Math.min(i.getY(),u.getY())),this.maxY=Math.trunc(Math.max(o.getY(),h.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Vi(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,o){let u=this.topLeft,h=this.bottomLeft,d=this.topRight,g=this.bottomRight;if(t>0){let _=o?this.topLeft:this.topRight,A=Math.trunc(_.getY()-t);A<0&&(A=0);let R=new Ye(_.getX(),A);o?u=R:d=R}if(i>0){let _=o?this.bottomLeft:this.bottomRight,A=Math.trunc(_.getY()+i);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);let R=new Ye(_.getX(),A);o?h=R:g=R}return new Vi(this.image,u,h,d,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class xi{constructor(t,i,o,u){this.columnCount=t,this.errorCorrectionLevel=u,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class _r{constructor(){this.buffer=""}static form(t,i){let o=-1;function u(d,g,_,A,R,L){if(d==="%%")return"%";if(i[++o]===void 0)return;d=A?parseInt(A.substr(1)):void 0;let V=R?parseInt(R.substr(1)):void 0,Z;switch(L){case"s":Z=i[o];break;case"c":Z=i[o][0];break;case"f":Z=parseFloat(i[o]).toFixed(d);break;case"p":Z=parseFloat(i[o]).toPrecision(d);break;case"e":Z=parseFloat(i[o]).toExponential(d);break;case"x":Z=parseInt(i[o]).toString(V||16);break;case"d":Z=parseFloat(parseInt(i[o],V||10).toPrecision(d)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(V);let ie=parseInt(_),oe=_&&_[0]+""=="0"?"0":" ";for(;Z.length<ie;)Z=g!==void 0?Z+oe:oe+Z;return Z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(h,u)}format(t,...i){this.buffer+=_r.form(t,i)}toString(){return this.buffer}}class Gr{constructor(t){this.boundingBox=new Vi(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let o=1;o<Gr.MAX_NEARBY_DISTANCE;o++){let u=this.imageRowToCodewordIndex(t)-o;if(u>=0&&(i=this.codewords[u],i!=null)||(u=this.imageRowToCodewordIndex(t)+o,u<this.codewords.length&&(i=this.codewords[u],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new _r;let i=0;for(const o of this.codewords){if(o==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return t.toString()}}Gr.MAX_NEARBY_DISTANCE=5;class ni{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[o,u]of this.values.entries()){const h={getKey:()=>o,getValue:()=>u};h.getValue()>t?(t=h.getValue(),i=[],i.push(h.getKey())):h.getValue()===t&&i.push(h.getKey())}return ft.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class sn extends Gr{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),h=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=this.imageRowToCodewordIndex(Math.trunc(h.getY())),_=-1,A=1,R=0;for(let L=d;L<g;L++){if(i[L]==null)continue;let V=i[L],Z=V.getRowNumber()-_;if(Z===0)R++;else if(Z===1)A=Math.max(A,R),R=1,_=V.getRowNumber();else if(Z<0||V.getRowNumber()>=t.getRowCount()||Z>L)i[L]=null;else{let ie;A>2?ie=(A-2)*Z:ie=Z;let oe=ie>=L;for(let ce=1;ce<=ie&&!oe;ce++)oe=i[L-ce]!=null;oe?i[L]=null:(_=V.getRowNumber(),R=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let o of this.getCodewords())if(o!=null){let u=o.getRowNumber();if(u>=i.length)continue;i[u]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=this.getCodewords(),_=-1;for(let A=h;A<d;A++){if(g[A]==null)continue;let R=g[A];R.setRowNumberAsRowIndicatorColumn();let L=R.getRowNumber()-_;L===0||(L===1?_=R.getRowNumber():R.getRowNumber()>=t.getRowCount()?g[A]=null:_=R.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new ni,o=new ni,u=new ni,h=new ni;for(let g of t){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let _=g.getValue()%30,A=g.getRowNumber();switch(this._isLeft||(A+=2),A%3){case 0:o.setValue(_*3+1);break;case 1:h.setValue(_/3),u.setValue(_%3);break;case 2:i.setValue(_+1);break}}if(i.getValue().length===0||o.getValue().length===0||u.getValue().length===0||h.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+u.getValue()[0]<ft.MIN_ROWS_IN_BARCODE||o.getValue()[0]+u.getValue()[0]>ft.MAX_ROWS_IN_BARCODE)return null;let d=new xi(i.getValue()[0],o.getValue()[0],u.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(t,d),d}removeIncorrectCodewords(t,i){for(let o=0;o<t.length;o++){let u=t[o];if(t[o]==null)continue;let h=u.getValue()%30,d=u.getRowNumber();if(d>i.getRowCount()){t[o]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:h*3+1!==i.getRowCountUpperPart()&&(t[o]=null);break;case 1:(Math.trunc(h/3)!==i.getErrorCorrectionLevel()||h%3!==i.getRowCountLowerPart())&&(t[o]=null);break;case 2:h+1!==i.getColumnCount()&&(t[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Es{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=ft.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let u=0;u<o.length;u++)o[u]!=null&&(o[u].hasValidRowNumber()||this.adjustRowNumbers(i,u,o))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<t.length;o++)if(t[o]!=null&&i[o]!=null&&t[o].getRowNumber()===i[o].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let h=this.detectionResultColumns[u].getCodewords()[o];h!=null&&(h.setRowNumber(t[o].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let u=i[o].getRowNumber(),h=0;for(let d=this.barcodeColumnCount+1;d>0&&h<this.ADJUST_ROW_NUMBER_SKIP;d--){let g=this.detectionResultColumns[d].getCodewords()[o];g!=null&&(h=Es.adjustRowNumberIfValid(u,h,g),g.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let u=i[o].getRowNumber(),h=0;for(let d=1;d<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;d++){let g=this.detectionResultColumns[d].getCodewords()[o];g!=null&&(h=Es.adjustRowNumberIfValid(u,h,g),g.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(t)?(o.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,o){if(!this.detectionResultColumns[t-1])return;let u=o[i],h=this.detectionResultColumns[t-1].getCodewords(),d=h;this.detectionResultColumns[t+1]!=null&&(d=this.detectionResultColumns[t+1].getCodewords());let g=new Array(14);g[2]=h[i],g[3]=d[i],i>0&&(g[0]=o[i-1],g[4]=h[i-1],g[5]=d[i-1]),i>1&&(g[8]=o[i-2],g[10]=h[i-2],g[11]=d[i-2]),i<o.length-1&&(g[1]=o[i+1],g[6]=h[i+1],g[7]=d[i+1]),i<o.length-2&&(g[9]=o[i+2],g[12]=h[i+2],g[13]=d[i+2]);for(let _ of g)if(Es.adjustRowNumber(u,_))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new _r;for(let o=0;o<t.getCodewords().length;o++){i.format("CW %3d:",o);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){i.format("    |   ");continue}let h=this.detectionResultColumns[u].getCodewords()[o];if(h==null){i.format("    |   ");continue}i.format(" %3d|%3d",h.getRowNumber(),h.getValue())}i.format("%n")}return i.toString()}}class ns{constructor(t,i,o,u){this.rowNumber=ns.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==ns.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}ns.BARCODE_ROW_UNKNOWN=-1;class fn{static initialize(){for(let t=0;t<ft.SYMBOL_TABLE.length;t++){let i=ft.SYMBOL_TABLE[t],o=i&1;for(let u=0;u<ft.BARS_IN_MODULE;u++){let h=0;for(;(i&1)===o;)h+=1,i>>=1;o=i&1,fn.RATIOS_TABLE[t]||(fn.RATIOS_TABLE[t]=new Array(ft.BARS_IN_MODULE)),fn.RATIOS_TABLE[t][ft.BARS_IN_MODULE-u-1]=Math.fround(h/ft.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=fn.getDecodedCodewordValue(fn.sampleBitCounts(t));return i!==-1?i:fn.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=At.sum(t),o=new Int32Array(ft.BARS_IN_MODULE),u=0,h=0;for(let d=0;d<ft.MODULES_IN_CODEWORD;d++){let g=i/(2*ft.MODULES_IN_CODEWORD)+d*i/ft.MODULES_IN_CODEWORD;h+t[u]<=g&&(h+=t[u],u++),o[u]++}return o}static getDecodedCodewordValue(t){let i=fn.getBitValue(t);return ft.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let o=0;o<t.length;o++)for(let u=0;u<t[o];u++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=At.sum(t),o=new Array(ft.BARS_IN_MODULE);if(i>1)for(let d=0;d<o.length;d++)o[d]=Math.fround(t[d]/i);let u=Xe.MAX_VALUE,h=-1;this.bSymbolTableReady||fn.initialize();for(let d=0;d<fn.RATIOS_TABLE.length;d++){let g=0,_=fn.RATIOS_TABLE[d];for(let A=0;A<ft.BARS_IN_MODULE;A++){let R=Math.fround(_[A]-o[A]);if(g+=Math.fround(R*R),g>=u)break}g<u&&(u=g,h=ft.SYMBOL_TABLE[d])}return h}}fn.bSymbolTableReady=!1,fn.RATIOS_TABLE=new Array(ft.SYMBOL_TABLE.length).map(M=>new Array(ft.BARS_IN_MODULE));class Os{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class qs{static parseLong(t,i=void 0){return parseInt(t,i)}}class Sr extends w{}Sr.kind="NullPointerException";class Zs{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,o){if(t==null)throw new Sr;if(i<0||i>t.length||o<0||i+o>t.length||i+o<0)throw new q;if(o===0)return;for(let u=0;u<o;u++)this.write(t[i+u])}flush(){}close(){}}class br extends w{}class vi extends Zs{constructor(t=32){if(super(),this.count=0,t<0)throw new N("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let o=this.buf.length<<1;if(o-t<0&&(o=t),o<0){if(t<0)throw new br;o=J.MAX_VALUE}this.buf=Q.copyOfUint8Array(this.buf,o)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,o){if(i<0||i>t.length||o<0||i+o-t.length>0)throw new q;this.ensureCapacity(this.count+o),$.arraycopy(t,i,this.buf,this.count,o),this.count+=o}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Ft;(function(M){M[M.ALPHA=0]="ALPHA",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.PUNCT=3]="PUNCT",M[M.ALPHA_SHIFT=4]="ALPHA_SHIFT",M[M.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ft||(Ft={}));function Nr(){if(typeof window<"u")return window.BigInt||null;if(typeof Gc<"u")return Gc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ws;function wn(M){if(typeof ws>"u"&&(ws=Nr()),ws===null)throw new Error("BigInt is not supported!");return ws(M)}function Ai(){let M=[];M[0]=wn(1);let t=wn(900);M[1]=t;for(let i=2;i<16;i++)M[i]=M[i-1]*t;return M}class me{static decode(t,i){let o=new Y(""),u=D.ISO8859_1;o.enableDecoding(u);let h=1,d=t[h++],g=new Os;for(;h<t[0];){switch(d){case me.TEXT_COMPACTION_MODE_LATCH:h=me.textCompaction(t,h,o);break;case me.BYTE_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:h=me.byteCompaction(d,t,u,h,o);break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[h++]);break;case me.NUMERIC_COMPACTION_MODE_LATCH:h=me.numericCompaction(t,h,o);break;case me.ECI_CHARSET:D.getCharacterSetECIByValue(t[h++]);break;case me.ECI_GENERAL_PURPOSE:h+=2;break;case me.ECI_USER_DEFINED:h++;break;case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=me.decodeMacroBlock(t,h,g);break;case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:throw new H;default:h--,h=me.textCompaction(t,h,o);break}if(h<t.length)d=t[h++];else throw H.getFormatInstance()}if(o.length()===0)throw H.getFormatInstance();let _=new Mt(null,o.toString(),null,i);return _.setOther(g),_}static decodeMacroBlock(t,i,o){if(i+me.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw H.getFormatInstance();let u=new Int32Array(me.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<me.NUMBER_OF_SEQUENCE_CODEWORDS;g++,i++)u[g]=t[i];o.setSegmentIndex(J.parseInt(me.decodeBase900toBase10(u,me.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new Y;i=me.textCompaction(t,i,h),o.setFileId(h.toString());let d=-1;for(t[i]===me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=i+1);i<t[0];)switch(t[i]){case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case me.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Y;i=me.textCompaction(t,i+1,g),o.setFileName(g.toString());break;case me.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let _=new Y;i=me.textCompaction(t,i+1,_),o.setSender(_.toString());break;case me.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let A=new Y;i=me.textCompaction(t,i+1,A),o.setAddressee(A.toString());break;case me.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let R=new Y;i=me.numericCompaction(t,i+1,R),o.setSegmentCount(J.parseInt(R.toString()));break;case me.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let L=new Y;i=me.numericCompaction(t,i+1,L),o.setTimestamp(qs.parseLong(L.toString()));break;case me.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let V=new Y;i=me.numericCompaction(t,i+1,V),o.setChecksum(J.parseInt(V.toString()));break;case me.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Z=new Y;i=me.numericCompaction(t,i+1,Z),o.setFileSize(qs.parseLong(Z.toString()));break;default:throw H.getFormatInstance()}break;case me.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(d!==-1){let g=i-d;o.isLastSegment()&&g--,o.setOptionalData(Q.copyOfRange(t,d,d+g))}return i}static textCompaction(t,i,o){let u=new Int32Array((t[0]-i)*2),h=new Int32Array((t[0]-i)*2),d=0,g=!1;for(;i<t[0]&&!g;){let _=t[i++];if(_<me.TEXT_COMPACTION_MODE_LATCH)u[d]=_/30,u[d+1]=_%30,d+=2;else switch(_){case me.TEXT_COMPACTION_MODE_LATCH:u[d++]=me.TEXT_COMPACTION_MODE_LATCH;break;case me.BYTE_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.NUMERIC_COMPACTION_MODE_LATCH:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:i--,g=!0;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[d]=me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,_=t[i++],h[d]=_,d++;break}}return me.decodeTextCompaction(u,h,d,o),i}static decodeTextCompaction(t,i,o,u){let h=Ft.ALPHA,d=Ft.ALPHA,g=0;for(;g<o;){let _=t[g],A="";switch(h){case Ft.ALPHA:if(_<26)A=String.fromCharCode(65+_);else switch(_){case 26:A=" ";break;case me.LL:h=Ft.LOWER;break;case me.ML:h=Ft.MIXED;break;case me.PS:d=h,h=Ft.PUNCT_SHIFT;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case me.TEXT_COMPACTION_MODE_LATCH:h=Ft.ALPHA;break}break;case Ft.LOWER:if(_<26)A=String.fromCharCode(97+_);else switch(_){case 26:A=" ";break;case me.AS:d=h,h=Ft.ALPHA_SHIFT;break;case me.ML:h=Ft.MIXED;break;case me.PS:d=h,h=Ft.PUNCT_SHIFT;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case me.TEXT_COMPACTION_MODE_LATCH:h=Ft.ALPHA;break}break;case Ft.MIXED:if(_<me.PL)A=me.MIXED_CHARS[_];else switch(_){case me.PL:h=Ft.PUNCT;break;case 26:A=" ";break;case me.LL:h=Ft.LOWER;break;case me.AL:h=Ft.ALPHA;break;case me.PS:d=h,h=Ft.PUNCT_SHIFT;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case me.TEXT_COMPACTION_MODE_LATCH:h=Ft.ALPHA;break}break;case Ft.PUNCT:if(_<me.PAL)A=me.PUNCT_CHARS[_];else switch(_){case me.PAL:h=Ft.ALPHA;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case me.TEXT_COMPACTION_MODE_LATCH:h=Ft.ALPHA;break}break;case Ft.ALPHA_SHIFT:if(h=d,_<26)A=String.fromCharCode(65+_);else switch(_){case 26:A=" ";break;case me.TEXT_COMPACTION_MODE_LATCH:h=Ft.ALPHA;break}break;case Ft.PUNCT_SHIFT:if(h=d,_<me.PAL)A=me.PUNCT_CHARS[_];else switch(_){case me.PAL:h=Ft.ALPHA;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case me.TEXT_COMPACTION_MODE_LATCH:h=Ft.ALPHA;break}break}A!==""&&u.append(A),g++}}static byteCompaction(t,i,o,u,h){let d=new vi,g=0,_=0,A=!1;switch(t){case me.BYTE_COMPACTION_MODE_LATCH:let R=new Int32Array(6),L=i[u++];for(;u<i[0]&&!A;)switch(R[g++]=L,_=900*_+L,L=i[u++],L){case me.TEXT_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH:case me.NUMERIC_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:u--,A=!0;break;default:if(g%5===0&&g>0){for(let V=0;V<6;++V)d.write(Number(wn(_)>>wn(8*(5-V))));_=0,g=0}break}u===i[0]&&L<me.TEXT_COMPACTION_MODE_LATCH&&(R[g++]=L);for(let V=0;V<g;V++)d.write(R[V]);break;case me.BYTE_COMPACTION_MODE_LATCH_6:for(;u<i[0]&&!A;){let V=i[u++];if(V<me.TEXT_COMPACTION_MODE_LATCH)g++,_=900*_+V;else switch(V){case me.TEXT_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH:case me.NUMERIC_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:u--,A=!0;break}if(g%5===0&&g>0){for(let Z=0;Z<6;++Z)d.write(Number(wn(_)>>wn(8*(5-Z))));_=0,g=0}}break}return h.append(G.decode(d.toByteArray(),o)),u}static numericCompaction(t,i,o){let u=0,h=!1,d=new Int32Array(me.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!h;){let g=t[i++];if(i===t[0]&&(h=!0),g<me.TEXT_COMPACTION_MODE_LATCH)d[u]=g,u++;else switch(g){case me.TEXT_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:i--,h=!0;break}(u%me.MAX_NUMERIC_CODEWORDS===0||g===me.NUMERIC_COMPACTION_MODE_LATCH||h)&&u>0&&(o.append(me.decodeBase900toBase10(d,u)),u=0)}return i}static decodeBase900toBase10(t,i){let o=wn(0);for(let h=0;h<i;h++)o+=me.EXP900[i-h-1]*wn(t[h]);let u=o.toString();if(u.charAt(0)!=="1")throw new H;return u.substring(1)}}me.TEXT_COMPACTION_MODE_LATCH=900,me.BYTE_COMPACTION_MODE_LATCH=901,me.NUMERIC_COMPACTION_MODE_LATCH=902,me.BYTE_COMPACTION_MODE_LATCH_6=924,me.ECI_USER_DEFINED=925,me.ECI_GENERAL_PURPOSE=926,me.ECI_CHARSET=927,me.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,me.MACRO_PDF417_TERMINATOR=922,me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,me.MAX_NUMERIC_CODEWORDS=15,me.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,me.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,me.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,me.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,me.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,me.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,me.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,me.PL=25,me.LL=27,me.AS=27,me.ML=28,me.AL=28,me.PS=29,me.PAL=29,me.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,me.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",me.EXP900=Nr()?Ai():[],me.NUMBER_OF_SEQUENCE_CODEWORDS=2;class dt{constructor(){}static decode(t,i,o,u,h,d,g){let _=new Vi(t,i,o,u,h),A=null,R=null,L;for(let ie=!0;;ie=!1){if(i!=null&&(A=dt.getRowIndicatorColumn(t,_,i,!0,d,g)),u!=null&&(R=dt.getRowIndicatorColumn(t,_,u,!1,d,g)),L=dt.merge(A,R),L==null)throw he.getNotFoundInstance();let oe=L.getBoundingBox();if(ie&&oe!=null&&(oe.getMinY()<_.getMinY()||oe.getMaxY()>_.getMaxY()))_=oe;else break}L.setBoundingBox(_);let V=L.getBarcodeColumnCount()+1;L.setDetectionResultColumn(0,A),L.setDetectionResultColumn(V,R);let Z=A!=null;for(let ie=1;ie<=V;ie++){let oe=Z?ie:V-ie;if(L.getDetectionResultColumn(oe)!==void 0)continue;let ce;oe===0||oe===V?ce=new sn(_,oe===0):ce=new Gr(_),L.setDetectionResultColumn(oe,ce);let ye=-1,De=ye;for(let Me=_.getMinY();Me<=_.getMaxY();Me++){if(ye=dt.getStartColumn(L,oe,Me,Z),ye<0||ye>_.getMaxX()){if(De===-1)continue;ye=De}let Ne=dt.detectCodeword(t,_.getMinX(),_.getMaxX(),Z,ye,Me,d,g);Ne!=null&&(ce.setCodeword(Me,Ne),De=ye,d=Math.min(d,Ne.getWidth()),g=Math.max(g,Ne.getWidth()))}}return dt.createDecoderResult(L)}static merge(t,i){if(t==null&&i==null)return null;let o=dt.getBarcodeMetadata(t,i);if(o==null)return null;let u=Vi.merge(dt.adjustBoundingBox(t),dt.adjustBoundingBox(i));return new Es(o,u)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let o=dt.getMax(i),u=0;for(let g of i)if(u+=o-g,g>0)break;let h=t.getCodewords();for(let g=0;u>0&&h[g]==null;g++)u--;let d=0;for(let g=i.length-1;g>=0&&(d+=o-i[g],!(i[g]>0));g--);for(let g=h.length-1;d>0&&h[g]==null;g--)d--;return t.getBoundingBox().addMissingRows(u,d,t.isLeft())}static getMax(t){let i=-1;for(let o of t)i=Math.max(i,o);return i}static getBarcodeMetadata(t,i){let o;if(t==null||(o=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let u;return i==null||(u=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==u.getColumnCount()&&o.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&o.getRowCount()!==u.getRowCount()?null:o}static getRowIndicatorColumn(t,i,o,u,h,d){let g=new sn(i,u);for(let _=0;_<2;_++){let A=_===0?1:-1,R=Math.trunc(Math.trunc(o.getX()));for(let L=Math.trunc(Math.trunc(o.getY()));L<=i.getMaxY()&&L>=i.getMinY();L+=A){let V=dt.detectCodeword(t,0,t.getWidth(),u,R,L,h,d);V!=null&&(g.setCodeword(L,V),u?R=V.getStartX():R=V.getEndX())}}return g}static adjustCodewordCount(t,i){let o=i[0][1],u=o.getValue(),h=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-dt.getNumberOfECCodeWords(t.getBarcodeECLevel());if(u.length===0){if(h<1||h>ft.MAX_CODEWORDS_IN_BARCODE)throw he.getNotFoundInstance();o.setValue(h)}else u[0]!==h&&o.setValue(h)}static createDecoderResult(t){let i=dt.createBarcodeMatrix(t);dt.adjustCodewordCount(t,i);let o=new Array,u=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),h=[],d=new Array;for(let _=0;_<t.getBarcodeRowCount();_++)for(let A=0;A<t.getBarcodeColumnCount();A++){let R=i[_][A+1].getValue(),L=_*t.getBarcodeColumnCount()+A;R.length===0?o.push(L):R.length===1?u[L]=R[0]:(d.push(L),h.push(R))}let g=new Array(h.length);for(let _=0;_<g.length;_++)g[_]=h[_];return dt.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),u,ft.toIntArray(o),ft.toIntArray(d),g)}static createDecoderResultFromAmbiguousValues(t,i,o,u,h){let d=new Int32Array(u.length),g=100;for(;g-- >0;){for(let _=0;_<d.length;_++)i[u[_]]=h[_][d[_]];try{return dt.decodeCodewords(i,t,o)}catch(_){if(!(_ instanceof U))throw _}if(d.length===0)throw U.getChecksumInstance();for(let _=0;_<d.length;_++)if(d[_]<h[_].length-1){d[_]++;break}else if(d[_]=0,_===d.length-1)throw U.getChecksumInstance()}throw U.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let u=0;u<i.length;u++)for(let h=0;h<i[u].length;h++)i[u][h]=new ni;let o=0;for(let u of t.getDetectionResultColumns()){if(u!=null){for(let h of u.getCodewords())if(h!=null){let d=h.getRowNumber();if(d>=0){if(d>=i.length)continue;i[d][o].setValue(h.getValue())}}}o++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,o,u){let h=u?1:-1,d=null;if(dt.isValidBarcodeColumn(t,i-h)&&(d=t.getDetectionResultColumn(i-h).getCodeword(o)),d!=null)return u?d.getEndX():d.getStartX();if(d=t.getDetectionResultColumn(i).getCodewordNearby(o),d!=null)return u?d.getStartX():d.getEndX();if(dt.isValidBarcodeColumn(t,i-h)&&(d=t.getDetectionResultColumn(i-h).getCodewordNearby(o)),d!=null)return u?d.getEndX():d.getStartX();let g=0;for(;dt.isValidBarcodeColumn(t,i-h);){i-=h;for(let _ of t.getDetectionResultColumn(i).getCodewords())if(_!=null)return(u?_.getEndX():_.getStartX())+h*g*(_.getEndX()-_.getStartX());g++}return u?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,o,u,h,d,g,_){h=dt.adjustCodewordStartColumn(t,i,o,u,h,d);let A=dt.getModuleBitCount(t,i,o,u,h,d);if(A==null)return null;let R,L=At.sum(A);if(u)R=h+L;else{for(let ie=0;ie<A.length/2;ie++){let oe=A[ie];A[ie]=A[A.length-1-ie],A[A.length-1-ie]=oe}R=h,h=R-L}if(!dt.checkCodewordSkew(L,g,_))return null;let V=fn.getDecodedValue(A),Z=ft.getCodeword(V);return Z===-1?null:new ns(h,R,dt.getCodewordBucketNumber(V),Z)}static getModuleBitCount(t,i,o,u,h,d){let g=h,_=new Int32Array(8),A=0,R=u?1:-1,L=u;for(;(u?g<o:g>=i)&&A<_.length;)t.get(g,d)===L?(_[A]++,g+=R):(A++,L=!L);return A===_.length||g===(u?o:i)&&A===_.length-1?_:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,o,u,h,d){let g=h,_=u?-1:1;for(let A=0;A<2;A++){for(;(u?g>=i:g<o)&&u===t.get(g,d);){if(Math.abs(h-g)>dt.CODEWORD_SKEW_SIZE)return h;g+=_}_=-_,u=!u}return g}static checkCodewordSkew(t,i,o){return i-dt.CODEWORD_SKEW_SIZE<=t&&t<=o+dt.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,o){if(t.length===0)throw H.getFormatInstance();let u=1<<i+1,h=dt.correctErrors(t,o,u);dt.verifyCodewordCount(t,u);let d=me.decode(t,""+i);return d.setErrorsCorrected(h),d.setErasures(o.length),d}static correctErrors(t,i,o){if(i!=null&&i.length>o/2+dt.MAX_ERRORS||o<0||o>dt.MAX_EC_CODEWORDS)throw U.getChecksumInstance();return dt.errorCorrection.decode(t,o,i)}static verifyCodewordCount(t,i){if(t.length<4)throw H.getFormatInstance();let o=t[0];if(o>t.length)throw H.getFormatInstance();if(o===0)if(i<t.length)t[0]=t.length-i;else throw H.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),o=0,u=i.length-1;for(;!((t&1)!==o&&(o=t&1,u--,u<0));)i[u]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return dt.getCodewordBucketNumber(dt.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new _r;for(let o=0;o<t.length;o++){i.format("Row %2d: ",o);for(let u=0;u<t[o].length;u++){let h=t[o][u];h.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}i.format("%n")}return i.toString()}}dt.CODEWORD_SKEW_SIZE=2,dt.MAX_ERRORS=3,dt.MAX_EC_CODEWORDS=512,dt.errorCorrection=new ts;class $n{decode(t,i=null){let o=$n.decode(t,i,!1);if(o==null||o.length===0||o[0]==null)throw he.getNotFoundInstance();return o[0]}decodeMultiple(t,i=null){try{return $n.decode(t,i,!0)}catch(o){throw o instanceof H||o instanceof U?he.getNotFoundInstance():o}}static decode(t,i,o){const u=new Array,h=ut.detectMultiple(t,i,o);for(const d of h.getPoints()){const g=dt.decode(h.getBits(),d[4],d[5],d[6],d[7],$n.getMinCodewordWidth(d),$n.getMaxCodewordWidth(d)),_=new tt(g.getText(),g.getRawBytes(),void 0,d,Be.PDF_417);_.putMetadata(rt.ERROR_CORRECTION_LEVEL,g.getECLevel());const A=g.getOther();A!=null&&_.putMetadata(rt.PDF417_EXTRA_METADATA,A),u.push(_)}return u.map(d=>d)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?J.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max($n.getMaxWidth(t[0],t[4]),$n.getMaxWidth(t[6],t[2])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN),Math.max($n.getMaxWidth(t[1],t[5]),$n.getMaxWidth(t[7],t[3])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min($n.getMinWidth(t[0],t[4]),$n.getMinWidth(t[6],t[2])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN),Math.min($n.getMinWidth(t[1],t[5]),$n.getMinWidth(t[7],t[3])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN)))}reset(){}}class rs extends w{}rs.kind="ReaderException";class Ui{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!l(t)&&t.get(Te.TRY_HARDER)===!0,o=l(t)?null:t.get(Te.POSSIBLE_FORMATS),u=new Array;if(!l(o)){const h=o.some(d=>d===Be.UPC_A||d===Be.UPC_E||d===Be.EAN_13||d===Be.EAN_8||d===Be.CODABAR||d===Be.CODE_39||d===Be.CODE_93||d===Be.CODE_128||d===Be.ITF||d===Be.RSS_14||d===Be.RSS_EXPANDED);h&&!i&&u.push(new ki(t,this.verbose)),o.includes(Be.QR_CODE)&&u.push(new Jn),o.includes(Be.DATA_MATRIX)&&u.push(new Gn),o.includes(Be.AZTEC)&&u.push(new qi),o.includes(Be.PDF_417)&&u.push(new $n),h&&i&&u.push(new ki(t,this.verbose))}u.length===0&&(i||u.push(new ki(t,this.verbose)),u.push(new Jn),u.push(new Gn),u.push(new qi),u.push(new $n),i&&u.push(new ki(t,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new rs("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(o){if(o instanceof rs)continue}throw new he("No MultiFormat Readers were able to detect the code.")}}class _s extends qe{constructor(t=null,i=500){const o=new Ui;o.setHints(t),super(o,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Ds extends qe{constructor(t=500){super(new $n,t)}}class Js extends qe{constructor(t=500){super(new Jn,t)}}var Ms;(function(M){M[M.ERROR_CORRECTION=0]="ERROR_CORRECTION",M[M.CHARACTER_SET=1]="CHARACTER_SET",M[M.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",M[M.MIN_SIZE=3]="MIN_SIZE",M[M.MAX_SIZE=4]="MAX_SIZE",M[M.MARGIN=5]="MARGIN",M[M.PDF417_COMPACT=6]="PDF417_COMPACT",M[M.PDF417_COMPACTION=7]="PDF417_COMPACTION",M[M.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",M[M.AZTEC_LAYERS=9]="AZTEC_LAYERS",M[M.QR_VERSION=10]="QR_VERSION"})(Ms||(Ms={}));var Rn=Ms;class er{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new ve(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let o=i[i.length-1];const u=this.field;for(let h=i.length;h<=t;h++){const d=o.multiply(new ve(u,Int32Array.from([1,u.exp(h-1+u.getGeneratorBase())])));i.push(d),o=d}}return i[t]}encode(t,i){if(i===0)throw new N("No error correction bytes");const o=t.length-i;if(o<=0)throw new N("No data bytes provided");const u=this.buildGenerator(i),h=new Int32Array(o);$.arraycopy(t,0,h,0,o);let d=new ve(this.field,h);d=d.multiplyByMonomial(i,1);const _=d.divide(u)[1].getCoefficients(),A=i-_.length;for(let R=0;R<A;R++)t[o+R]=0;$.arraycopy(_,0,t,o+A,_.length)}}class Zt{constructor(){}static applyMaskPenaltyRule1(t){return Zt.applyMaskPenaltyRule1Internal(t,!0)+Zt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const o=t.getArray(),u=t.getWidth(),h=t.getHeight();for(let d=0;d<h-1;d++){const g=o[d];for(let _=0;_<u-1;_++){const A=g[_];A===g[_+1]&&A===o[d+1][_]&&A===o[d+1][_+1]&&i++}}return Zt.N2*i}static applyMaskPenaltyRule3(t){let i=0;const o=t.getArray(),u=t.getWidth(),h=t.getHeight();for(let d=0;d<h;d++)for(let g=0;g<u;g++){const _=o[d];g+6<u&&_[g]===1&&_[g+1]===0&&_[g+2]===1&&_[g+3]===1&&_[g+4]===1&&_[g+5]===0&&_[g+6]===1&&(Zt.isWhiteHorizontal(_,g-4,g)||Zt.isWhiteHorizontal(_,g+7,g+11))&&i++,d+6<h&&o[d][g]===1&&o[d+1][g]===0&&o[d+2][g]===1&&o[d+3][g]===1&&o[d+4][g]===1&&o[d+5][g]===0&&o[d+6][g]===1&&(Zt.isWhiteVertical(o,g,d-4,d)||Zt.isWhiteVertical(o,g,d+7,d+11))&&i++}return i*Zt.N3}static isWhiteHorizontal(t,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let u=i;u<o;u++)if(t[u]===1)return!1;return!0}static isWhiteVertical(t,i,o,u){o=Math.max(o,0),u=Math.min(u,t.length);for(let h=o;h<u;h++)if(t[h][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const o=t.getArray(),u=t.getWidth(),h=t.getHeight();for(let _=0;_<h;_++){const A=o[_];for(let R=0;R<u;R++)A[R]===1&&i++}const d=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-d)*10/d)*Zt.N4}static getDataMaskBit(t,i,o){let u,h;switch(t){case 0:u=o+i&1;break;case 1:u=o&1;break;case 2:u=i%3;break;case 3:u=(o+i)%3;break;case 4:u=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:h=o*i,u=(h&1)+h%3;break;case 6:h=o*i,u=(h&1)+h%3&1;break;case 7:h=o*i,u=h%3+(o+i&1)&1;break;default:throw new N("Invalid mask pattern: "+t)}return u===0}static applyMaskPenaltyRule1Internal(t,i){let o=0;const u=i?t.getHeight():t.getWidth(),h=i?t.getWidth():t.getHeight(),d=t.getArray();for(let g=0;g<u;g++){let _=0,A=-1;for(let R=0;R<h;R++){const L=i?d[g][R]:d[R][g];L===A?_++:(_>=5&&(o+=Zt.N1+(_-5)),_=1,A=L)}_>=5&&(o+=Zt.N1+(_-5))}return o}}Zt.N1=3,Zt.N2=3,Zt.N3=40,Zt.N4=10;class Ls{constructor(t,i){this.width=t,this.height=i;const o=new Array(i);for(let u=0;u!==i;u++)o[u]=new Uint8Array(t);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,o){this.bytes[i][t]=o}setBoolean(t,i,o){this.bytes[i][t]=o?1:0}clear(t){for(const i of this.bytes)Q.fill(i,t)}equals(t){if(!(t instanceof Ls))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,u=this.height;o<u;++o){const h=this.bytes[o],d=i.bytes[o];for(let g=0,_=this.width;g<_;++g)if(h[g]!==d[g])return!1}return!0}toString(){const t=new Y;for(let i=0,o=this.height;i<o;++i){const u=this.bytes[i];for(let h=0,d=this.width;h<d;++h)switch(u[h]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class hr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Y;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<hr.NUM_MASK_PATTERNS}}hr.NUM_MASK_PATTERNS=8;class zt extends w{}zt.kind="WriterException";class ct{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,o,u,h){ct.clearMatrix(h),ct.embedBasicPatterns(o,h),ct.embedTypeInfo(i,u,h),ct.maybeEmbedVersionInfo(o,h),ct.embedDataBits(t,u,h)}static embedBasicPatterns(t,i){ct.embedPositionDetectionPatternsAndSeparators(i),ct.embedDarkDotAtLeftBottomCorner(i),ct.maybeEmbedPositionAdjustmentPatterns(t,i),ct.embedTimingPatterns(i)}static embedTypeInfo(t,i,o){const u=new se;ct.makeTypeInfoBits(t,i,u);for(let h=0,d=u.getSize();h<d;++h){const g=u.get(u.getSize()-1-h),_=ct.TYPE_INFO_COORDINATES[h],A=_[0],R=_[1];if(o.setBoolean(A,R,g),h<8){const L=o.getWidth()-h-1;o.setBoolean(L,8,g)}else{const V=o.getHeight()-7+(h-8);o.setBoolean(8,V,g)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const o=new se;ct.makeVersionInfoBits(t,o);let u=6*3-1;for(let h=0;h<6;++h)for(let d=0;d<3;++d){const g=o.get(u);u--,i.setBoolean(h,i.getHeight()-11+d,g),i.setBoolean(i.getHeight()-11+d,h,g)}}static embedDataBits(t,i,o){let u=0,h=-1,d=o.getWidth()-1,g=o.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);g>=0&&g<o.getHeight();){for(let _=0;_<2;++_){const A=d-_;if(!ct.isEmpty(o.get(A,g)))continue;let R;u<t.getSize()?(R=t.get(u),++u):R=!1,i!==255&&Zt.getDataMaskBit(i,A,g)&&(R=!R),o.setBoolean(A,g,R)}g+=h}h=-h,g+=h,d-=2}if(u!==t.getSize())throw new zt("Not all bits consumed: "+u+"/"+t.getSize())}static findMSBSet(t){return 32-J.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new N("0 polynomial");const o=ct.findMSBSet(i);for(t<<=o-1;ct.findMSBSet(t)>=o;)t^=i<<ct.findMSBSet(t)-o;return t}static makeTypeInfoBits(t,i,o){if(!hr.isValidMaskPattern(i))throw new zt("Invalid mask pattern");const u=t.getBits()<<3|i;o.appendBits(u,5);const h=ct.calculateBCHCode(u,ct.TYPE_INFO_POLY);o.appendBits(h,10);const d=new se;if(d.appendBits(ct.TYPE_INFO_MASK_PATTERN,15),o.xor(d),o.getSize()!==15)throw new zt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const o=ct.calculateBCHCode(t.getVersionNumber(),ct.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new zt("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const o=(i+1)%2;ct.isEmpty(t.get(i,6))&&t.setNumber(i,6,o),ct.isEmpty(t.get(6,i))&&t.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new zt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,o){for(let u=0;u<8;++u){if(!ct.isEmpty(o.get(t+u,i)))throw new zt;o.setNumber(t+u,i,0)}}static embedVerticalSeparationPattern(t,i,o){for(let u=0;u<7;++u){if(!ct.isEmpty(o.get(t,i+u)))throw new zt;o.setNumber(t,i+u,0)}}static embedPositionAdjustmentPattern(t,i,o){for(let u=0;u<5;++u){const h=ct.POSITION_ADJUSTMENT_PATTERN[u];for(let d=0;d<5;++d)o.setNumber(t+d,i+u,h[d])}}static embedPositionDetectionPattern(t,i,o){for(let u=0;u<7;++u){const h=ct.POSITION_DETECTION_PATTERN[u];for(let d=0;d<7;++d)o.setNumber(t+d,i+u,h[d])}}static embedPositionDetectionPatternsAndSeparators(t){const i=ct.POSITION_DETECTION_PATTERN[0].length;ct.embedPositionDetectionPattern(0,0,t),ct.embedPositionDetectionPattern(t.getWidth()-i,0,t),ct.embedPositionDetectionPattern(0,t.getWidth()-i,t);const o=8;ct.embedHorizontalSeparationPattern(0,o-1,t),ct.embedHorizontalSeparationPattern(t.getWidth()-o,o-1,t),ct.embedHorizontalSeparationPattern(0,t.getWidth()-o,t);const u=7;ct.embedVerticalSeparationPattern(u,0,t),ct.embedVerticalSeparationPattern(t.getHeight()-u-1,0,t),ct.embedVerticalSeparationPattern(u,t.getHeight()-u,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const o=t.getVersionNumber()-1,u=ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let h=0,d=u.length;h!==d;h++){const g=u[h];if(g>=0)for(let _=0;_!==d;_++){const A=u[_];A>=0&&ct.isEmpty(i.get(A,g))&&ct.embedPositionAdjustmentPattern(A-2,g-2,i)}}}}ct.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ct.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ct.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ct.VERSION_INFO_POLY=7973,ct.TYPE_INFO_POLY=1335,ct.TYPE_INFO_MASK_PATTERN=21522;class $o{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Gt{constructor(){}static calculateMaskPenalty(t){return Zt.applyMaskPenaltyRule1(t)+Zt.applyMaskPenaltyRule2(t)+Zt.applyMaskPenaltyRule3(t)+Zt.applyMaskPenaltyRule4(t)}static encode(t,i,o=null){let u=Gt.DEFAULT_BYTE_MODE_ENCODING;const h=o!==null&&o.get(Rn.CHARACTER_SET)!==void 0;h&&(u=o.get(Rn.CHARACTER_SET).toString());const d=this.chooseMode(t,u),g=new se;if(d===at.BYTE&&(h||Gt.DEFAULT_BYTE_MODE_ENCODING!==u)){const Me=D.getCharacterSetECIByName(u);Me!==void 0&&this.appendECI(Me,g)}this.appendModeInfo(d,g);const _=new se;this.appendBytes(t,d,_,u);let A;if(o!==null&&o.get(Rn.QR_VERSION)!==void 0){const Me=Number.parseInt(o.get(Rn.QR_VERSION).toString(),10);A=He.getVersionForNumber(Me);const Ne=this.calculateBitsNeeded(d,g,_,A);if(!this.willFit(Ne,A,i))throw new zt("Data too big for requested version")}else A=this.recommendVersion(i,d,g,_);const R=new se;R.appendBitArray(g);const L=d===at.BYTE?_.getSizeInBytes():t.length;this.appendLengthInfo(L,A,d,R),R.appendBitArray(_);const V=A.getECBlocksForLevel(i),Z=A.getTotalCodewords()-V.getTotalECCodewords();this.terminateBits(Z,R);const ie=this.interleaveWithECBytes(R,A.getTotalCodewords(),Z,V.getNumBlocks()),oe=new hr;oe.setECLevel(i),oe.setMode(d),oe.setVersion(A);const ce=A.getDimensionForVersion(),ye=new Ls(ce,ce),De=this.chooseMaskPattern(ie,i,A,ye);return oe.setMaskPattern(De),ct.buildMatrix(ie,i,A,De,ye),oe.setMatrix(ye),oe}static recommendVersion(t,i,o,u){const h=this.calculateBitsNeeded(i,o,u,He.getVersionForNumber(1)),d=this.chooseVersion(h,t),g=this.calculateBitsNeeded(i,o,u,d);return this.chooseVersion(g,t)}static calculateBitsNeeded(t,i,o,u){return i.getSize()+t.getCharacterCountBits(u)+o.getSize()}static getAlphanumericCode(t){return t<Gt.ALPHANUMERIC_TABLE.length?Gt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(D.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return at.KANJI;let o=!1,u=!1;for(let h=0,d=t.length;h<d;++h){const g=t.charAt(h);if(Gt.isDigit(g))o=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)u=!0;else return at.BYTE}return u?at.ALPHANUMERIC:o?at.NUMERIC:at.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=G.encode(t,D.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let u=0;u<o;u+=2){const h=i[u]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(t,i,o,u){let h=Number.MAX_SAFE_INTEGER,d=-1;for(let g=0;g<hr.NUM_MASK_PATTERNS;g++){ct.buildMatrix(t,i,o,g,u);let _=this.calculateMaskPenalty(u);_<h&&(h=_,d=g)}return d}static chooseVersion(t,i){for(let o=1;o<=40;o++){const u=He.getVersionForNumber(o);if(Gt.willFit(t,u,i))return u}throw new zt("Data too big")}static willFit(t,i,o){const u=i.getTotalCodewords(),d=i.getECBlocksForLevel(o).getTotalECCodewords(),g=u-d,_=(t+7)/8;return g>=_}static terminateBits(t,i){const o=t*8;if(i.getSize()>o)throw new zt("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let d=0;d<4&&i.getSize()<o;++d)i.appendBit(!1);const u=i.getSize()&7;if(u>0)for(let d=u;d<8;d++)i.appendBit(!1);const h=t-i.getSizeInBytes();for(let d=0;d<h;++d)i.appendBits(d&1?17:236,8);if(i.getSize()!==o)throw new zt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,o,u,h,d){if(u>=o)throw new zt("Block ID too large");const g=t%o,_=o-g,A=Math.floor(t/o),R=A+1,L=Math.floor(i/o),V=L+1,Z=A-L,ie=R-V;if(Z!==ie)throw new zt("EC bytes mismatch");if(o!==_+g)throw new zt("RS blocks mismatch");if(t!==(L+Z)*_+(V+ie)*g)throw new zt("Total bytes mismatch");u<_?(h[0]=L,d[0]=Z):(h[0]=V,d[0]=ie)}static interleaveWithECBytes(t,i,o,u){if(t.getSizeInBytes()!==o)throw new zt("Number of bits and data bytes does not match");let h=0,d=0,g=0;const _=new Array;for(let R=0;R<u;++R){const L=new Int32Array(1),V=new Int32Array(1);Gt.getNumDataBytesAndNumECBytesForBlockID(i,o,u,R,L,V);const Z=L[0],ie=new Uint8Array(Z);t.toBytes(8*h,ie,0,Z);const oe=Gt.generateECBytes(ie,V[0]);_.push(new $o(ie,oe)),d=Math.max(d,Z),g=Math.max(g,oe.length),h+=L[0]}if(o!==h)throw new zt("Data bytes does not match offset");const A=new se;for(let R=0;R<d;++R)for(const L of _){const V=L.getDataBytes();R<V.length&&A.appendBits(V[R],8)}for(let R=0;R<g;++R)for(const L of _){const V=L.getErrorCorrectionBytes();R<V.length&&A.appendBits(V[R],8)}if(i!==A.getSizeInBytes())throw new zt("Interleaving error: "+i+" and "+A.getSizeInBytes()+" differ.");return A}static generateECBytes(t,i){const o=t.length,u=new Int32Array(o+i);for(let d=0;d<o;d++)u[d]=t[d]&255;new er(vt.QR_CODE_FIELD_256).encode(u,i);const h=new Uint8Array(i);for(let d=0;d<i;d++)h[d]=u[o+d];return h}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,o,u){const h=o.getCharacterCountBits(i);if(t>=1<<h)throw new zt(t+" is bigger than "+((1<<h)-1));u.appendBits(t,h)}static appendBytes(t,i,o,u){switch(i){case at.NUMERIC:Gt.appendNumericBytes(t,o);break;case at.ALPHANUMERIC:Gt.appendAlphanumericBytes(t,o);break;case at.BYTE:Gt.append8BitBytes(t,o,u);break;case at.KANJI:Gt.appendKanjiBytes(t,o);break;default:throw new zt("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=Gt.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const o=t.length;let u=0;for(;u<o;){const h=Gt.getDigit(t.charAt(u));if(u+2<o){const d=Gt.getDigit(t.charAt(u+1)),g=Gt.getDigit(t.charAt(u+2));i.appendBits(h*100+d*10+g,10),u+=3}else if(u+1<o){const d=Gt.getDigit(t.charAt(u+1));i.appendBits(h*10+d,7),u+=2}else i.appendBits(h,4),u++}}static appendAlphanumericBytes(t,i){const o=t.length;let u=0;for(;u<o;){const h=Gt.getAlphanumericCode(t.charCodeAt(u));if(h===-1)throw new zt;if(u+1<o){const d=Gt.getAlphanumericCode(t.charCodeAt(u+1));if(d===-1)throw new zt;i.appendBits(h*45+d,11),u+=2}else i.appendBits(h,6),u++}}static append8BitBytes(t,i,o){let u;try{u=G.encode(t,o)}catch(h){throw new zt(h)}for(let h=0,d=u.length;h!==d;h++){const g=u[h];i.appendBits(g,8)}}static appendKanjiBytes(t,i){let o;try{o=G.encode(t,D.SJIS)}catch(h){throw new zt(h)}const u=o.length;for(let h=0;h<u;h+=2){const d=o[h]&255,g=o[h+1]&255,_=d<<8&4294967295|g;let A=-1;if(_>=33088&&_<=40956?A=_-33088:_>=57408&&_<=60351&&(A=_-49472),A===-1)throw new zt("Invalid byte sequence");const R=(A>>8)*192+(A&255);i.appendBits(R,13)}}static appendECI(t,i){i.appendBits(at.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}Gt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Gt.DEFAULT_BYTE_MODE_ENCODING=D.UTF8.getName();class ri{write(t,i,o,u=null){if(t.length===0)throw new N("Found empty contents");if(i<0||o<0)throw new N("Requested dimensions are too small: "+i+"x"+o);let h=Tt.L,d=ri.QUIET_ZONE_SIZE;u!==null&&(u.get(Rn.ERROR_CORRECTION)!==void 0&&(h=Tt.fromString(u.get(Rn.ERROR_CORRECTION).toString())),u.get(Rn.MARGIN)!==void 0&&(d=Number.parseInt(u.get(Rn.MARGIN).toString(),10)));const g=Gt.encode(t,h,u);return this.renderResult(g,i,o,d)}writeToDom(t,i,o,u,h=null){typeof t=="string"&&(t=document.querySelector(t));const d=this.write(i,o,u,h);t&&t.appendChild(d)}renderResult(t,i,o,u){const h=t.getMatrix();if(h===null)throw new un;const d=h.getWidth(),g=h.getHeight(),_=d+u*2,A=g+u*2,R=Math.max(i,_),L=Math.max(o,A),V=Math.min(Math.floor(R/_),Math.floor(L/A)),Z=Math.floor((R-d*V)/2),ie=Math.floor((L-g*V)/2),oe=this.createSVGElement(R,L);for(let ce=0,ye=ie;ce<g;ce++,ye+=V)for(let De=0,Me=Z;De<d;De++,Me+=V)if(h.get(De,ce)===1){const Ne=this.createSvgRectElement(Me,ye,V,V);oe.appendChild(Ne)}return oe}createSVGElement(t,i){const o=document.createElementNS(ri.SVG_NS,"svg");return o.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(t,i,o,u){const h=document.createElementNS(ri.SVG_NS,"rect");return h.setAttributeNS(null,"x",t.toString()),h.setAttributeNS(null,"y",i.toString()),h.setAttributeNS(null,"height",o.toString()),h.setAttributeNS(null,"width",u.toString()),h.setAttributeNS(null,"fill","#000000"),h}}ri.QUIET_ZONE_SIZE=4,ri.SVG_NS="http://www.w3.org/2000/svg";class Xn{encode(t,i,o,u,h){if(t.length===0)throw new N("Found empty contents");if(i!==Be.QR_CODE)throw new N("Can only encode QR_CODE, but got "+i);if(o<0||u<0)throw new N(`Requested dimensions are too small: ${o}x${u}`);let d=Tt.L,g=Xn.QUIET_ZONE_SIZE;h!==null&&(h.get(Rn.ERROR_CORRECTION)!==void 0&&(d=Tt.fromString(h.get(Rn.ERROR_CORRECTION).toString())),h.get(Rn.MARGIN)!==void 0&&(g=Number.parseInt(h.get(Rn.MARGIN).toString(),10)));const _=Gt.encode(t,d,h);return Xn.renderResult(_,o,u,g)}static renderResult(t,i,o,u){const h=t.getMatrix();if(h===null)throw new un;const d=h.getWidth(),g=h.getHeight(),_=d+u*2,A=g+u*2,R=Math.max(i,_),L=Math.max(o,A),V=Math.min(Math.floor(R/_),Math.floor(L/A)),Z=Math.floor((R-d*V)/2),ie=Math.floor((L-g*V)/2),oe=new $e(R,L);for(let ce=0,ye=ie;ce<g;ce++,ye+=V)for(let De=0,Me=Z;De<d;De++,Me+=V)h.get(De,ce)===1&&oe.setRegion(Me,ye,V,V);return oe}}Xn.QUIET_ZONE_SIZE=4;class Ps{encode(t,i,o,u,h){let d;switch(i){case Be.QR_CODE:d=new Xn;break;default:throw new N("No encoder available for format "+i)}return d.encode(t,i,o,u,h)}}class Yr extends ke{constructor(t,i,o,u,h,d,g,_){if(super(d,g),this.yuvData=t,this.dataWidth=i,this.dataHeight=o,this.left=u,this.top=h,u+d>i||h+g>o)throw new N("Crop rectangle does not fit within image data.");_&&this.reverseHorizontal(d,g)}getRow(t,i){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const u=(t+this.top)*this.dataWidth+this.left;return $.arraycopy(this.yuvData,u,i,0,o),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=t*i,u=new Uint8ClampedArray(o);let h=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return $.arraycopy(this.yuvData,h,u,0,o),u;for(let d=0;d<i;d++){const g=d*t;$.arraycopy(this.yuvData,h,u,g,t),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(t,i,o,u){return new Yr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,o,u,!1)}renderThumbnail(){const t=this.getWidth()/Yr.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Yr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(t*i),u=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let d=0;d<i;d++){const g=d*t;for(let _=0;_<t;_++){const A=u[h+_*Yr.THUMBNAIL_SCALE_FACTOR]&255;o[g+_]=4278190080|A*65793}h+=this.dataWidth*Yr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Yr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Yr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const o=this.yuvData;for(let u=0,h=this.top*this.dataWidth+this.left;u<i;u++,h+=this.dataWidth){const d=h+t/2;for(let g=h,_=h+t-1;g<d;g++,_--){const A=o[g];o[g]=o[_],o[_]=A}}}invert(){return new Qe(this)}}Yr.THUMBNAIL_SCALE_FACTOR=2;class ii extends ke{constructor(t,i,o,u,h,d,g){if(super(i,o),this.dataWidth=u,this.dataHeight=h,this.left=d,this.top=g,t.BYTES_PER_ELEMENT===4){const _=i*o,A=new Uint8ClampedArray(_);for(let R=0;R<_;R++){const L=t[R],V=L>>16&255,Z=L>>7&510,ie=L&255;A[R]=(V+Z+ie)/4&255}this.luminances=A}else this.luminances=t;if(u===void 0&&(this.dataWidth=i),h===void 0&&(this.dataHeight=o),d===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const u=(t+this.top)*this.dataWidth+this.left;return $.arraycopy(this.luminances,u,i,0,o),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=t*i,u=new Uint8ClampedArray(o);let h=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return $.arraycopy(this.luminances,h,u,0,o),u;for(let d=0;d<i;d++){const g=d*t;$.arraycopy(this.luminances,h,u,g,t),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(t,i,o,u){return new ii(this.luminances,o,u,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new Qe(this)}}class m extends D{static forName(t){return this.getCharacterSetECIByName(t)}}class I{}I.ISO_8859_1=D.ISO8859_1;class O{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class W{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class de{constructor(t){this.previous=t}getPrevious(){return this.previous}}class we extends de{constructor(t,i,o){super(t),this.value=i,this.bitCount=o}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new we(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new we(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+J.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Ve extends we{constructor(t,i,o){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(t,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):o===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(t,i){return new Ve(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Yt(M,t,i){return new Ve(M,t,i)}function on(M,t,i){return new we(M,t,i)}const Dt=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],nn=0,Cn=1,On=2,dn=3,fr=4,eo=new we(null,0,0),Xo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function sl(M){for(let t of M)Q.fill(t,-1);return M[nn][fr]=0,M[Cn][fr]=0,M[Cn][nn]=28,M[dn][fr]=0,M[On][fr]=0,M[On][nn]=15,M}const Ko=sl(Q.createInt32Array(6,6));class dr{constructor(t,i,o,u){this.token=t,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let o=this.bitCount,u=this.token;if(t!==this.mode){let d=Xo[this.mode][t];u=on(u,d&65535,d>>16),o+=d>>16}let h=t===On?4:5;return u=on(u,i,h),new dr(u,t,0,o+h)}shiftAndAppend(t,i){let o=this.token,u=this.mode===On?4:5;return o=on(o,Ko[this.mode][t],u),o=on(o,i,5),new dr(o,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(t){let i=this.token,o=this.mode,u=this.bitCount;if(this.mode===fr||this.mode===On){let g=Xo[o][nn];i=on(i,g&65535,g>>16),u+=g>>16,o=nn}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new dr(i,o,this.binaryShiftByteCount+1,u+h);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(t+1)),d}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Yt(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new dr(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(Xo[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=dr.calculateBinaryShiftCost(t)-dr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let u=this.endBinaryShift(t.length).token;u!==null;u=u.getPrevious())i.unshift(u);let o=new se;for(const u of i)u.appendTo(o,t);return o}toString(){return ee.format("%s bits=%d bytes=%d",Dt[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}dr.INITIAL_STATE=new dr(eo,nn,0,0);function Wl(M){const t=ee.getCharCode(" "),i=ee.getCharCode("."),o=ee.getCharCode(",");M[nn][t]=1;const u=ee.getCharCode("Z"),h=ee.getCharCode("A");for(let V=h;V<=u;V++)M[nn][V]=V-h+2;M[Cn][t]=1;const d=ee.getCharCode("z"),g=ee.getCharCode("a");for(let V=g;V<=d;V++)M[Cn][V]=V-g+2;M[On][t]=1;const _=ee.getCharCode("9"),A=ee.getCharCode("0");for(let V=A;V<=_;V++)M[On][V]=V-A+2;M[On][o]=12,M[On][i]=13;const R=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let V=0;V<R.length;V++)M[dn][ee.getCharCode(R[V])]=V;const L=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let V=0;V<L.length;V++)ee.getCharCode(L[V])>0&&(M[fr][ee.getCharCode(L[V])]=V);return M}const Ca=Wl(Q.createInt32Array(5,256));class To{constructor(t){this.text=t}encode(){const t=ee.getCharCode(" "),i=ee.getCharCode(`
`);let o=W.singletonList(dr.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let d,g=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case ee.getCharCode("\r"):d=g===i?2:0;break;case ee.getCharCode("."):d=g===t?3:0;break;case ee.getCharCode(","):d=g===t?4:0;break;case ee.getCharCode(":"):d=g===t?5:0;break;default:d=0}d>0?(o=To.updateStateListForPair(o,h,d),h++):o=this.updateStateListForChar(o,h)}return W.min(o,(h,d)=>h.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const o=[];for(let u of t)this.updateStateForChar(u,i,o);return To.simplifyStates(o)}updateStateForChar(t,i,o){let u=this.text[i]&255,h=Ca[t.getMode()][u]>0,d=null;for(let g=0;g<=fr;g++){let _=Ca[g][u];if(_>0){if(d==null&&(d=t.endBinaryShift(i)),!h||g===t.getMode()||g===On){const A=d.latchAndAppend(g,_);o.push(A)}if(!h&&Ko[t.getMode()][g]>=0){const A=d.shiftAndAppend(g,_);o.push(A)}}}if(t.getBinaryShiftByteCount()>0||Ca[t.getMode()][u]===0){let g=t.addBinaryShiftChar(i);o.push(g)}}static updateStateListForPair(t,i,o){const u=[];for(let h of t)this.updateStateForPair(h,i,o,u);return this.simplifyStates(u)}static updateStateForPair(t,i,o,u){let h=t.endBinaryShift(i);if(u.push(h.latchAndAppend(fr,o)),t.getMode()!==fr&&u.push(h.shiftAndAppend(fr,o)),o===3||o===4){let d=h.latchAndAppend(On,16-o).latchAndAppend(On,1);u.push(d)}if(t.getBinaryShiftByteCount()>0){let d=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);u.push(d)}}static simplifyStates(t){let i=[];for(const o of t){let u=!0;for(const h of i){if(h.isBetterThanOrEqualTo(o)){u=!1;break}o.isBetterThanOrEqualTo(h)&&(i=i.filter(d=>d!==h))}u&&i.push(o)}return i}}class Pt{constructor(){}static encodeBytes(t){return Pt.encode(t,Pt.DEFAULT_EC_PERCENT,Pt.DEFAULT_AZTEC_LAYERS)}static encode(t,i,o){let u=new To(t).encode(),h=J.truncDivision(u.getSize()*i,100)+11,d=u.getSize()+h,g,_,A,R,L;if(o!==Pt.DEFAULT_AZTEC_LAYERS){if(g=o<0,_=Math.abs(o),_>(g?Pt.MAX_NB_BITS_COMPACT:Pt.MAX_NB_BITS))throw new N(ee.format("Illegal value %s for layers",o));A=Pt.totalBitsInLayer(_,g),R=Pt.WORD_SIZE[_];let Ne=A-A%R;if(L=Pt.stuffBits(u,R),L.getSize()+h>Ne)throw new N("Data to large for user specified layer");if(g&&L.getSize()>R*64)throw new N("Data to large for user specified layer")}else{R=0,L=null;for(let Ne=0;;Ne++){if(Ne>Pt.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(g=Ne<=3,_=g?Ne+1:Ne,A=Pt.totalBitsInLayer(_,g),d>A)continue;(L==null||R!==Pt.WORD_SIZE[_])&&(R=Pt.WORD_SIZE[_],L=Pt.stuffBits(u,R));let Rt=A-A%R;if(!(g&&L.getSize()>R*64)&&L.getSize()+h<=Rt)break}}let V=Pt.generateCheckWords(L,A,R),Z=L.getSize()/R,ie=Pt.generateModeMessage(g,_,Z),oe=(g?11:14)+_*4,ce=new Int32Array(oe),ye;if(g){ye=oe;for(let Ne=0;Ne<ce.length;Ne++)ce[Ne]=Ne}else{ye=oe+1+2*J.truncDivision(J.truncDivision(oe,2)-1,15);let Ne=J.truncDivision(oe,2),Rt=J.truncDivision(ye,2);for(let yt=0;yt<Ne;yt++){let Rr=yt+J.truncDivision(yt,15);ce[Ne-yt-1]=Rt-Rr-1,ce[Ne+yt]=Rt+Rr+1}}let De=new $e(ye);for(let Ne=0,Rt=0;Ne<_;Ne++){let yt=(_-Ne)*4+(g?9:12);for(let Rr=0;Rr<yt;Rr++){let Ci=Rr*2;for(let Kn=0;Kn<2;Kn++)V.get(Rt+Ci+Kn)&&De.set(ce[Ne*2+Kn],ce[Ne*2+Rr]),V.get(Rt+yt*2+Ci+Kn)&&De.set(ce[Ne*2+Rr],ce[oe-1-Ne*2-Kn]),V.get(Rt+yt*4+Ci+Kn)&&De.set(ce[oe-1-Ne*2-Kn],ce[oe-1-Ne*2-Rr]),V.get(Rt+yt*6+Ci+Kn)&&De.set(ce[oe-1-Ne*2-Rr],ce[Ne*2+Kn])}Rt+=yt*8}if(Pt.drawModeMessage(De,g,ye,ie),g)Pt.drawBullsEye(De,J.truncDivision(ye,2),5);else{Pt.drawBullsEye(De,J.truncDivision(ye,2),7);for(let Ne=0,Rt=0;Ne<J.truncDivision(oe,2)-1;Ne+=15,Rt+=16)for(let yt=J.truncDivision(ye,2)&1;yt<ye;yt+=2)De.set(J.truncDivision(ye,2)-Rt,yt),De.set(J.truncDivision(ye,2)+Rt,yt),De.set(yt,J.truncDivision(ye,2)-Rt),De.set(yt,J.truncDivision(ye,2)+Rt)}let Me=new O;return Me.setCompact(g),Me.setSize(ye),Me.setLayers(_),Me.setCodeWords(Z),Me.setMatrix(De),Me}static drawBullsEye(t,i,o){for(let u=0;u<o;u+=2)for(let h=i-u;h<=i+u;h++)t.set(h,i-u),t.set(h,i+u),t.set(i-u,h),t.set(i+u,h);t.set(i-o,i-o),t.set(i-o+1,i-o),t.set(i-o,i-o+1),t.set(i+o,i-o),t.set(i+o,i-o+1),t.set(i+o,i+o-1)}static generateModeMessage(t,i,o){let u=new se;return t?(u.appendBits(i-1,2),u.appendBits(o-1,6),u=Pt.generateCheckWords(u,28,4)):(u.appendBits(i-1,5),u.appendBits(o-1,11),u=Pt.generateCheckWords(u,40,4)),u}static drawModeMessage(t,i,o,u){let h=J.truncDivision(o,2);if(i)for(let d=0;d<7;d++){let g=h-3+d;u.get(d)&&t.set(g,h-5),u.get(d+7)&&t.set(h+5,g),u.get(20-d)&&t.set(g,h+5),u.get(27-d)&&t.set(h-5,g)}else for(let d=0;d<10;d++){let g=h-5+d+J.truncDivision(d,5);u.get(d)&&t.set(g,h-7),u.get(d+10)&&t.set(h+7,g),u.get(29-d)&&t.set(g,h+7),u.get(39-d)&&t.set(h-7,g)}}static generateCheckWords(t,i,o){let u=t.getSize()/o,h=new er(Pt.getGF(o)),d=J.truncDivision(i,o),g=Pt.bitsToWords(t,o,d);h.encode(g,d-u);let _=i%o,A=new se;A.appendBits(0,_);for(const R of Array.from(g))A.appendBits(R,o);return A}static bitsToWords(t,i,o){let u=new Int32Array(o),h,d;for(h=0,d=t.getSize()/i;h<d;h++){let g=0;for(let _=0;_<i;_++)g|=t.get(h*i+_)?1<<i-_-1:0;u[h]=g}return u}static getGF(t){switch(t){case 4:return vt.AZTEC_PARAM;case 6:return vt.AZTEC_DATA_6;case 8:return vt.AZTEC_DATA_8;case 10:return vt.AZTEC_DATA_10;case 12:return vt.AZTEC_DATA_12;default:throw new N("Unsupported word size "+t)}}static stuffBits(t,i){let o=new se,u=t.getSize(),h=(1<<i)-2;for(let d=0;d<u;d+=i){let g=0;for(let _=0;_<i;_++)(d+_>=u||t.get(d+_))&&(g|=1<<i-1-_);(g&h)===h?(o.appendBits(g&h,i),d--):g&h?o.appendBits(g,i):(o.appendBits(g|1,i),d--)}return o}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}Pt.DEFAULT_EC_PERCENT=33,Pt.DEFAULT_AZTEC_LAYERS=0,Pt.MAX_NB_BITS=32,Pt.MAX_NB_BITS_COMPACT=4,Pt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Io{encode(t,i,o,u){return this.encodeWithHints(t,i,o,u,null)}encodeWithHints(t,i,o,u,h){let d=I.ISO_8859_1,g=Pt.DEFAULT_EC_PERCENT,_=Pt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(Rn.CHARACTER_SET)&&(d=m.forName(h.get(Rn.CHARACTER_SET).toString())),h.has(Rn.ERROR_CORRECTION)&&(g=J.parseInt(h.get(Rn.ERROR_CORRECTION).toString())),h.has(Rn.AZTEC_LAYERS)&&(_=J.parseInt(h.get(Rn.AZTEC_LAYERS).toString()))),Io.encodeLayers(t,i,o,u,d,g,_)}static encodeLayers(t,i,o,u,h,d,g){if(i!==Be.AZTEC)throw new N("Can only encode AZTEC, but got "+i);let _=Pt.encode(ee.getBytes(t,h),d,g);return Io.renderResult(_,o,u)}static renderResult(t,i,o){let u=t.getMatrix();if(u==null)throw new un;let h=u.getWidth(),d=u.getHeight(),g=Math.max(i,h),_=Math.max(o,d),A=Math.min(g/h,_/d),R=(g-h*A)/2,L=(_-d*A)/2,V=new $e(g,_);for(let Z=0,ie=L;Z<d;Z++,ie+=A)for(let oe=0,ce=R;oe<h;oe++,ce+=A)u.get(oe,Z)&&V.setRegion(ce,ie,A,A);return V}}n.AbstractExpandedDecoder=ei,n.ArgumentException=S,n.ArithmeticException=Vr,n.AztecCode=O,n.AztecCodeReader=qi,n.AztecCodeWriter=Io,n.AztecDecoder=It,n.AztecDetector=Qi,n.AztecDetectorResult=Ki,n.AztecEncoder=Pt,n.AztecHighLevelEncoder=To,n.AztecPoint=An,n.BarcodeFormat=Be,n.Binarizer=z,n.BinaryBitmap=k,n.BitArray=se,n.BitMatrix=$e,n.BitSource=Ks,n.BrowserAztecCodeReader=Ss,n.BrowserBarcodeReader=Yo,n.BrowserCodeReader=qe,n.BrowserDatamatrixCodeReader=Aa,n.BrowserMultiFormatReader=_s,n.BrowserPDF417Reader=Ds,n.BrowserQRCodeReader=Js,n.BrowserQRCodeSvgWriter=ri,n.CharacterSetECI=D,n.ChecksumException=U,n.Code128Reader=je,n.Code39Reader=En,n.DataMatrixDecodedBitStreamParser=Hr,n.DataMatrixReader=Gn,n.DecodeHintType=Te,n.DecoderResult=Mt,n.DefaultGridSampler=vn,n.DetectorResult=gi,n.EAN13Reader=cr,n.EncodeHintType=Rn,n.Exception=w,n.FormatException=H,n.GenericGF=vt,n.GenericGFPoly=ve,n.GlobalHistogramBinarizer=st,n.GridSampler=Pi,n.GridSamplerInstance=Hn,n.HTMLCanvasElementLuminanceSource=Ge,n.HybridBinarizer=ze,n.ITFReader=jt,n.IllegalArgumentException=N,n.IllegalStateException=un,n.InvertedLuminanceSource=Qe,n.LuminanceSource=ke,n.MathUtils=At,n.MultiFormatOneDReader=ki,n.MultiFormatReader=Ui,n.MultiFormatWriter=Ps,n.NotFoundException=he,n.OneDReader=yn,n.PDF417DecodedBitStreamParser=me,n.PDF417DecoderErrorCorrection=ts,n.PDF417Reader=$n,n.PDF417ResultMetadata=Os,n.PerspectiveTransform=Vt,n.PlanarYUVLuminanceSource=Yr,n.QRCodeByteMatrix=Ls,n.QRCodeDataMask=mt,n.QRCodeDecodedBitStreamParser=rn,n.QRCodeDecoderErrorCorrectionLevel=Tt,n.QRCodeDecoderFormatInformation=Nn,n.QRCodeEncoder=Gt,n.QRCodeEncoderQRCode=hr,n.QRCodeMaskUtil=Zt,n.QRCodeMatrixUtil=ct,n.QRCodeMode=at,n.QRCodeReader=Jn,n.QRCodeVersion=He,n.QRCodeWriter=Xn,n.RGBLuminanceSource=ii,n.RSS14Reader=Bt,n.RSSExpandedReader=Ie,n.ReaderException=rs,n.ReedSolomonDecoder=ur,n.ReedSolomonEncoder=er,n.ReedSolomonException=lr,n.Result=tt,n.ResultMetadataType=rt,n.ResultPoint=Ye,n.StringUtils=ee,n.UnsupportedOperationException=X,n.VideoInputDevice=ue,n.WhiteRectangleDetector=zn,n.WriterException=zt,n.ZXingArrays=Q,n.ZXingCharset=m,n.ZXingInteger=J,n.ZXingStandardCharsets=I,n.ZXingStringBuilder=Y,n.ZXingStringEncoding=G,n.ZXingSystem=$,n.createAbstractExpandedDecoder=Go,Object.defineProperty(n,"__esModule",{value:!0})})}(Su,Su.exports)),Su.exports}var Bn=XA();const KA=Ud(Bn),QA=Ny({__proto__:null,default:KA},[Bn]);var Zp=function(){function s(e,n,l){if(this.formatMap=new Map([[Je.QR_CODE,Bn.BarcodeFormat.QR_CODE],[Je.AZTEC,Bn.BarcodeFormat.AZTEC],[Je.CODABAR,Bn.BarcodeFormat.CODABAR],[Je.CODE_39,Bn.BarcodeFormat.CODE_39],[Je.CODE_93,Bn.BarcodeFormat.CODE_93],[Je.CODE_128,Bn.BarcodeFormat.CODE_128],[Je.DATA_MATRIX,Bn.BarcodeFormat.DATA_MATRIX],[Je.MAXICODE,Bn.BarcodeFormat.MAXICODE],[Je.ITF,Bn.BarcodeFormat.ITF],[Je.EAN_13,Bn.BarcodeFormat.EAN_13],[Je.EAN_8,Bn.BarcodeFormat.EAN_8],[Je.PDF_417,Bn.BarcodeFormat.PDF_417],[Je.RSS_14,Bn.BarcodeFormat.RSS_14],[Je.RSS_EXPANDED,Bn.BarcodeFormat.RSS_EXPANDED],[Je.UPC_A,Bn.BarcodeFormat.UPC_A],[Je.UPC_E,Bn.BarcodeFormat.UPC_E],[Je.UPC_EAN_EXTENSION,Bn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!QA)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=l;var c=this.createZXingFormats(e),f=new Map;f.set(Bn.DecodeHintType.POSSIBLE_FORMATS,c),f.set(Bn.DecodeHintType.TRY_HARDER,!1),this.hints=f}return s.prototype.decodeAsync=function(e){var n=this;return new Promise(function(l,c){try{l(n.decode(e))}catch(f){c(f)}})},s.prototype.decode=function(e){var n=new Bn.MultiFormatReader(this.verbose,this.hints),l=new Bn.HTMLCanvasElementLuminanceSource(e),c=new Bn.BinaryBitmap(new Bn.HybridBinarizer(l)),f=n.decode(c);return{text:f.text,format:d2.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},s.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,l,c){e.set(n,l)}),e},s.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},s.prototype.createZXingFormats=function(e){for(var n=[],l=0,c=e;l<c.length;l++){var f=c[l];this.formatMap.has(f)?n.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return n},s.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},s}(),qA=function(s,e,n,l){function c(f){return f instanceof n?f:new n(function(y){y(f)})}return new(n||(n=Promise))(function(f,y){function x(S){try{w(l.next(S))}catch(N){y(N)}}function v(S){try{w(l.throw(S))}catch(N){y(N)}}function w(S){S.done?f(S.value):c(S.value).then(x,v)}w((l=l.apply(s,e||[])).next())})},ZA=function(s,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,y;return y={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function x(w){return function(S){return v([w,S])}}function v(w){if(l)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(n=0)),n;)try{if(l=1,c&&(f=w[0]&2?c.return:w[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,w[1])).done)return f;switch(c=0,f&&(w=[w[0]&2,f.value]),w[0]){case 0:case 1:f=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,c=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!f||w[1]>f[0]&&w[1]<f[3])){n.label=w[1];break}if(w[0]===6&&n.label<f[1]){n.label=f[1],f=w;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(w);break}f[2]&&n.ops.pop(),n.trys.pop();continue}w=e.call(s,n)}catch(S){w=[6,S],c=0}finally{l=f=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Jp=function(){function s(e,n,l){if(this.formatMap=new Map([[Je.QR_CODE,"qr_code"],[Je.AZTEC,"aztec"],[Je.CODABAR,"codabar"],[Je.CODE_39,"code_39"],[Je.CODE_93,"code_93"],[Je.CODE_128,"code_128"],[Je.DATA_MATRIX,"data_matrix"],[Je.ITF,"itf"],[Je.EAN_13,"ean_13"],[Je.EAN_8,"ean_8"],[Je.PDF_417,"pdf417"],[Je.UPC_A,"upc_a"],[Je.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!s.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=l;var c=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return s.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},s.prototype.decodeAsync=function(e){return qA(this,void 0,void 0,function(){var n,l;return ZA(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=c.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return l=this.selectLargestBarcode(n),[2,{text:l.rawValue,format:d2.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}]}})})},s.prototype.selectLargestBarcode=function(e){for(var n=null,l=0,c=0,f=e;c<f.length;c++){var y=f[c],x=y.boundingBox.width*y.boundingBox.height;x>l&&(l=x,n=y)}if(!n)throw"No largest barcode found";return n},s.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],l=0,c=e;l<c.length;l++){var f=c[l];this.formatMap.has(f)?n.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},s.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},s.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,l,c){e.set(n,l)}),e},s.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},s}(),eg=function(s,e,n,l){function c(f){return f instanceof n?f:new n(function(y){y(f)})}return new(n||(n=Promise))(function(f,y){function x(S){try{w(l.next(S))}catch(N){y(N)}}function v(S){try{w(l.throw(S))}catch(N){y(N)}}function w(S){S.done?f(S.value):c(S.value).then(x,v)}w((l=l.apply(s,e||[])).next())})},tg=function(s,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,y;return y={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function x(w){return function(S){return v([w,S])}}function v(w){if(l)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(n=0)),n;)try{if(l=1,c&&(f=w[0]&2?c.return:w[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,w[1])).done)return f;switch(c=0,f&&(w=[w[0]&2,f.value]),w[0]){case 0:case 1:f=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,c=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!f||w[1]>f[0]&&w[1]<f[3])){n.label=w[1];break}if(w[0]===6&&n.label<f[1]){n.label=f[1],f=w;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(w);break}f[2]&&n.ops.pop(),n.trys.pop();continue}w=e.call(s,n)}catch(S){w=[6,S],c=0}finally{l=f=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},JA=function(){function s(e,n,l,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=l,n&&Jp.isSupported()?(this.primaryDecoder=new Jp(e,l,c),this.secondaryDecoder=new Zp(e,l,c)):this.primaryDecoder=new Zp(e,l,c)}return s.prototype.decodeAsync=function(e){return eg(this,void 0,void 0,function(){var n;return tg(this,function(l){switch(l.label){case 0:n=performance.now(),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,l.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},s.prototype.decodeRobustlyAsync=function(e){return eg(this,void 0,void 0,function(){var n,l;return tg(this,function(c){switch(c.label){case 0:n=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,c.sent()];case 3:if(l=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw l;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},s.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},s.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},s.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,l=this.executionResults;n<l.length;n++){var c=l[n];e+=c}var f=e/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},s}(),p1=function(){var s=function(e,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},s(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");s(e,n);function l(){this.constructor=e}e.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),Ih=function(s,e,n,l){function c(f){return f instanceof n?f:new n(function(y){y(f)})}return new(n||(n=Promise))(function(f,y){function x(S){try{w(l.next(S))}catch(N){y(N)}}function v(S){try{w(l.throw(S))}catch(N){y(N)}}function w(S){S.done?f(S.value):c(S.value).then(x,v)}w((l=l.apply(s,e||[])).next())})},Sh=function(s,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,y;return y={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function x(w){return function(S){return v([w,S])}}function v(w){if(l)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(n=0)),n;)try{if(l=1,c&&(f=w[0]&2?c.return:w[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,w[1])).done)return f;switch(c=0,f&&(w=[w[0]&2,f.value]),w[0]){case 0:case 1:f=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,c=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!f||w[1]>f[0]&&w[1]<f[3])){n.label=w[1];break}if(w[0]===6&&n.label<f[1]){n.label=f[1],f=w;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(w);break}f[2]&&n.ops.pop(),n.trys.pop();continue}w=e.call(s,n)}catch(S){w=[6,S],c=0}finally{l=f=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},y2=function(){function s(e,n){this.name=e,this.track=n}return s.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},s.prototype.apply=function(e){var n={};n[this.name]=e;var l={advanced:[n]};return this.track.applyConstraints(l)},s.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},s}(),eC=function(s){p1(e,s);function e(n,l){return s.call(this,n,l)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var l={};l[this.name]=n;var c={advanced:[l]};return this.track.applyConstraints(c)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),l=n[this.name];return{min:l.min,max:l.max,step:l.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(y2),tC=function(s){p1(e,s);function e(n){return s.call(this,"zoom",n)||this}return e}(eC),nC=function(s){p1(e,s);function e(n){return s.call(this,"torch",n)||this}return e}(y2),rC=function(){function s(e){this.track=e}return s.prototype.zoomFeature=function(){return new tC(this.track)},s.prototype.torchFeature=function(){return new nC(this.track)},s}(),iC=function(){function s(e,n,l){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=l,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return s.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},s.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var l=e.surface.clientWidth,c=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(l,c),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},s.create=function(e,n,l,c){return Ih(this,void 0,void 0,function(){var f,y;return Sh(this,function(x){switch(x.label){case 0:return f=new s(e,n,c),l.aspectRatio?(y={aspectRatio:l.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(y)]):[3,2];case 1:x.sent(),x.label=2;case 2:return f.setupSurface(),[2,f]}})})},s.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},s.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},s.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},s.prototype.resume=function(e){this.failIfClosed();var n=this,l=function(){setTimeout(e,200),n.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.play()},s.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},s.prototype.getSurface=function(){return this.failIfClosed(),this.surface},s.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},s.prototype.applyVideoConstraints=function(e){return Ih(this,void 0,void 0,function(){return Sh(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},s.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,l){var c=e.mediaStream.getVideoTracks(),f=c.length,y=0;e.mediaStream.getVideoTracks().forEach(function(x){e.mediaStream.removeTrack(x),x.stop(),++y,y>=f&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},s.prototype.getCapabilities=function(){return new rC(this.getFirstTrackOrFail())},s}(),sC=function(){function s(e){this.mediaStream=e}return s.prototype.render=function(e,n,l){return Ih(this,void 0,void 0,function(){return Sh(this,function(c){return[2,iC.create(e,this.mediaStream,n,l)]})})},s.create=function(e){return Ih(this,void 0,void 0,function(){var n,l;return Sh(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return l=c.sent(),[2,new s(l)]}})})},s}(),ng=function(s,e,n,l){function c(f){return f instanceof n?f:new n(function(y){y(f)})}return new(n||(n=Promise))(function(f,y){function x(S){try{w(l.next(S))}catch(N){y(N)}}function v(S){try{w(l.throw(S))}catch(N){y(N)}}function w(S){S.done?f(S.value):c(S.value).then(x,v)}w((l=l.apply(s,e||[])).next())})},rg=function(s,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,y;return y={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function x(w){return function(S){return v([w,S])}}function v(w){if(l)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(n=0)),n;)try{if(l=1,c&&(f=w[0]&2?c.return:w[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,w[1])).done)return f;switch(c=0,f&&(w=[w[0]&2,f.value]),w[0]){case 0:case 1:f=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,c=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!f||w[1]>f[0]&&w[1]<f[3])){n.label=w[1];break}if(w[0]===6&&n.label<f[1]){n.label=f[1],f=w;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(w);break}f[2]&&n.ops.pop(),n.trys.pop();continue}w=e.call(s,n)}catch(S){w=[6,S],c=0}finally{l=f=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},oC=function(){function s(){}return s.failIfNotSupported=function(){return ng(this,void 0,void 0,function(){return rg(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new s]})})},s.prototype.create=function(e){return ng(this,void 0,void 0,function(){return rg(this,function(n){return[2,sC.create(e)]})})},s}(),aC=function(s,e,n,l){function c(f){return f instanceof n?f:new n(function(y){y(f)})}return new(n||(n=Promise))(function(f,y){function x(S){try{w(l.next(S))}catch(N){y(N)}}function v(S){try{w(l.throw(S))}catch(N){y(N)}}function w(S){S.done?f(S.value):c(S.value).then(x,v)}w((l=l.apply(s,e||[])).next())})},lC=function(s,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,y;return y={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function x(w){return function(S){return v([w,S])}}function v(w){if(l)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(n=0)),n;)try{if(l=1,c&&(f=w[0]&2?c.return:w[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,w[1])).done)return f;switch(c=0,f&&(w=[w[0]&2,f.value]),w[0]){case 0:case 1:f=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,c=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!f||w[1]>f[0]&&w[1]<f[3])){n.label=w[1];break}if(w[0]===6&&n.label<f[1]){n.label=f[1],f=w;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(w);break}f[2]&&n.ops.pop(),n.trys.pop();continue}w=e.call(s,n)}catch(S){w=[6,S],c=0}finally{l=f=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},uC=function(){function s(){}return s.retrieve=function(){if(navigator.mediaDevices)return s.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?s.getCamerasFromMediaStreamTrack():s.rejectWithError()},s.rejectWithError=function(){var e=Tl.unableToQuerySupportedDevices();return s.isHttpsOrLocalhost()||(e=Tl.insecureContextCameraQueryError()),Promise.reject(e)},s.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},s.getCamerasFromMediaDevices=function(){return aC(this,void 0,void 0,function(){var e,n,l,c,f,y,x;return lC(this,function(v){switch(v.label){case 0:return e=function(w){for(var S=w.getVideoTracks(),N=0,k=S;N<k.length;N++){var U=k[N];U.enabled=!1,U.stop(),w.removeTrack(U)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(l=v.sent(),c=[],f=0,y=l;f<y.length;f++)x=y[f],x.kind==="videoinput"&&c.push({id:x.deviceId,label:x.label});return e(n),[2,c]}})})},s.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var l=function(f){for(var y=[],x=0,v=f;x<v.length;x++){var w=v[x];w.kind==="video"&&y.push({id:w.id,label:w.label})}e(y)},c=MediaStreamTrack;c.getSources(l)})},s}(),nr;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.NOT_STARTED=1]="NOT_STARTED",s[s.SCANNING=2]="SCANNING",s[s.PAUSED=3]="PAUSED"})(nr||(nr={}));var cC=function(){function s(){this.state=nr.NOT_STARTED,this.onGoingTransactionNewState=nr.UNKNOWN}return s.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},s.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},s.prototype.execute=function(){if(this.onGoingTransactionNewState===nr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=nr.UNKNOWN,this.directTransition(e)},s.prototype.cancel=function(){if(this.onGoingTransactionNewState===nr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=nr.UNKNOWN},s.prototype.getState=function(){return this.state},s.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==nr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},s.prototype.validateTransition=function(e){switch(this.state){case nr.UNKNOWN:throw"Transition from unknown is not allowed";case nr.NOT_STARTED:this.failIfNewStateIs(e,[nr.PAUSED]);break;case nr.SCANNING:break;case nr.PAUSED:break}},s.prototype.failIfNewStateIs=function(e,n){for(var l=0,c=n;l<c.length;l++){var f=c[l];if(e===f)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},s}(),hC=function(){function s(e){this.stateManager=e}return s.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},s.prototype.directTransition=function(e){this.stateManager.directTransition(e)},s.prototype.getState=function(){return this.stateManager.getState()},s.prototype.canScanFile=function(){return this.stateManager.getState()===nr.NOT_STARTED},s.prototype.isScanning=function(){return this.stateManager.getState()!==nr.NOT_STARTED},s.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===nr.SCANNING},s.prototype.isPaused=function(){return this.stateManager.getState()===nr.PAUSED},s}(),fC=function(){function s(){}return s.create=function(){return new hC(new cC)},s}(),dC=function(){var s=function(e,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},s(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");s(e,n);function l(){this.constructor=e}e.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),ls=function(s){dC(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Ws),pC=function(){function s(e,n){this.logger=n,this.fps=ls.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=ls.DEFAULT_DISABLE_FLIP}return s.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?m2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},s.prototype.isShadedBoxEnabled=function(){return!po(this.qrbox)},s.create=function(e,n){return new s(e,n)},s}(),ig=function(){function s(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var l;typeof n=="boolean"?this.verbose=n===!0:n&&(l=n,this.verbose=l.verbose===!0,l.experimentalFeatures),this.logger=new g2(this.verbose),this.qrcode=new JA(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(l),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=fC.create()}return s.prototype.start=function(e,n,l,c){var f=this;if(!e)throw"cameraIdOrConfig is required";if(!l||typeof l!="function")throw"qrCodeSuccessCallback is required and should be a function.";var y;c?y=c:y=this.verbose?this.logger.log:function(){};var x=pC.create(n,this.logger);this.clearElement();var v=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=v,S=document.getElementById(this.elementId);S.clientWidth?S.clientWidth:ls.DEFAULT_WIDTH,S.style.position="relative",this.shouldScan=!0,this.element=S;var N=this,k=this.stateManagerProxy.startTransition(nr.SCANNING);return new Promise(function(U,z){var $=w?x.videoConstraints:N.createVideoConstraints(e);if(!$){k.cancel(),z("videoConstraints should be defined");return}var q={};(!w||x.aspectRatio)&&(q.aspectRatio=x.aspectRatio);var j={onRenderSurfaceReady:function(Q,J){N.setupUi(Q,J,x),N.isScanning=!0,N.foreverScan(x,l,y)}};oC.failIfNotSupported().then(function(Q){Q.create($).then(function(J){return J.render(f.element,q,j).then(function(se){N.renderedCamera=se,k.execute(),U(null)}).catch(function(se){k.cancel(),z(se)})}).catch(function(J){k.cancel(),z(Tl.errorGettingUserMedia(J))})}).catch(function(Q){k.cancel(),z(Tl.cameraStreamingNotSupported())})})},s.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(nr.PAUSED),this.showPausedState(),(po(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},s.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(nr.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},s.prototype.getState=function(){return this.stateManagerProxy.getState()},s.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(nr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var l=function(){if(e.element){var f=document.getElementById(ls.SHADED_REGION_ELEMENT_ID);f&&e.element.removeChild(f)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),l(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),n.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},s.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(l){return l.decodedText})},s.prototype.scanFileV2=function(e,n){var l=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(po(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,f){l.possiblyCloseLastScanImageFile(),l.clearElement(),l.lastScanImageFile=URL.createObjectURL(e);var y=new Image;y.onload=function(){var x=y.width,v=y.height,w=document.getElementById(l.elementId),S=w.clientWidth?w.clientWidth:ls.DEFAULT_WIDTH,N=Math.max(w.clientHeight?w.clientHeight:v,ls.FILE_SCAN_MIN_HEIGHT),k=l.computeCanvasDrawConfig(x,v,S,N);if(n){var U=l.createCanvasElement(S,N,"qr-canvas-visible");U.style.display="inline-block",w.appendChild(U);var z=U.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=S,z.canvas.height=N,z.drawImage(y,0,0,x,v,k.x,k.y,k.width,k.height)}var $=ls.FILE_SCAN_HIDDEN_CANVAS_PADDING,q=Math.max(y.width,k.width),j=Math.max(y.height,k.height),Q=q+2*$,J=j+2*$,se=l.createCanvasElement(Q,J);w.appendChild(se);var Ee=se.getContext("2d");if(!Ee)throw"Unable to get 2d context from canvas";Ee.canvas.width=Q,Ee.canvas.height=J,Ee.drawImage(y,0,0,x,v,$,$,q,j);try{l.qrcode.decodeRobustlyAsync(se).then(function(Te){c(Kp.createFromQrcodeResult(Te))}).catch(f)}catch(Te){f("QR code parse error, error = ".concat(Te))}},y.onerror=f,y.onabort=f,y.onstalled=f,y.onsuspend=f,y.src=URL.createObjectURL(e)})},s.prototype.clear=function(){this.clearElement()},s.getCameras=function(){return uC.retrieve()},s.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},s.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},s.prototype.applyVideoConstraints=function(e){if(e){if(!m2.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},s.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},s.prototype.getSupportedFormats=function(e){var n=[Je.QR_CODE,Je.AZTEC,Je.CODABAR,Je.CODE_39,Je.CODE_93,Je.CODE_128,Je.DATA_MATRIX,Je.MAXICODE,Je.ITF,Je.EAN_13,Je.EAN_8,Je.PDF_417,Je.RSS_14,Je.RSS_EXPANDED,Je.UPC_A,Je.UPC_E,Je.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var l=[],c=0,f=e.formatsToSupport;c<f.length;c++){var y=f[c];GA(y)?l.push(y):this.logger.warn("Invalid format: ".concat(y," passed in config, ignoring."))}if(l.length===0)throw"None of formatsToSupport match supported values.";return l},s.prototype.getUseBarCodeDetectorIfSupported=function(e){if(po(e))return!0;if(!po(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(po(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return po(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},s.prototype.validateQrboxSize=function(e,n,l){var c=this,f=l.qrbox;this.validateQrboxConfig(f);var y=this.toQrdimensions(e,n,f),x=function(w){if(w<ls.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ls.MIN_QR_BOX_SIZE,"px.")},v=function(w){return w>e&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=e),w};x(y.width),x(y.height),y.width=v(y.width)},s.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},s.prototype.toQrdimensions=function(e,n,l){if(typeof l=="number")return{width:l,height:l};if(typeof l=="function")try{return l(e,n)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return l},s.prototype.setupUi=function(e,n,l){l.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,l);var c=po(l.qrbox)?{width:e,height:n}:l.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(e,n,c);f.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var y=l.isShadedBoxEnabled()&&f.height<=n,x={x:0,y:0,width:e,height:n},v=y?this.getShadedRegionBounds(e,n,f):x,w=this.createCanvasElement(v.width,v.height),S={willReadFrequently:!0},N=w.getContext("2d",S);N.canvas.width=v.width,N.canvas.height=v.height,this.element.append(w),y&&this.possiblyInsertShadingElement(this.element,e,n,f),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=N,this.canvasElement=w},s.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Tl.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},s.prototype.scanContext=function(e,n){var l=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return e(c.text,Kp.createFromQrcodeResult(c)),l.possiblyUpdateShaders(!0),!0}).catch(function(c){l.possiblyUpdateShaders(!1);var f=Tl.codeParseError(c);return n(f,p2.createFrom(f)),!1})},s.prototype.foreverScan=function(e,n,l){var c=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),y=f.videoWidth/f.clientWidth,x=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*y,w=this.qrRegion.height*x,S=this.qrRegion.x*y,N=this.qrRegion.y*x;this.context.drawImage(f,S,N,v,w,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(e,n,l)},c.getTimeoutFps(e.fps))};this.scanContext(n,l).then(function(U){!U&&e.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(n,l).finally(function(){k()})):k()}).catch(function(U){c.logger.logError("Error happend while scanning context",U),k()})}},s.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",l="deviceId",c={user:!0,environment:!0},f="exact",y=function(z){if(z in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(z,"'")},x=Object.keys(e);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var v=Object.keys(e)[0];if(v!==n&&v!==l)throw"Only '".concat(n,"' and '").concat(l,"' ")+" are supported for 'cameraIdOrConfig'";if(v===n){var w=e.facingMode;if(typeof w=="string"){if(y(w))return{facingMode:w}}else if(typeof w=="object")if(f in w){if(y(w["".concat(f)]))return{facingMode:{exact:w["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var S=typeof w;throw"Invalid type of 'facingMode' = ".concat(S)}}else{var N=e.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(f in N)return{deviceId:{exact:N["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var k=typeof N;throw"Invalid type of 'deviceId' = ".concat(k)}}}var U=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(U)},s.prototype.computeCanvasDrawConfig=function(e,n,l,c){if(e<=l&&n<=c){var f=(l-e)/2,y=(c-n)/2;return{x:f,y,width:e,height:n}}else{var x=e,v=n;return e>l&&(n=l/e*n,e=l),n>c&&(e=c/n*e,n=c),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(v)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,l,c)}},s.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},s.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?ls.BORDER_SHADER_MATCH_COLOR:ls.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},s.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},s.prototype.createCanvasElement=function(e,n,l){var c=e,f=n,y=document.createElement("canvas");return y.style.width="".concat(c,"px"),y.style.height="".concat(f,"px"),y.style.display="none",y.id=po(l)?"qr-canvas":l,y},s.prototype.getShadedRegionBounds=function(e,n,l){if(l.width>e||l.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-l.width)/2,y:(n-l.height)/2,width:l.width,height:l.height}},s.prototype.possiblyInsertShadingElement=function(e,n,l,c){if(!(n-c.width<1||l-c.height<1)){var f=document.createElement("div");f.style.position="absolute";var y=(n-c.width)/2,x=(l-c.height)/2;if(f.style.borderLeft="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(ls.SHADED_REGION_ELEMENT_ID),n-c.width<11||l-c.height<11)this.hasBorderShaders=!1;else{var v=5,w=40;this.insertShaderBorders(f,w,v,-v,null,0,!0),this.insertShaderBorders(f,w,v,-v,null,0,!1),this.insertShaderBorders(f,w,v,null,-v,0,!0),this.insertShaderBorders(f,w,v,null,-v,0,!1),this.insertShaderBorders(f,v,w+v,-v,null,-v,!0),this.insertShaderBorders(f,v,w+v,null,-v,-v,!0),this.insertShaderBorders(f,v,w+v,-v,null,-v,!1),this.insertShaderBorders(f,v,w+v,null,-v,-v,!1),this.hasBorderShaders=!0}e.append(f)}},s.prototype.insertShaderBorders=function(e,n,l,c,f,y,x){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=ls.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(n,"px"),v.style.height="".concat(l,"px"),c!==null&&(v.style.top="".concat(c,"px")),f!==null&&(v.style.bottom="".concat(f,"px")),x?v.style.left="".concat(y,"px"):v.style.right="".concat(y,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),e.appendChild(v)},s.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},s.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},s.prototype.getTimeoutFps=function(e){return 1e3/e},s}(),g1="data:image/svg+xml;base64,",gC=g1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",mC=g1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",sg=g1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",yC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",og=function(){function s(){}return s.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},s}(),EC=function(){function s(){this.data=og.createDefault();var e=localStorage.getItem(s.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return s.prototype.hasCameraPermissions=function(){return this.data.hasPermission},s.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},s.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},s.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},s.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},s.prototype.reset=function(){this.data=og.createDefault(),this.flush()},s.prototype.flush=function(){localStorage.setItem(s.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},s.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",s}(),wC=function(){function s(){this.infoDiv=document.createElement("div")}return s.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Qp.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var l=document.createElement("br"),c=document.createElement("br");this.infoDiv.appendChild(l),this.infoDiv.appendChild(c);var f=document.createElement("a");f.innerText=Qp.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),e.appendChild(this.infoDiv)},s.prototype.show=function(){this.infoDiv.style.display="block"},s.prototype.hide=function(){this.infoDiv.style.display="none"},s}(),_C=function(){function s(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return s.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=sg,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(l){return n.onHoverIn()},this.infoIcon.onmouseout=function(l){return n.onHoverOut()},this.infoIcon.onclick=function(l){return n.onClick()},e.appendChild(this.infoIcon)},s.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},s.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},s.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=yC,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=sg,this.infoIcon.style.opacity="0.6")},s}(),xC=function(){function s(){var e=this;this.infoDiv=new wC,this.infoIcon=new _C(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return s.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},s}(),vC=function(s,e,n,l){function c(f){return f instanceof n?f:new n(function(y){y(f)})}return new(n||(n=Promise))(function(f,y){function x(S){try{w(l.next(S))}catch(N){y(N)}}function v(S){try{w(l.throw(S))}catch(N){y(N)}}function w(S){S.done?f(S.value):c(S.value).then(x,v)}w((l=l.apply(s,e||[])).next())})},AC=function(s,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,y;return y={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function x(w){return function(S){return v([w,S])}}function v(w){if(l)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(n=0)),n;)try{if(l=1,c&&(f=w[0]&2?c.return:w[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,w[1])).done)return f;switch(c=0,f&&(w=[w[0]&2,f.value]),w[0]){case 0:case 1:f=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,c=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!f||w[1]>f[0]&&w[1]<f[3])){n.label=w[1];break}if(w[0]===6&&n.label<f[1]){n.label=f[1],f=w;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(w);break}f[2]&&n.ops.pop(),n.trys.pop();continue}w=e.call(s,n)}catch(S){w=[6,S],c=0}finally{l=f=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},ag=function(){function s(){}return s.hasPermissions=function(){return vC(this,void 0,void 0,function(){var e,n,l,c;return AC(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=f.sent(),n=0,l=e;n<l.length;n++)if(c=l[n],c.kind==="videoinput"&&c.label)return[2,!0];return[2,!1]}})})},s}(),da=function(){function s(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return s.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},s.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},s.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var l=n[e];if(s.isCameraScanType(l))return!0}return!1},s.isCameraScanType=function(e){return e===xa.SCAN_TYPE_CAMERA},s.isFileScanType=function(e){return e===xa.SCAN_TYPE_FILE},s.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Ws.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Ws.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var l=0,c=e;l<c.length;l++){var f=c[l];if(!Ws.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return e},s}(),cs=function(){function s(){}return s.ALL_ELEMENT_CLASS="html5-qrcode-element",s.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",s.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",s.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",s.TORCH_BUTTON_ID="html5-qrcode-button-torch",s.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",s.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",s.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",s.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",s.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",s.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",s}(),Fo=function(){function s(){}return s.createElement=function(e,n){var l=document.createElement(e);return l.id=n,l.classList.add(cs.ALL_ELEMENT_CLASS),e==="button"&&l.setAttribute("type","button"),l},s}(),E2=function(s,e,n,l){function c(f){return f instanceof n?f:new n(function(y){y(f)})}return new(n||(n=Promise))(function(f,y){function x(S){try{w(l.next(S))}catch(N){y(N)}}function v(S){try{w(l.throw(S))}catch(N){y(N)}}function w(S){S.done?f(S.value):c(S.value).then(x,v)}w((l=l.apply(s,e||[])).next())})},w2=function(s,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,c,f,y;return y={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function x(w){return function(S){return v([w,S])}}function v(w){if(l)throw new TypeError("Generator is already executing.");for(;y&&(y=0,w[0]&&(n=0)),n;)try{if(l=1,c&&(f=w[0]&2?c.return:w[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,w[1])).done)return f;switch(c=0,f&&(w=[w[0]&2,f.value]),w[0]){case 0:case 1:f=w;break;case 4:return n.label++,{value:w[1],done:!1};case 5:n.label++,c=w[1],w=[0];continue;case 7:w=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(w[0]===6||w[0]===2)){n=0;continue}if(w[0]===3&&(!f||w[1]>f[0]&&w[1]<f[3])){n.label=w[1];break}if(w[0]===6&&n.label<f[1]){n.label=f[1],f=w;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(w);break}f[2]&&n.ops.pop(),n.trys.pop();continue}w=e.call(s,n)}catch(S){w=[6,S],c=0}finally{l=f=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},lg=function(){function s(e,n,l){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=l}return s.prototype.isTorchEnabled=function(){return this.isTorchOn},s.prototype.flipState=function(){return E2(this,void 0,void 0,function(){var e,n;return w2(this,function(l){switch(l.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return l.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=l.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},s.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?pn.torchOffButton():pn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},s.prototype.propagateFailure=function(e,n){var l=e?pn.torchOnFailedMessage():pn.torchOffFailedMessage();n&&(l+="; Error = "+n),this.onTorchActionFailureCallback(l)},s.prototype.reset=function(){this.isTorchOn=!1},s}(),CC=function(){function s(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Fo.createElement("button",cs.TORCH_BUTTON_ID),this.torchController=new lg(e,this,n)}return s.prototype.render=function(e,n){var l=this;this.torchButton.innerText=pn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var c=this;this.torchButton.addEventListener("click",function(f){return E2(l,void 0,void 0,function(){return w2(this,function(y){switch(y.label){case 0:return[4,c.torchController.flipState()];case 1:return y.sent(),c.torchController.isTorchEnabled()?(c.torchButton.classList.remove(cs.TORCH_BUTTON_CLASS_TORCH_OFF),c.torchButton.classList.add(cs.TORCH_BUTTON_CLASS_TORCH_ON)):(c.torchButton.classList.remove(cs.TORCH_BUTTON_CLASS_TORCH_ON),c.torchButton.classList.add(cs.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},s.prototype.updateTorchCapability=function(e){this.torchController=new lg(e,this,this.onTorchActionFailureCallback)},s.prototype.getTorchButton=function(){return this.torchButton},s.prototype.hide=function(){this.torchButton.style.display="none"},s.prototype.show=function(){this.torchButton.style.display="inline-block"},s.prototype.disable=function(){this.torchButton.disabled=!0},s.prototype.enable=function(){this.torchButton.disabled=!1},s.prototype.setText=function(e){this.torchButton.innerText=e},s.prototype.reset=function(){this.torchButton.innerText=pn.torchOnButton(),this.torchController.reset()},s.create=function(e,n,l,c){var f=new s(n,c);return f.render(e,l),f},s}(),TC=function(){function s(e,n,l){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var c=document.createElement("label");c.setAttribute("for",this.getFileScanInputId()),c.style.display="inline-block",this.fileBasedScanRegion.appendChild(c),this.fileSelectionButton=Fo.createElement("button",cs.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(x){c.click()}),c.append(this.fileSelectionButton),this.fileScanInput=Fo.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",c.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(x){if(!(x==null||x.target==null)){var v=x.target;if(!(v.files&&v.files.length===0)){var w=v.files,S=w[0],N=S.name;f.setImageNameToButton(N),l(S)}}});var y=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(y),this.fileBasedScanRegion.addEventListener("dragenter",function(x){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(x){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(x){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(x){x.stopPropagation(),x.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var v=x.dataTransfer;if(v){var w=v.files;if(!w||w.length===0)return;for(var S=!1,N=0;N<w.length;++N){var k=w.item(N);if(k){var U=/image.*/;if(k.type.match(U)){S=!0;var z=k.name;f.setImageNameToButton(z),l(k),y.innerText=pn.dragAndDropMessage();break}}}S||(y.innerText=pn.dragAndDropMessageOnlyImages())}})}return s.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},s.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},s.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},s.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},s.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},s.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},s.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},s.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=pn.dragAndDropMessage(),e.style.fontWeight="400",e},s.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var l=e.substring(0,8),c=e.length,f=e.substring(c-8,c);e="".concat(l,"....").concat(f)}var y=pn.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=y},s.prototype.setInitialValueToButton=function(){var e=pn.fileSelectionChooseImage()+" - "+pn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},s.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},s.create=function(e,n,l){var c=new s(e,n,l);return c},s}(),IC=function(){function s(e){this.selectElement=Fo.createElement("select",cs.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return s.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var l=this.cameras.length;if(l===0)throw new Error("No cameras found");if(l===1)n.style.display="none";else{var c=pn.selectCamera();n.innerText="".concat(c," (").concat(this.cameras.length,")  ")}for(var f=1,y=0,x=this.cameras;y<x.length;y++){var v=x[y],w=v.id,S=v.label==null?w:v.label;(!S||S==="")&&(S=[pn.anonymousCameraPrefix(),f++].join(" "));var N=document.createElement("option");N.value=w,N.innerText=S,this.options.push(N),this.selectElement.appendChild(N)}n.appendChild(this.selectElement),e.appendChild(n)},s.prototype.disable=function(){this.selectElement.disabled=!0},s.prototype.isDisabled=function(){return this.selectElement.disabled===!0},s.prototype.enable=function(){this.selectElement.disabled=!1},s.prototype.getValue=function(){return this.selectElement.value},s.prototype.hasValue=function(e){for(var n=0,l=this.options;n<l.length;n++){var c=l[n];if(c.value===e)return!0}return!1},s.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},s.prototype.hasSingleItem=function(){return this.cameras.length===1},s.prototype.numCameras=function(){return this.cameras.length},s.create=function(e,n){var l=new s(n);return l.render(e),l},s}(),SC=function(){function s(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Fo.createElement("input",cs.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return s.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var l=pn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(l),this.rangeText.style.marginRight="10px";var c=this;this.rangeInput.addEventListener("input",function(){return c.onValueChange()}),this.rangeInput.addEventListener("change",function(){return c.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},s.prototype.onValueChange=function(){var e=pn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},s.prototype.setValues=function(e,n,l,c){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=c.toString(),this.rangeInput.value=l.toString(),this.onValueChange()},s.prototype.show=function(){this.zoomElementContainer.style.display="block"},s.prototype.hide=function(){this.zoomElementContainer.style.display="none"},s.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},s.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},s.create=function(e,n){var l=new s;return l.render(e,n),l},s}(),us;(function(s){s[s.STATUS_DEFAULT=0]="STATUS_DEFAULT",s[s.STATUS_SUCCESS=1]="STATUS_SUCCESS",s[s.STATUS_WARNING=2]="STATUS_WARNING",s[s.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(us||(us={}));function bC(s){return{fps:s.fps,qrbox:s.qrbox,aspectRatio:s.aspectRatio,disableFlip:s.disableFlip,videoConstraints:s.videoConstraints}}function NC(s,e){return{formatsToSupport:s.formatsToSupport,useBarCodeDetectorIfSupported:s.useBarCodeDetectorIfSupported,experimentalFeatures:s.experimentalFeatures,verbose:e}}var RC=function(){function s(e,n,l){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=l===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new da(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new g2(this.verbose),this.persistedDataManager=new EC,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return s.prototype.render=function(e,n){var l=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,y){if(e)e(f,y);else{if(l.lastMatchFound===f)return;l.lastMatchFound=f,l.setHeaderMessage(pn.lastMatch(f),us.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,y){n&&n(f,y)};var c=document.getElementById(this.elementId);if(!c)throw"HTML Element with id=".concat(this.elementId," not found");c.innerHTML="",this.createBasicLayout(c),this.html5Qrcode=new ig(this.getScanRegionId(),NC(this.config,this.verbose))},s.prototype.pause=function(e){(po(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},s.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},s.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},s.prototype.clear=function(){var e=this,n=function(){var l=document.getElementById(e.elementId);l&&(l.innerHTML="",e.resetBasicLayout(l))};return this.html5Qrcode?new Promise(function(l,c){if(!e.html5Qrcode){l();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(f){if(!e.html5Qrcode){l();return}e.html5Qrcode.clear(),n(),l()}).catch(function(f){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",f),c(f)}):(e.html5Qrcode.clear(),n(),l())}):Promise.resolve()},s.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},s.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},s.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},s.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Ws.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Ws.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Ws.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Ws.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Ws.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ws.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ws.DEFAULT_SUPPORTED_SCAN_TYPE}},s.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),l=this.getScanRegionId();n.id=l,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),da.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var c=document.createElement("div"),f=this.getDashboardId();c.id=f,c.style.width="100%",e.appendChild(c),this.setupInitialDashboard(c)},s.prototype.resetBasicLayout=function(e){e.style.border="none"},s.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},s.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var l=new xC;l.renderInto(n);var c=document.createElement("div");c.id=this.getHeaderMessageContainerId(),c.style.display="none",c.style.textAlign="center",c.style.fontSize="14px",c.style.padding="2px 10px",c.style.margin="4px",c.style.borderTop="1px solid #f6f6f6",n.appendChild(c)},s.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},s.prototype.createCameraListUi=function(e,n,l){var c=this;c.showHideScanTypeSwapLink(!1),c.setHeaderMessage(pn.cameraPermissionRequesting());var f=function(){l||c.createPermissionButton(e,n)};ig.getCameras().then(function(y){c.persistedDataManager.setHasPermission(!0),c.showHideScanTypeSwapLink(!0),c.resetHeaderMessage(),y&&y.length>0?(e.removeChild(n),c.renderCameraSelection(y)):(c.setHeaderMessage(pn.noCameraFound(),us.STATUS_WARNING),f())}).catch(function(y){c.persistedDataManager.setHasPermission(!1),l?l.disabled=!1:f(),c.setHeaderMessage(y,us.STATUS_WARNING),c.showHideScanTypeSwapLink(!0)})},s.prototype.createPermissionButton=function(e,n){var l=this,c=Fo.createElement("button",this.getCameraPermissionButtonId());c.innerText=pn.cameraPermissionTitle(),c.addEventListener("click",function(){c.disabled=!0,l.createCameraListUi(e,n,c)}),n.appendChild(c)},s.prototype.createPermissionsUi=function(e,n){var l=this;if(da.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){ag.hasPermissions().then(function(c){c?l.createCameraListUi(e,n):(l.persistedDataManager.setHasPermission(!1),l.createPermissionButton(e,n))}).catch(function(c){l.persistedDataManager.setHasPermission(!1),l.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},s.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var l=document.createElement("div");l.id=this.getDashboardSectionCameraScanRegionId(),l.style.display=da.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(l);var c=document.createElement("div");c.style.textAlign="center",l.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(l,c),this.renderFileScanUi(n)},s.prototype.renderFileScanUi=function(e){var n=da.isFileScanType(this.currentScanType),l=this,c=function(f){if(!l.html5Qrcode)throw"html5Qrcode not defined";da.isFileScanType(l.currentScanType)&&(l.setHeaderMessage(pn.loadingImage()),l.html5Qrcode.scanFileV2(f,!0).then(function(y){l.resetHeaderMessage(),l.qrCodeSuccessCallback(y.decodedText,y)}).catch(function(y){l.setHeaderMessage(y,us.STATUS_WARNING),l.qrCodeErrorCallback(y,p2.createFrom(y))}))};this.fileSelectionUi=TC.create(e,n,c)},s.prototype.renderCameraSelection=function(e){var n=this,l=this,c=document.getElementById(this.getDashboardSectionCameraScanRegionId());c.style.textAlign="center";var f=SC.create(c,!1),y=function($){var q=$.zoomFeature();if(q.isSupported()){f.setOnCameraZoomValueChangeCallback(function(Q){q.apply(Q)});var j=1;n.config.defaultZoomValueIfSupported&&(j=n.config.defaultZoomValueIfSupported),j=YA(j,q.min(),q.max()),f.setValues(q.min(),q.max(),j,q.step()),f.show()}},x=IC.create(c,e),v=document.createElement("span"),w=Fo.createElement("button",cs.CAMERA_START_BUTTON_ID);w.innerText=pn.scanButtonStartScanningText(),v.appendChild(w);var S=Fo.createElement("button",cs.CAMERA_STOP_BUTTON_ID);S.innerText=pn.scanButtonStopScanningText(),S.style.display="none",S.disabled=!0,v.appendChild(S);var N,k=function($){if(!$.torchFeature().isSupported()){N&&N.hide();return}N?N.updateTorchCapability($.torchFeature()):N=CC.create(v,$.torchFeature(),{display:"none",marginLeft:"5px"},function(q){l.setHeaderMessage(q,us.STATUS_WARNING)}),N.show()};c.appendChild(v);var U=function($){$||(w.style.display="none"),w.innerText=pn.scanButtonStartScanningText(),w.style.opacity="1",w.disabled=!1,$&&(w.style.display="inline-block")};if(w.addEventListener("click",function($){w.innerText=pn.scanButtonScanningStarting(),x.disable(),w.disabled=!0,w.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&l.showHideScanTypeSwapLink(!1),l.resetHeaderMessage();var q=x.getValue();l.persistedDataManager.setLastUsedCameraId(q),l.html5Qrcode.start(q,bC(l.config),l.qrCodeSuccessCallback,l.qrCodeErrorCallback).then(function(j){S.disabled=!1,S.style.display="inline-block",U(!1);var Q=l.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&k(Q),n.config.showZoomSliderIfSupported===!0&&y(Q)}).catch(function(j){l.showHideScanTypeSwapLink(!0),x.enable(),U(!0),l.setHeaderMessage(j,us.STATUS_WARNING)})}),x.hasSingleItem()&&w.click(),S.addEventListener("click",function($){if(!l.html5Qrcode)throw"html5Qrcode not defined";S.disabled=!0,l.html5Qrcode.stop().then(function(q){n.scanTypeSelector.hasMoreThanOneScanType()&&l.showHideScanTypeSwapLink(!0),x.enable(),w.disabled=!1,S.style.display="none",w.style.display="inline-block",N&&(N.reset(),N.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),l.insertCameraScanImageToScanRegion()}).catch(function(q){S.disabled=!1,l.setHeaderMessage(q,us.STATUS_WARNING)})}),l.persistedDataManager.getLastUsedCameraId()){var z=l.persistedDataManager.getLastUsedCameraId();x.hasValue(z)?(x.setValue(z),w.click()):l.persistedDataManager.resetLastUsedCameraId()}},s.prototype.createSectionSwap=function(){var e=this,n=pn.textIfCameraScanSelected(),l=pn.textIfFileScanSelected(),c=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var y=Fo.createElement("span",this.getDashboardSectionSwapLinkId());y.style.textDecoration="underline",y.style.cursor="pointer",y.innerText=da.isCameraScanType(this.currentScanType)?n:l,y.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,da.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),y.innerText=l,e.currentScanType=xa.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),y.innerText=n,e.currentScanType=xa.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),f.appendChild(y),c.appendChild(f)},s.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){ag.hasPermissions().then(function(l){if(l){var c=document.getElementById(n.getCameraPermissionButtonId());if(!c)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";c.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(l){n.persistedDataManager.setHasPermission(!1)});return}},s.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},s.prototype.setHeaderMessage=function(e,n){n||(n=us.STATUS_DEFAULT);var l=this.getHeaderMessageDiv();switch(l.innerText=e,l.style.display="block",n){case us.STATUS_SUCCESS:l.style.background="rgba(106, 175, 80, 0.26)",l.style.color="#477735";break;case us.STATUS_WARNING:l.style.background="rgba(203, 36, 49, 0.14)",l.style.color="#cb2431";break;case us.STATUS_DEFAULT:default:l.style.background="rgba(0, 0, 0, 0)",l.style.color="rgb(17, 17, 17)";break}},s.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},s.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(l){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=gC,this.cameraScanImage.alt=pn.cameraScanAltText()},s.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(l){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=mC,this.fileScanImage.alt=pn.fileScanAltText()},s.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},s.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},s.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},s.prototype.getDashboardSectionSwapLinkId=function(){return cs.SCAN_TYPE_CHANGE_ANCHOR_ID},s.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},s.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},s.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},s.prototype.getCameraPermissionButtonId=function(){return cs.CAMERA_PERMISSION_BUTTON_ID},s.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},s.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},s.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},s}();const _2=()=>{const[s,e]=Se.useState(null),n=Yu();return Se.useEffect(()=>{const l=new RC("reader",{qrbox:{width:250,height:250},fps:3});l.render(c,f);function c(y){l.clear(),e(y)}function f(y){console.warn(y)}},[]),Ce.jsx("div",{className:"container py-5",children:s?Ce.jsxs("div",{className:"text-center",children:[Ce.jsxs("div",{className:"alert alert-success",role:"alert",children:[Ce.jsx("strong",{children:"Reading Successful!"}),Ce.jsxs("p",{children:["Scanned URL: ",Ce.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:s})]})]}),Ce.jsxs("div",{className:"d-flex justify-content-center gap-3 mt-3",children:[Ce.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{n("/qrreader")},children:"Scan Again"}),Ce.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{n("/header")},children:"QR Generator"})]})]}):Ce.jsx("div",{className:"d-flex justify-content-center",children:Ce.jsx("div",{id:"reader",className:"border p-3 rounded"})})})};var xl={},ad={exports:{}},ld,ug;function OC(){if(ug)return ld;ug=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ld=s,ld}var ud,cg;function DC(){if(cg)return ud;cg=1;var s=OC();function e(){}function n(){}return n.resetWarningCache=e,ud=function(){function l(y,x,v,w,S,N){if(N!==s){var k=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw k.name="Invariant Violation",k}}l.isRequired=l;function c(){return l}var f={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:c,element:l,elementType:l,instanceOf:c,node:l,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:n,resetWarningCache:e};return f.PropTypes=f,f},ud}var hg;function x2(){return hg||(hg=1,ad.exports=DC()()),ad.exports}var cd,fg;function v2(){return fg||(fg=1,cd={L:1,M:0,Q:3,H:2}),cd}var hd,dg;function A2(){return dg||(dg=1,hd={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),hd}var fd,pg;function MC(){if(pg)return fd;pg=1;var s=A2();function e(n){this.mode=s.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var l=0;l<this.data.length;l++)n.put(this.data.charCodeAt(l),8)}},fd=e,fd}var dd,gg;function LC(){if(gg)return dd;gg=1;var s=v2();function e(n,l){this.totalCount=n,this.dataCount=l}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,l){var c=e.getRsBlockTable(n,l);if(c==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+l);for(var f=c.length/3,y=new Array,x=0;x<f;x++)for(var v=c[x*3+0],w=c[x*3+1],S=c[x*3+2],N=0;N<v;N++)y.push(new e(w,S));return y},e.getRsBlockTable=function(n,l){switch(l){case s.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case s.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case s.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case s.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},dd=e,dd}var pd,mg;function PC(){if(mg)return pd;mg=1;function s(){this.buffer=new Array,this.length=0}return s.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var l=0;l<n;l++)this.putBit((e>>>n-l-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},pd=s,pd}var gd,yg;function C2(){if(yg)return gd;yg=1;for(var s={glog:function(n){if(n<1)throw new Error("glog("+n+")");return s.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return s.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)s.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)s.EXP_TABLE[e]=s.EXP_TABLE[e-4]^s.EXP_TABLE[e-5]^s.EXP_TABLE[e-6]^s.EXP_TABLE[e-8];for(var e=0;e<255;e++)s.LOG_TABLE[s.EXP_TABLE[e]]=e;return gd=s,gd}var md,Eg;function T2(){if(Eg)return md;Eg=1;var s=C2();function e(n,l){if(n.length==null)throw new Error(n.length+"/"+l);for(var c=0;c<n.length&&n[c]==0;)c++;this.num=new Array(n.length-c+l);for(var f=0;f<n.length-c;f++)this.num[f]=n[f+c]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var l=new Array(this.getLength()+n.getLength()-1),c=0;c<this.getLength();c++)for(var f=0;f<n.getLength();f++)l[c+f]^=s.gexp(s.glog(this.get(c))+s.glog(n.get(f)));return new e(l,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var l=s.glog(this.get(0))-s.glog(n.get(0)),c=new Array(this.getLength()),f=0;f<this.getLength();f++)c[f]=this.get(f);for(var f=0;f<n.getLength();f++)c[f]^=s.gexp(s.glog(n.get(f))+l);return new e(c,0).mod(n)}},md=e,md}var yd,wg;function kC(){if(wg)return yd;wg=1;var s=A2(),e=T2(),n=C2(),l={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},c={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(f){for(var y=f<<10;c.getBCHDigit(y)-c.getBCHDigit(c.G15)>=0;)y^=c.G15<<c.getBCHDigit(y)-c.getBCHDigit(c.G15);return(f<<10|y)^c.G15_MASK},getBCHTypeNumber:function(f){for(var y=f<<12;c.getBCHDigit(y)-c.getBCHDigit(c.G18)>=0;)y^=c.G18<<c.getBCHDigit(y)-c.getBCHDigit(c.G18);return f<<12|y},getBCHDigit:function(f){for(var y=0;f!=0;)y++,f>>>=1;return y},getPatternPosition:function(f){return c.PATTERN_POSITION_TABLE[f-1]},getMask:function(f,y,x){switch(f){case l.PATTERN000:return(y+x)%2==0;case l.PATTERN001:return y%2==0;case l.PATTERN010:return x%3==0;case l.PATTERN011:return(y+x)%3==0;case l.PATTERN100:return(Math.floor(y/2)+Math.floor(x/3))%2==0;case l.PATTERN101:return y*x%2+y*x%3==0;case l.PATTERN110:return(y*x%2+y*x%3)%2==0;case l.PATTERN111:return(y*x%3+(y+x)%2)%2==0;default:throw new Error("bad maskPattern:"+f)}},getErrorCorrectPolynomial:function(f){for(var y=new e([1],0),x=0;x<f;x++)y=y.multiply(new e([1,n.gexp(x)],0));return y},getLengthInBits:function(f,y){if(1<=y&&y<10)switch(f){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:return 8;case s.MODE_KANJI:return 8;default:throw new Error("mode:"+f)}else if(y<27)switch(f){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+f)}else if(y<41)switch(f){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+f)}else throw new Error("type:"+y)},getLostPoint:function(f){for(var y=f.getModuleCount(),x=0,v=0;v<y;v++)for(var w=0;w<y;w++){for(var S=0,N=f.isDark(v,w),k=-1;k<=1;k++)if(!(v+k<0||y<=v+k))for(var U=-1;U<=1;U++)w+U<0||y<=w+U||k==0&&U==0||N==f.isDark(v+k,w+U)&&S++;S>5&&(x+=3+S-5)}for(var v=0;v<y-1;v++)for(var w=0;w<y-1;w++){var z=0;f.isDark(v,w)&&z++,f.isDark(v+1,w)&&z++,f.isDark(v,w+1)&&z++,f.isDark(v+1,w+1)&&z++,(z==0||z==4)&&(x+=3)}for(var v=0;v<y;v++)for(var w=0;w<y-6;w++)f.isDark(v,w)&&!f.isDark(v,w+1)&&f.isDark(v,w+2)&&f.isDark(v,w+3)&&f.isDark(v,w+4)&&!f.isDark(v,w+5)&&f.isDark(v,w+6)&&(x+=40);for(var w=0;w<y;w++)for(var v=0;v<y-6;v++)f.isDark(v,w)&&!f.isDark(v+1,w)&&f.isDark(v+2,w)&&f.isDark(v+3,w)&&f.isDark(v+4,w)&&!f.isDark(v+5,w)&&f.isDark(v+6,w)&&(x+=40);for(var $=0,w=0;w<y;w++)for(var v=0;v<y;v++)f.isDark(v,w)&&$++;var q=Math.abs(100*$/y/y-50)/5;return x+=q*10,x}};return yd=c,yd}var Ed,_g;function BC(){if(_g)return Ed;_g=1;var s=MC(),e=LC(),n=PC(),l=kC(),c=T2();function f(x,v){this.typeNumber=x,this.errorCorrectLevel=v,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var y=f.prototype;return y.addData=function(x){var v=new s(x);this.dataList.push(v),this.dataCache=null},y.isDark=function(x,v){if(x<0||this.moduleCount<=x||v<0||this.moduleCount<=v)throw new Error(x+","+v);return this.modules[x][v]},y.getModuleCount=function(){return this.moduleCount},y.make=function(){if(this.typeNumber<1){var x=1;for(x=1;x<40;x++){for(var v=e.getRSBlocks(x,this.errorCorrectLevel),w=new n,S=0,N=0;N<v.length;N++)S+=v[N].dataCount;for(var N=0;N<this.dataList.length;N++){var k=this.dataList[N];w.put(k.mode,4),w.put(k.getLength(),l.getLengthInBits(k.mode,x)),k.write(w)}if(w.getLengthInBits()<=S*8)break}this.typeNumber=x}this.makeImpl(!1,this.getBestMaskPattern())},y.makeImpl=function(x,v){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var w=0;w<this.moduleCount;w++){this.modules[w]=new Array(this.moduleCount);for(var S=0;S<this.moduleCount;S++)this.modules[w][S]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(x,v),this.typeNumber>=7&&this.setupTypeNumber(x),this.dataCache==null&&(this.dataCache=f.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,v)},y.setupPositionProbePattern=function(x,v){for(var w=-1;w<=7;w++)if(!(x+w<=-1||this.moduleCount<=x+w))for(var S=-1;S<=7;S++)v+S<=-1||this.moduleCount<=v+S||(0<=w&&w<=6&&(S==0||S==6)||0<=S&&S<=6&&(w==0||w==6)||2<=w&&w<=4&&2<=S&&S<=4?this.modules[x+w][v+S]=!0:this.modules[x+w][v+S]=!1)},y.getBestMaskPattern=function(){for(var x=0,v=0,w=0;w<8;w++){this.makeImpl(!0,w);var S=l.getLostPoint(this);(w==0||x>S)&&(x=S,v=w)}return v},y.createMovieClip=function(x,v,w){var S=x.createEmptyMovieClip(v,w),N=1;this.make();for(var k=0;k<this.modules.length;k++)for(var U=k*N,z=0;z<this.modules[k].length;z++){var $=z*N,q=this.modules[k][z];q&&(S.beginFill(0,100),S.moveTo($,U),S.lineTo($+N,U),S.lineTo($+N,U+N),S.lineTo($,U+N),S.endFill())}return S},y.setupTimingPattern=function(){for(var x=8;x<this.moduleCount-8;x++)this.modules[x][6]==null&&(this.modules[x][6]=x%2==0);for(var v=8;v<this.moduleCount-8;v++)this.modules[6][v]==null&&(this.modules[6][v]=v%2==0)},y.setupPositionAdjustPattern=function(){for(var x=l.getPatternPosition(this.typeNumber),v=0;v<x.length;v++)for(var w=0;w<x.length;w++){var S=x[v],N=x[w];if(this.modules[S][N]==null)for(var k=-2;k<=2;k++)for(var U=-2;U<=2;U++)k==-2||k==2||U==-2||U==2||k==0&&U==0?this.modules[S+k][N+U]=!0:this.modules[S+k][N+U]=!1}},y.setupTypeNumber=function(x){for(var v=l.getBCHTypeNumber(this.typeNumber),w=0;w<18;w++){var S=!x&&(v>>w&1)==1;this.modules[Math.floor(w/3)][w%3+this.moduleCount-8-3]=S}for(var w=0;w<18;w++){var S=!x&&(v>>w&1)==1;this.modules[w%3+this.moduleCount-8-3][Math.floor(w/3)]=S}},y.setupTypeInfo=function(x,v){for(var w=this.errorCorrectLevel<<3|v,S=l.getBCHTypeInfo(w),N=0;N<15;N++){var k=!x&&(S>>N&1)==1;N<6?this.modules[N][8]=k:N<8?this.modules[N+1][8]=k:this.modules[this.moduleCount-15+N][8]=k}for(var N=0;N<15;N++){var k=!x&&(S>>N&1)==1;N<8?this.modules[8][this.moduleCount-N-1]=k:N<9?this.modules[8][15-N-1+1]=k:this.modules[8][15-N-1]=k}this.modules[this.moduleCount-8][8]=!x},y.mapData=function(x,v){for(var w=-1,S=this.moduleCount-1,N=7,k=0,U=this.moduleCount-1;U>0;U-=2)for(U==6&&U--;;){for(var z=0;z<2;z++)if(this.modules[S][U-z]==null){var $=!1;k<x.length&&($=(x[k]>>>N&1)==1);var q=l.getMask(v,S,U-z);q&&($=!$),this.modules[S][U-z]=$,N--,N==-1&&(k++,N=7)}if(S+=w,S<0||this.moduleCount<=S){S-=w,w=-w;break}}},f.PAD0=236,f.PAD1=17,f.createData=function(x,v,w){for(var S=e.getRSBlocks(x,v),N=new n,k=0;k<w.length;k++){var U=w[k];N.put(U.mode,4),N.put(U.getLength(),l.getLengthInBits(U.mode,x)),U.write(N)}for(var z=0,k=0;k<S.length;k++)z+=S[k].dataCount;if(N.getLengthInBits()>z*8)throw new Error("code length overflow. ("+N.getLengthInBits()+">"+z*8+")");for(N.getLengthInBits()+4<=z*8&&N.put(0,4);N.getLengthInBits()%8!=0;)N.putBit(!1);for(;!(N.getLengthInBits()>=z*8||(N.put(f.PAD0,8),N.getLengthInBits()>=z*8));)N.put(f.PAD1,8);return f.createBytes(N,S)},f.createBytes=function(x,v){for(var w=0,S=0,N=0,k=new Array(v.length),U=new Array(v.length),z=0;z<v.length;z++){var $=v[z].dataCount,q=v[z].totalCount-$;S=Math.max(S,$),N=Math.max(N,q),k[z]=new Array($);for(var j=0;j<k[z].length;j++)k[z][j]=255&x.buffer[j+w];w+=$;var Q=l.getErrorCorrectPolynomial(q),J=new c(k[z],Q.getLength()-1),se=J.mod(Q);U[z]=new Array(Q.getLength()-1);for(var j=0;j<U[z].length;j++){var Ee=j+se.getLength()-U[z].length;U[z][j]=Ee>=0?se.get(Ee):0}}for(var Te=0,j=0;j<v.length;j++)Te+=v[j].totalCount;for(var H=new Array(Te),F=0,j=0;j<S;j++)for(var z=0;z<v.length;z++)j<k[z].length&&(H[F++]=k[z][j]);for(var j=0;j<N;j++)for(var z=0;z<v.length;z++)j<U[z].length&&(H[F++]=U[z][j]);return H},Ed=f,Ed}var Jc={},xg;function FC(){if(xg)return Jc;xg=1,Object.defineProperty(Jc,"__esModule",{value:!0});var s=Object.assign||function(w){for(var S=1;S<arguments.length;S++){var N=arguments[S];for(var k in N)Object.prototype.hasOwnProperty.call(N,k)&&(w[k]=N[k])}return w},e=x2(),n=f(e),l=Hu(),c=f(l);function f(w){return w&&w.__esModule?w:{default:w}}function y(w,S){var N={};for(var k in w)S.indexOf(k)>=0||Object.prototype.hasOwnProperty.call(w,k)&&(N[k]=w[k]);return N}var x={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},v=(0,l.forwardRef)(function(w,S){var N=w.bgColor,k=w.bgD,U=w.fgD,z=w.fgColor,$=w.size,q=w.title,j=w.viewBoxSize,Q=w.xmlns,J=Q===void 0?"http://www.w3.org/2000/svg":Q,se=y(w,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return c.default.createElement("svg",s({},se,{height:$,ref:S,viewBox:"0 0 "+j+" "+j,width:$,xmlns:J}),q?c.default.createElement("title",null,q):null,c.default.createElement("path",{d:k,fill:N}),c.default.createElement("path",{d:U,fill:z}))});return v.displayName="QRCodeSvg",v.propTypes=x,Jc.default=v,Jc}var vg;function VC(){if(vg)return xl;vg=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.QRCode=void 0;var s=Object.assign||function($){for(var q=1;q<arguments.length;q++){var j=arguments[q];for(var Q in j)Object.prototype.hasOwnProperty.call(j,Q)&&($[Q]=j[Q])}return $},e=x2(),n=N(e),l=v2(),c=N(l),f=BC(),y=N(f),x=Hu(),v=N(x),w=FC(),S=N(w);function N($){return $&&$.__esModule?$:{default:$}}function k($,q){var j={};for(var Q in $)q.indexOf(Q)>=0||Object.prototype.hasOwnProperty.call($,Q)&&(j[Q]=$[Q]);return j}var U={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},z=(0,x.forwardRef)(function($,q){var j=$.bgColor,Q=j===void 0?"#FFFFFF":j,J=$.fgColor,se=J===void 0?"#000000":J,Ee=$.level,Te=Ee===void 0?"L":Ee,H=$.size,F=H===void 0?256:H,D=$.value,X=k($,["bgColor","fgColor","level","size","value"]),G=new y.default(-1,c.default[Te]);G.addData(D),G.make();var ee=G.modules;return v.default.createElement(S.default,s({},X,{bgColor:Q,bgD:ee.map(function(Y,$e){return Y.map(function(he,st){return he?"":"M "+st+" "+$e+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:se,fgD:ee.map(function(Y,$e){return Y.map(function(he,st){return he?"M "+st+" "+$e+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:q,size:F,viewBoxSize:ee.length}))});return xl.QRCode=z,z.displayName="QRCode",z.propTypes=U,xl.default=z,xl}var UC=VC();const jC=Ud(UC),zC=()=>{const[s,e]=Se.useState("");function n(l){e(l.target.value)}return Ce.jsx("div",{className:"generator-container d-flex justify-content-center align-items-center min-vh-100",children:Ce.jsxs("div",{className:"text-center animate__animated animate__fadeIn",children:[Ce.jsx(jC,{value:s,className:"qr-generator mb-3"})," ",Ce.jsx("br",{}),Ce.jsx("label",{className:"h5 mb-2",children:"Enter URL"})," ",Ce.jsx("br",{}),Ce.jsx("input",{type:"text",className:"form-control w-75 mx-auto mt-3",placeholder:"Enter URL to generate code",value:s,onChange:n})]})})},HC=()=>{const[s,e]=Se.useState("qrGen");return Ce.jsxs(Ce.Fragment,{children:[Ce.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-light fixed-top shadow-sm",children:Ce.jsxs("div",{className:"container-fluid",children:[Ce.jsx("a",{className:"navbar-brand",href:"#",children:"Link to QR"}),Ce.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Ce.jsx("span",{className:"navbar-toggler-icon"})}),Ce.jsx("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNavAltMarkup",children:Ce.jsxs("div",{className:"navbar-nav",children:[Ce.jsx("li",{className:"nav-item",children:Ce.jsx("a",{className:`nav-link ${s==="qrGen"?"active":""} cursor-pointer`,onClick:()=>e("qrGen"),children:"QR Generator"})}),Ce.jsx("li",{className:"nav-item",children:Ce.jsx("a",{className:`nav-link ${s==="qrReader"?"active":""} cursor-pointer`,onClick:()=>e("qrReader"),children:"QR Reader"})})]})})]})}),Ce.jsxs("div",{className:"mt-5 pt-5",children:[s==="qrReader"&&Ce.jsx(_2,{}),s==="qrGen"&&Ce.jsx(zC,{})]})]})},WC=()=>Ce.jsxs(NE,{children:[Ce.jsx(Tu,{path:"/",element:Ce.jsx(WA,{})}),Ce.jsx(Tu,{path:"/header",element:Ce.jsx(HC,{})}),Ce.jsx(Tu,{path:"/qrreder",element:Ce.jsx(_2,{})}),Ce.jsx(Tu,{path:"/about",element:Ce.jsx(Xg,{})})]});var lh={exports:{}},Mi="top",hs="bottom",fs="right",Li="left",Vh="auto",Hl=[Mi,hs,fs,Li],el="start",Ml="end",I2="clippingParents",m1="viewport",Cl="popper",S2="reference",Bd=Hl.reduce(function(s,e){return s.concat([e+"-"+el,e+"-"+Ml])},[]),y1=[].concat(Hl,[Vh]).reduce(function(s,e){return s.concat([e,e+"-"+el,e+"-"+Ml])},[]),b2="beforeRead",N2="read",R2="afterRead",O2="beforeMain",D2="main",M2="afterMain",L2="beforeWrite",P2="write",k2="afterWrite",B2=[b2,N2,R2,O2,D2,M2,L2,P2,k2];function wo(s){return s?(s.nodeName||"").toLowerCase():null}function ds(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var e=s.ownerDocument;return e&&e.defaultView||window}return s}function tl(s){var e=ds(s).Element;return s instanceof e||s instanceof Element}function Is(s){var e=ds(s).HTMLElement;return s instanceof e||s instanceof HTMLElement}function E1(s){if(typeof ShadowRoot>"u")return!1;var e=ds(s).ShadowRoot;return s instanceof e||s instanceof ShadowRoot}function GC(s){var e=s.state;Object.keys(e.elements).forEach(function(n){var l=e.styles[n]||{},c=e.attributes[n]||{},f=e.elements[n];!Is(f)||!wo(f)||(Object.assign(f.style,l),Object.keys(c).forEach(function(y){var x=c[y];x===!1?f.removeAttribute(y):f.setAttribute(y,x===!0?"":x)}))})}function YC(s){var e=s.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(l){var c=e.elements[l],f=e.attributes[l]||{},y=Object.keys(e.styles.hasOwnProperty(l)?e.styles[l]:n[l]),x=y.reduce(function(v,w){return v[w]="",v},{});!Is(c)||!wo(c)||(Object.assign(c.style,x),Object.keys(f).forEach(function(v){c.removeAttribute(v)}))})}}const w1={name:"applyStyles",enabled:!0,phase:"write",fn:GC,effect:YC,requires:["computeStyles"]};function go(s){return s.split("-")[0]}var Ka=Math.max,bh=Math.min,Ll=Math.round;function Fd(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function F2(){return!/^((?!chrome|android).)*safari/i.test(Fd())}function Pl(s,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var l=s.getBoundingClientRect(),c=1,f=1;e&&Is(s)&&(c=s.offsetWidth>0&&Ll(l.width)/s.offsetWidth||1,f=s.offsetHeight>0&&Ll(l.height)/s.offsetHeight||1);var y=tl(s)?ds(s):window,x=y.visualViewport,v=!F2()&&n,w=(l.left+(v&&x?x.offsetLeft:0))/c,S=(l.top+(v&&x?x.offsetTop:0))/f,N=l.width/c,k=l.height/f;return{width:N,height:k,top:S,right:w+N,bottom:S+k,left:w,x:w,y:S}}function _1(s){var e=Pl(s),n=s.offsetWidth,l=s.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-l)<=1&&(l=e.height),{x:s.offsetLeft,y:s.offsetTop,width:n,height:l}}function V2(s,e){var n=e.getRootNode&&e.getRootNode();if(s.contains(e))return!0;if(n&&E1(n)){var l=e;do{if(l&&s.isSameNode(l))return!0;l=l.parentNode||l.host}while(l)}return!1}function Ho(s){return ds(s).getComputedStyle(s)}function $C(s){return["table","td","th"].indexOf(wo(s))>=0}function va(s){return((tl(s)?s.ownerDocument:s.document)||window.document).documentElement}function Uh(s){return wo(s)==="html"?s:s.assignedSlot||s.parentNode||(E1(s)?s.host:null)||va(s)}function Ag(s){return!Is(s)||Ho(s).position==="fixed"?null:s.offsetParent}function XC(s){var e=/firefox/i.test(Fd()),n=/Trident/i.test(Fd());if(n&&Is(s)){var l=Ho(s);if(l.position==="fixed")return null}var c=Uh(s);for(E1(c)&&(c=c.host);Is(c)&&["html","body"].indexOf(wo(c))<0;){var f=Ho(c);if(f.transform!=="none"||f.perspective!=="none"||f.contain==="paint"||["transform","perspective"].indexOf(f.willChange)!==-1||e&&f.willChange==="filter"||e&&f.filter&&f.filter!=="none")return c;c=c.parentNode}return null}function Ju(s){for(var e=ds(s),n=Ag(s);n&&$C(n)&&Ho(n).position==="static";)n=Ag(n);return n&&(wo(n)==="html"||wo(n)==="body"&&Ho(n).position==="static")?e:n||XC(s)||e}function x1(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function Du(s,e,n){return Ka(s,bh(e,n))}function KC(s,e,n){var l=Du(s,e,n);return l>n?n:l}function U2(){return{top:0,right:0,bottom:0,left:0}}function j2(s){return Object.assign({},U2(),s)}function z2(s,e){return e.reduce(function(n,l){return n[l]=s,n},{})}var QC=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,j2(typeof e!="number"?e:z2(e,Hl))};function qC(s){var e,n=s.state,l=s.name,c=s.options,f=n.elements.arrow,y=n.modifiersData.popperOffsets,x=go(n.placement),v=x1(x),w=[Li,fs].indexOf(x)>=0,S=w?"height":"width";if(!(!f||!y)){var N=QC(c.padding,n),k=_1(f),U=v==="y"?Mi:Li,z=v==="y"?hs:fs,$=n.rects.reference[S]+n.rects.reference[v]-y[v]-n.rects.popper[S],q=y[v]-n.rects.reference[v],j=Ju(f),Q=j?v==="y"?j.clientHeight||0:j.clientWidth||0:0,J=$/2-q/2,se=N[U],Ee=Q-k[S]-N[z],Te=Q/2-k[S]/2+J,H=Du(se,Te,Ee),F=v;n.modifiersData[l]=(e={},e[F]=H,e.centerOffset=H-Te,e)}}function ZC(s){var e=s.state,n=s.options,l=n.element,c=l===void 0?"[data-popper-arrow]":l;c!=null&&(typeof c=="string"&&(c=e.elements.popper.querySelector(c),!c)||V2(e.elements.popper,c)&&(e.elements.arrow=c))}const H2={name:"arrow",enabled:!0,phase:"main",fn:qC,effect:ZC,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kl(s){return s.split("-")[1]}var JC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function eT(s,e){var n=s.x,l=s.y,c=e.devicePixelRatio||1;return{x:Ll(n*c)/c||0,y:Ll(l*c)/c||0}}function Cg(s){var e,n=s.popper,l=s.popperRect,c=s.placement,f=s.variation,y=s.offsets,x=s.position,v=s.gpuAcceleration,w=s.adaptive,S=s.roundOffsets,N=s.isFixed,k=y.x,U=k===void 0?0:k,z=y.y,$=z===void 0?0:z,q=typeof S=="function"?S({x:U,y:$}):{x:U,y:$};U=q.x,$=q.y;var j=y.hasOwnProperty("x"),Q=y.hasOwnProperty("y"),J=Li,se=Mi,Ee=window;if(w){var Te=Ju(n),H="clientHeight",F="clientWidth";if(Te===ds(n)&&(Te=va(n),Ho(Te).position!=="static"&&x==="absolute"&&(H="scrollHeight",F="scrollWidth")),Te=Te,c===Mi||(c===Li||c===fs)&&f===Ml){se=hs;var D=N&&Te===Ee&&Ee.visualViewport?Ee.visualViewport.height:Te[H];$-=D-l.height,$*=v?1:-1}if(c===Li||(c===Mi||c===hs)&&f===Ml){J=fs;var X=N&&Te===Ee&&Ee.visualViewport?Ee.visualViewport.width:Te[F];U-=X-l.width,U*=v?1:-1}}var G=Object.assign({position:x},w&&JC),ee=S===!0?eT({x:U,y:$},ds(n)):{x:U,y:$};if(U=ee.x,$=ee.y,v){var Y;return Object.assign({},G,(Y={},Y[se]=Q?"0":"",Y[J]=j?"0":"",Y.transform=(Ee.devicePixelRatio||1)<=1?"translate("+U+"px, "+$+"px)":"translate3d("+U+"px, "+$+"px, 0)",Y))}return Object.assign({},G,(e={},e[se]=Q?$+"px":"",e[J]=j?U+"px":"",e.transform="",e))}function tT(s){var e=s.state,n=s.options,l=n.gpuAcceleration,c=l===void 0?!0:l,f=n.adaptive,y=f===void 0?!0:f,x=n.roundOffsets,v=x===void 0?!0:x,w={placement:go(e.placement),variation:kl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:c,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Cg(Object.assign({},w,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:y,roundOffsets:v})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Cg(Object.assign({},w,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:v})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const v1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tT,data:{}};var eh={passive:!0};function nT(s){var e=s.state,n=s.instance,l=s.options,c=l.scroll,f=c===void 0?!0:c,y=l.resize,x=y===void 0?!0:y,v=ds(e.elements.popper),w=[].concat(e.scrollParents.reference,e.scrollParents.popper);return f&&w.forEach(function(S){S.addEventListener("scroll",n.update,eh)}),x&&v.addEventListener("resize",n.update,eh),function(){f&&w.forEach(function(S){S.removeEventListener("scroll",n.update,eh)}),x&&v.removeEventListener("resize",n.update,eh)}}const A1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nT,data:{}};var rT={left:"right",right:"left",bottom:"top",top:"bottom"};function uh(s){return s.replace(/left|right|bottom|top/g,function(e){return rT[e]})}var iT={start:"end",end:"start"};function Tg(s){return s.replace(/start|end/g,function(e){return iT[e]})}function C1(s){var e=ds(s),n=e.pageXOffset,l=e.pageYOffset;return{scrollLeft:n,scrollTop:l}}function T1(s){return Pl(va(s)).left+C1(s).scrollLeft}function sT(s,e){var n=ds(s),l=va(s),c=n.visualViewport,f=l.clientWidth,y=l.clientHeight,x=0,v=0;if(c){f=c.width,y=c.height;var w=F2();(w||!w&&e==="fixed")&&(x=c.offsetLeft,v=c.offsetTop)}return{width:f,height:y,x:x+T1(s),y:v}}function oT(s){var e,n=va(s),l=C1(s),c=(e=s.ownerDocument)==null?void 0:e.body,f=Ka(n.scrollWidth,n.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),y=Ka(n.scrollHeight,n.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),x=-l.scrollLeft+T1(s),v=-l.scrollTop;return Ho(c||n).direction==="rtl"&&(x+=Ka(n.clientWidth,c?c.clientWidth:0)-f),{width:f,height:y,x,y:v}}function I1(s){var e=Ho(s),n=e.overflow,l=e.overflowX,c=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+c+l)}function W2(s){return["html","body","#document"].indexOf(wo(s))>=0?s.ownerDocument.body:Is(s)&&I1(s)?s:W2(Uh(s))}function Mu(s,e){var n;e===void 0&&(e=[]);var l=W2(s),c=l===((n=s.ownerDocument)==null?void 0:n.body),f=ds(l),y=c?[f].concat(f.visualViewport||[],I1(l)?l:[]):l,x=e.concat(y);return c?x:x.concat(Mu(Uh(y)))}function Vd(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function aT(s,e){var n=Pl(s,!1,e==="fixed");return n.top=n.top+s.clientTop,n.left=n.left+s.clientLeft,n.bottom=n.top+s.clientHeight,n.right=n.left+s.clientWidth,n.width=s.clientWidth,n.height=s.clientHeight,n.x=n.left,n.y=n.top,n}function Ig(s,e,n){return e===m1?Vd(sT(s,n)):tl(e)?aT(e,n):Vd(oT(va(s)))}function lT(s){var e=Mu(Uh(s)),n=["absolute","fixed"].indexOf(Ho(s).position)>=0,l=n&&Is(s)?Ju(s):s;return tl(l)?e.filter(function(c){return tl(c)&&V2(c,l)&&wo(c)!=="body"}):[]}function uT(s,e,n,l){var c=e==="clippingParents"?lT(s):[].concat(e),f=[].concat(c,[n]),y=f[0],x=f.reduce(function(v,w){var S=Ig(s,w,l);return v.top=Ka(S.top,v.top),v.right=bh(S.right,v.right),v.bottom=bh(S.bottom,v.bottom),v.left=Ka(S.left,v.left),v},Ig(s,y,l));return x.width=x.right-x.left,x.height=x.bottom-x.top,x.x=x.left,x.y=x.top,x}function G2(s){var e=s.reference,n=s.element,l=s.placement,c=l?go(l):null,f=l?kl(l):null,y=e.x+e.width/2-n.width/2,x=e.y+e.height/2-n.height/2,v;switch(c){case Mi:v={x:y,y:e.y-n.height};break;case hs:v={x:y,y:e.y+e.height};break;case fs:v={x:e.x+e.width,y:x};break;case Li:v={x:e.x-n.width,y:x};break;default:v={x:e.x,y:e.y}}var w=c?x1(c):null;if(w!=null){var S=w==="y"?"height":"width";switch(f){case el:v[w]=v[w]-(e[S]/2-n[S]/2);break;case Ml:v[w]=v[w]+(e[S]/2-n[S]/2);break}}return v}function Bl(s,e){e===void 0&&(e={});var n=e,l=n.placement,c=l===void 0?s.placement:l,f=n.strategy,y=f===void 0?s.strategy:f,x=n.boundary,v=x===void 0?I2:x,w=n.rootBoundary,S=w===void 0?m1:w,N=n.elementContext,k=N===void 0?Cl:N,U=n.altBoundary,z=U===void 0?!1:U,$=n.padding,q=$===void 0?0:$,j=j2(typeof q!="number"?q:z2(q,Hl)),Q=k===Cl?S2:Cl,J=s.rects.popper,se=s.elements[z?Q:k],Ee=uT(tl(se)?se:se.contextElement||va(s.elements.popper),v,S,y),Te=Pl(s.elements.reference),H=G2({reference:Te,element:J,strategy:"absolute",placement:c}),F=Vd(Object.assign({},J,H)),D=k===Cl?F:Te,X={top:Ee.top-D.top+j.top,bottom:D.bottom-Ee.bottom+j.bottom,left:Ee.left-D.left+j.left,right:D.right-Ee.right+j.right},G=s.modifiersData.offset;if(k===Cl&&G){var ee=G[c];Object.keys(X).forEach(function(Y){var $e=[fs,hs].indexOf(Y)>=0?1:-1,he=[Mi,hs].indexOf(Y)>=0?"y":"x";X[Y]+=ee[he]*$e})}return X}function cT(s,e){e===void 0&&(e={});var n=e,l=n.placement,c=n.boundary,f=n.rootBoundary,y=n.padding,x=n.flipVariations,v=n.allowedAutoPlacements,w=v===void 0?y1:v,S=kl(l),N=S?x?Bd:Bd.filter(function(z){return kl(z)===S}):Hl,k=N.filter(function(z){return w.indexOf(z)>=0});k.length===0&&(k=N);var U=k.reduce(function(z,$){return z[$]=Bl(s,{placement:$,boundary:c,rootBoundary:f,padding:y})[go($)],z},{});return Object.keys(U).sort(function(z,$){return U[z]-U[$]})}function hT(s){if(go(s)===Vh)return[];var e=uh(s);return[Tg(s),e,Tg(e)]}function fT(s){var e=s.state,n=s.options,l=s.name;if(!e.modifiersData[l]._skip){for(var c=n.mainAxis,f=c===void 0?!0:c,y=n.altAxis,x=y===void 0?!0:y,v=n.fallbackPlacements,w=n.padding,S=n.boundary,N=n.rootBoundary,k=n.altBoundary,U=n.flipVariations,z=U===void 0?!0:U,$=n.allowedAutoPlacements,q=e.options.placement,j=go(q),Q=j===q,J=v||(Q||!z?[uh(q)]:hT(q)),se=[q].concat(J).reduce(function(tt,ht){return tt.concat(go(ht)===Vh?cT(e,{placement:ht,boundary:S,rootBoundary:N,padding:w,flipVariations:z,allowedAutoPlacements:$}):ht)},[]),Ee=e.rects.reference,Te=e.rects.popper,H=new Map,F=!0,D=se[0],X=0;X<se.length;X++){var G=se[X],ee=go(G),Y=kl(G)===el,$e=[Mi,hs].indexOf(ee)>=0,he=$e?"width":"height",st=Bl(e,{placement:G,boundary:S,rootBoundary:N,altBoundary:k,padding:w}),ze=$e?Y?fs:Li:Y?hs:Mi;Ee[he]>Te[he]&&(ze=uh(ze));var ke=uh(ze),Qe=[];if(f&&Qe.push(st[ee]<=0),x&&Qe.push(st[ze]<=0,st[ke]<=0),Qe.every(function(tt){return tt})){D=G,F=!1;break}H.set(G,Qe)}if(F)for(var Ge=z?3:1,ue=function(ht){var Be=se.find(function(St){var rt=H.get(St);if(rt)return rt.slice(0,ht).every(function(Mt){return Mt})});if(Be)return D=Be,"break"},xe=Ge;xe>0;xe--){var qe=ue(xe);if(qe==="break")break}e.placement!==D&&(e.modifiersData[l]._skip=!0,e.placement=D,e.reset=!0)}}const Y2={name:"flip",enabled:!0,phase:"main",fn:fT,requiresIfExists:["offset"],data:{_skip:!1}};function Sg(s,e,n){return n===void 0&&(n={x:0,y:0}),{top:s.top-e.height-n.y,right:s.right-e.width+n.x,bottom:s.bottom-e.height+n.y,left:s.left-e.width-n.x}}function bg(s){return[Mi,fs,hs,Li].some(function(e){return s[e]>=0})}function dT(s){var e=s.state,n=s.name,l=e.rects.reference,c=e.rects.popper,f=e.modifiersData.preventOverflow,y=Bl(e,{elementContext:"reference"}),x=Bl(e,{altBoundary:!0}),v=Sg(y,l),w=Sg(x,c,f),S=bg(v),N=bg(w);e.modifiersData[n]={referenceClippingOffsets:v,popperEscapeOffsets:w,isReferenceHidden:S,hasPopperEscaped:N},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":S,"data-popper-escaped":N})}const $2={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dT};function pT(s,e,n){var l=go(s),c=[Li,Mi].indexOf(l)>=0?-1:1,f=typeof n=="function"?n(Object.assign({},e,{placement:s})):n,y=f[0],x=f[1];return y=y||0,x=(x||0)*c,[Li,fs].indexOf(l)>=0?{x,y}:{x:y,y:x}}function gT(s){var e=s.state,n=s.options,l=s.name,c=n.offset,f=c===void 0?[0,0]:c,y=y1.reduce(function(S,N){return S[N]=pT(N,e.rects,f),S},{}),x=y[e.placement],v=x.x,w=x.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=v,e.modifiersData.popperOffsets.y+=w),e.modifiersData[l]=y}const X2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gT};function mT(s){var e=s.state,n=s.name;e.modifiersData[n]=G2({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const S1={name:"popperOffsets",enabled:!0,phase:"read",fn:mT,data:{}};function yT(s){return s==="x"?"y":"x"}function ET(s){var e=s.state,n=s.options,l=s.name,c=n.mainAxis,f=c===void 0?!0:c,y=n.altAxis,x=y===void 0?!1:y,v=n.boundary,w=n.rootBoundary,S=n.altBoundary,N=n.padding,k=n.tether,U=k===void 0?!0:k,z=n.tetherOffset,$=z===void 0?0:z,q=Bl(e,{boundary:v,rootBoundary:w,padding:N,altBoundary:S}),j=go(e.placement),Q=kl(e.placement),J=!Q,se=x1(j),Ee=yT(se),Te=e.modifiersData.popperOffsets,H=e.rects.reference,F=e.rects.popper,D=typeof $=="function"?$(Object.assign({},e.rects,{placement:e.placement})):$,X=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),G=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ee={x:0,y:0};if(Te){if(f){var Y,$e=se==="y"?Mi:Li,he=se==="y"?hs:fs,st=se==="y"?"height":"width",ze=Te[se],ke=ze+q[$e],Qe=ze-q[he],Ge=U?-F[st]/2:0,ue=Q===el?H[st]:F[st],xe=Q===el?-F[st]:-H[st],qe=e.elements.arrow,tt=U&&qe?_1(qe):{width:0,height:0},ht=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:U2(),Be=ht[$e],St=ht[he],rt=Du(0,H[st],tt[st]),Mt=J?H[st]/2-Ge-rt-Be-X.mainAxis:ue-rt-Be-X.mainAxis,ln=J?-H[st]/2+Ge+rt+St+X.mainAxis:xe+rt+St+X.mainAxis,ve=e.elements.arrow&&Ju(e.elements.arrow),Vr=ve?se==="y"?ve.clientTop||0:ve.clientLeft||0:0,vt=(Y=G==null?void 0:G[se])!=null?Y:0,lr=ze+Mt-vt-Vr,un=ze+ln-vt,ur=Du(U?bh(ke,lr):ke,ze,U?Ka(Qe,un):Qe);Te[se]=ur,ee[se]=ur-ze}if(x){var mn,It=se==="x"?Mi:Li,At=se==="x"?hs:fs,Xe=Te[Ee],Ye=Ee==="y"?"height":"width",gi=Xe+q[It],Ki=Xe-q[At],zn=[Mi,Li].indexOf(j)!==-1,Pi=(mn=G==null?void 0:G[Ee])!=null?mn:0,Vt=zn?gi:Xe-H[Ye]-F[Ye]-Pi+X.altAxis,vn=zn?Xe+H[Ye]+F[Ye]-Pi-X.altAxis:Ki,Hn=U&&zn?KC(Vt,Xe,vn):Du(U?Vt:gi,Xe,U?vn:Ki);Te[Ee]=Hn,ee[Ee]=Hn-Xe}e.modifiersData[l]=ee}}const K2={name:"preventOverflow",enabled:!0,phase:"main",fn:ET,requiresIfExists:["offset"]};function wT(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function _T(s){return s===ds(s)||!Is(s)?C1(s):wT(s)}function xT(s){var e=s.getBoundingClientRect(),n=Ll(e.width)/s.offsetWidth||1,l=Ll(e.height)/s.offsetHeight||1;return n!==1||l!==1}function vT(s,e,n){n===void 0&&(n=!1);var l=Is(e),c=Is(e)&&xT(e),f=va(e),y=Pl(s,c,n),x={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(l||!l&&!n)&&((wo(e)!=="body"||I1(f))&&(x=_T(e)),Is(e)?(v=Pl(e,!0),v.x+=e.clientLeft,v.y+=e.clientTop):f&&(v.x=T1(f))),{x:y.left+x.scrollLeft-v.x,y:y.top+x.scrollTop-v.y,width:y.width,height:y.height}}function AT(s){var e=new Map,n=new Set,l=[];s.forEach(function(f){e.set(f.name,f)});function c(f){n.add(f.name);var y=[].concat(f.requires||[],f.requiresIfExists||[]);y.forEach(function(x){if(!n.has(x)){var v=e.get(x);v&&c(v)}}),l.push(f)}return s.forEach(function(f){n.has(f.name)||c(f)}),l}function CT(s){var e=AT(s);return B2.reduce(function(n,l){return n.concat(e.filter(function(c){return c.phase===l}))},[])}function TT(s){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(s())})})),e}}function IT(s){var e=s.reduce(function(n,l){var c=n[l.name];return n[l.name]=c?Object.assign({},c,l,{options:Object.assign({},c.options,l.options),data:Object.assign({},c.data,l.data)}):l,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ng={placement:"bottom",modifiers:[],strategy:"absolute"};function Rg(){for(var s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return!e.some(function(l){return!(l&&typeof l.getBoundingClientRect=="function")})}function jh(s){s===void 0&&(s={});var e=s,n=e.defaultModifiers,l=n===void 0?[]:n,c=e.defaultOptions,f=c===void 0?Ng:c;return function(x,v,w){w===void 0&&(w=f);var S={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ng,f),modifiersData:{},elements:{reference:x,popper:v},attributes:{},styles:{}},N=[],k=!1,U={state:S,setOptions:function(j){var Q=typeof j=="function"?j(S.options):j;$(),S.options=Object.assign({},f,S.options,Q),S.scrollParents={reference:tl(x)?Mu(x):x.contextElement?Mu(x.contextElement):[],popper:Mu(v)};var J=CT(IT([].concat(l,S.options.modifiers)));return S.orderedModifiers=J.filter(function(se){return se.enabled}),z(),U.update()},forceUpdate:function(){if(!k){var j=S.elements,Q=j.reference,J=j.popper;if(Rg(Q,J)){S.rects={reference:vT(Q,Ju(J),S.options.strategy==="fixed"),popper:_1(J)},S.reset=!1,S.placement=S.options.placement,S.orderedModifiers.forEach(function(X){return S.modifiersData[X.name]=Object.assign({},X.data)});for(var se=0;se<S.orderedModifiers.length;se++){if(S.reset===!0){S.reset=!1,se=-1;continue}var Ee=S.orderedModifiers[se],Te=Ee.fn,H=Ee.options,F=H===void 0?{}:H,D=Ee.name;typeof Te=="function"&&(S=Te({state:S,options:F,name:D,instance:U})||S)}}}},update:TT(function(){return new Promise(function(q){U.forceUpdate(),q(S)})}),destroy:function(){$(),k=!0}};if(!Rg(x,v))return U;U.setOptions(w).then(function(q){!k&&w.onFirstUpdate&&w.onFirstUpdate(q)});function z(){S.orderedModifiers.forEach(function(q){var j=q.name,Q=q.options,J=Q===void 0?{}:Q,se=q.effect;if(typeof se=="function"){var Ee=se({state:S,name:j,instance:U,options:J}),Te=function(){};N.push(Ee||Te)}})}function $(){N.forEach(function(q){return q()}),N=[]}return U}}var ST=jh(),bT=[A1,S1,v1,w1],NT=jh({defaultModifiers:bT}),RT=[A1,S1,v1,w1,X2,Y2,K2,H2,$2],OT=jh({defaultModifiers:RT});const DT=Object.freeze(Object.defineProperty({__proto__:null,afterMain:M2,afterRead:R2,afterWrite:k2,applyStyles:w1,arrow:H2,auto:Vh,basePlacements:Hl,beforeMain:O2,beforeRead:b2,beforeWrite:L2,bottom:hs,clippingParents:I2,computeStyles:v1,createPopper:OT,createPopperBase:ST,createPopperLite:NT,detectOverflow:Bl,end:Ml,eventListeners:A1,flip:Y2,hide:$2,left:Li,main:D2,modifierPhases:B2,offset:X2,placements:y1,popper:Cl,popperGenerator:jh,popperOffsets:S1,preventOverflow:K2,read:N2,reference:S2,right:fs,start:el,top:Mi,variationPlacements:Bd,viewport:m1,write:P2},Symbol.toStringTag,{value:"Module"})),MT=Ry(DT);/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var LT=lh.exports,Og;function PT(){return Og||(Og=1,function(s,e){(function(n,l){s.exports=l(MT)})(LT,function(n){function l(ne){const C=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(ne){for(const P in ne)if(P!=="default"){const re=Object.getOwnPropertyDescriptor(ne,P);Object.defineProperty(C,P,re.get?re:{enumerable:!0,get:()=>ne[P]})}}return C.default=ne,Object.freeze(C)}const c=l(n),f=new Map,y={set(ne,C,P){f.has(ne)||f.set(ne,new Map);const re=f.get(ne);if(!re.has(C)&&re.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(re.keys())[0]}.`);return}re.set(C,P)},get(ne,C){return f.has(ne)&&f.get(ne).get(C)||null},remove(ne,C){if(!f.has(ne))return;const P=f.get(ne);P.delete(C),P.size===0&&f.delete(ne)}},x=1e6,v=1e3,w="transitionend",S=ne=>(ne&&window.CSS&&window.CSS.escape&&(ne=ne.replace(/#([^\s"#']+)/g,(C,P)=>`#${CSS.escape(P)}`)),ne),N=ne=>ne==null?`${ne}`:Object.prototype.toString.call(ne).match(/\s([a-z]+)/i)[1].toLowerCase(),k=ne=>{do ne+=Math.floor(Math.random()*x);while(document.getElementById(ne));return ne},U=ne=>{if(!ne)return 0;let{transitionDuration:C,transitionDelay:P}=window.getComputedStyle(ne);const re=Number.parseFloat(C),Ae=Number.parseFloat(P);return!re&&!Ae?0:(C=C.split(",")[0],P=P.split(",")[0],(Number.parseFloat(C)+Number.parseFloat(P))*v)},z=ne=>{ne.dispatchEvent(new Event(w))},$=ne=>!ne||typeof ne!="object"?!1:(typeof ne.jquery<"u"&&(ne=ne[0]),typeof ne.nodeType<"u"),q=ne=>$(ne)?ne.jquery?ne[0]:ne:typeof ne=="string"&&ne.length>0?document.querySelector(S(ne)):null,j=ne=>{if(!$(ne)||ne.getClientRects().length===0)return!1;const C=getComputedStyle(ne).getPropertyValue("visibility")==="visible",P=ne.closest("details:not([open])");if(!P)return C;if(P!==ne){const re=ne.closest("summary");if(re&&re.parentNode!==P||re===null)return!1}return C},Q=ne=>!ne||ne.nodeType!==Node.ELEMENT_NODE||ne.classList.contains("disabled")?!0:typeof ne.disabled<"u"?ne.disabled:ne.hasAttribute("disabled")&&ne.getAttribute("disabled")!=="false",J=ne=>{if(!document.documentElement.attachShadow)return null;if(typeof ne.getRootNode=="function"){const C=ne.getRootNode();return C instanceof ShadowRoot?C:null}return ne instanceof ShadowRoot?ne:ne.parentNode?J(ne.parentNode):null},se=()=>{},Ee=ne=>{ne.offsetHeight},Te=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,H=[],F=ne=>{document.readyState==="loading"?(H.length||document.addEventListener("DOMContentLoaded",()=>{for(const C of H)C()}),H.push(ne)):ne()},D=()=>document.documentElement.dir==="rtl",X=ne=>{F(()=>{const C=Te();if(C){const P=ne.NAME,re=C.fn[P];C.fn[P]=ne.jQueryInterface,C.fn[P].Constructor=ne,C.fn[P].noConflict=()=>(C.fn[P]=re,ne.jQueryInterface)}})},G=(ne,C=[],P=ne)=>typeof ne=="function"?ne(...C):P,ee=(ne,C,P=!0)=>{if(!P){G(ne);return}const Ae=U(C)+5;let We=!1;const Le=({target:wt})=>{wt===C&&(We=!0,C.removeEventListener(w,Le),G(ne))};C.addEventListener(w,Le),setTimeout(()=>{We||z(C)},Ae)},Y=(ne,C,P,re)=>{const Ae=ne.length;let We=ne.indexOf(C);return We===-1?!P&&re?ne[Ae-1]:ne[0]:(We+=P?1:-1,re&&(We=(We+Ae)%Ae),ne[Math.max(0,Math.min(We,Ae-1))])},$e=/[^.]*(?=\..*)\.|.*/,he=/\..*/,st=/::\d+$/,ze={};let ke=1;const Qe={mouseenter:"mouseover",mouseleave:"mouseout"},Ge=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ue(ne,C){return C&&`${C}::${ke++}`||ne.uidEvent||ke++}function xe(ne){const C=ue(ne);return ne.uidEvent=C,ze[C]=ze[C]||{},ze[C]}function qe(ne,C){return function P(re){return Vr(re,{delegateTarget:ne}),P.oneOff&&ve.off(ne,re.type,C),C.apply(ne,[re])}}function tt(ne,C,P){return function re(Ae){const We=ne.querySelectorAll(C);for(let{target:Le}=Ae;Le&&Le!==this;Le=Le.parentNode)for(const wt of We)if(wt===Le)return Vr(Ae,{delegateTarget:Le}),re.oneOff&&ve.off(ne,Ae.type,C,P),P.apply(Le,[Ae])}}function ht(ne,C,P=null){return Object.values(ne).find(re=>re.callable===C&&re.delegationSelector===P)}function Be(ne,C,P){const re=typeof C=="string",Ae=re?P:C||P;let We=ln(ne);return Ge.has(We)||(We=ne),[re,Ae,We]}function St(ne,C,P,re,Ae){if(typeof C!="string"||!ne)return;let[We,Le,wt]=Be(C,P,re);C in Qe&&(Le=(pl=>function(Po){if(!Po.relatedTarget||Po.relatedTarget!==Po.delegateTarget&&!Po.delegateTarget.contains(Po.relatedTarget))return pl.call(this,Po)})(Le));const Dr=xe(ne),Ri=Dr[wt]||(Dr[wt]={}),xn=ht(Ri,Le,We?P:null);if(xn){xn.oneOff=xn.oneOff&&Ae;return}const vr=ue(Le,C.replace($e,"")),li=We?tt(ne,P,Le):qe(ne,Le);li.delegationSelector=We?P:null,li.callable=Le,li.oneOff=Ae,li.uidEvent=vr,Ri[vr]=li,ne.addEventListener(wt,li,We)}function rt(ne,C,P,re,Ae){const We=ht(C[P],re,Ae);We&&(ne.removeEventListener(P,We,!!Ae),delete C[P][We.uidEvent])}function Mt(ne,C,P,re){const Ae=C[P]||{};for(const[We,Le]of Object.entries(Ae))We.includes(re)&&rt(ne,C,P,Le.callable,Le.delegationSelector)}function ln(ne){return ne=ne.replace(he,""),Qe[ne]||ne}const ve={on(ne,C,P,re){St(ne,C,P,re,!1)},one(ne,C,P,re){St(ne,C,P,re,!0)},off(ne,C,P,re){if(typeof C!="string"||!ne)return;const[Ae,We,Le]=Be(C,P,re),wt=Le!==C,Dr=xe(ne),Ri=Dr[Le]||{},xn=C.startsWith(".");if(typeof We<"u"){if(!Object.keys(Ri).length)return;rt(ne,Dr,Le,We,Ae?P:null);return}if(xn)for(const vr of Object.keys(Dr))Mt(ne,Dr,vr,C.slice(1));for(const[vr,li]of Object.entries(Ri)){const ka=vr.replace(st,"");(!wt||C.includes(ka))&&rt(ne,Dr,Le,li.callable,li.delegationSelector)}},trigger(ne,C,P){if(typeof C!="string"||!ne)return null;const re=Te(),Ae=ln(C),We=C!==Ae;let Le=null,wt=!0,Dr=!0,Ri=!1;We&&re&&(Le=re.Event(C,P),re(ne).trigger(Le),wt=!Le.isPropagationStopped(),Dr=!Le.isImmediatePropagationStopped(),Ri=Le.isDefaultPrevented());const xn=Vr(new Event(C,{bubbles:wt,cancelable:!0}),P);return Ri&&xn.preventDefault(),Dr&&ne.dispatchEvent(xn),xn.defaultPrevented&&Le&&Le.preventDefault(),xn}};function Vr(ne,C={}){for(const[P,re]of Object.entries(C))try{ne[P]=re}catch{Object.defineProperty(ne,P,{configurable:!0,get(){return re}})}return ne}function vt(ne){if(ne==="true")return!0;if(ne==="false")return!1;if(ne===Number(ne).toString())return Number(ne);if(ne===""||ne==="null")return null;if(typeof ne!="string")return ne;try{return JSON.parse(decodeURIComponent(ne))}catch{return ne}}function lr(ne){return ne.replace(/[A-Z]/g,C=>`-${C.toLowerCase()}`)}const un={setDataAttribute(ne,C,P){ne.setAttribute(`data-bs-${lr(C)}`,P)},removeDataAttribute(ne,C){ne.removeAttribute(`data-bs-${lr(C)}`)},getDataAttributes(ne){if(!ne)return{};const C={},P=Object.keys(ne.dataset).filter(re=>re.startsWith("bs")&&!re.startsWith("bsConfig"));for(const re of P){let Ae=re.replace(/^bs/,"");Ae=Ae.charAt(0).toLowerCase()+Ae.slice(1,Ae.length),C[Ae]=vt(ne.dataset[re])}return C},getDataAttribute(ne,C){return vt(ne.getAttribute(`data-bs-${lr(C)}`))}};class ur{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(C){return C=this._mergeConfigObj(C),C=this._configAfterMerge(C),this._typeCheckConfig(C),C}_configAfterMerge(C){return C}_mergeConfigObj(C,P){const re=$(P)?un.getDataAttribute(P,"config"):{};return{...this.constructor.Default,...typeof re=="object"?re:{},...$(P)?un.getDataAttributes(P):{},...typeof C=="object"?C:{}}}_typeCheckConfig(C,P=this.constructor.DefaultType){for(const[re,Ae]of Object.entries(P)){const We=C[re],Le=$(We)?"element":N(We);if(!new RegExp(Ae).test(Le))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${re}" provided type "${Le}" but expected type "${Ae}".`)}}}const mn="5.3.3";class It extends ur{constructor(C,P){super(),C=q(C),C&&(this._element=C,this._config=this._getConfig(P),y.set(this._element,this.constructor.DATA_KEY,this))}dispose(){y.remove(this._element,this.constructor.DATA_KEY),ve.off(this._element,this.constructor.EVENT_KEY);for(const C of Object.getOwnPropertyNames(this))this[C]=null}_queueCallback(C,P,re=!0){ee(C,P,re)}_getConfig(C){return C=this._mergeConfigObj(C,this._element),C=this._configAfterMerge(C),this._typeCheckConfig(C),C}static getInstance(C){return y.get(q(C),this.DATA_KEY)}static getOrCreateInstance(C,P={}){return this.getInstance(C)||new this(C,typeof P=="object"?P:null)}static get VERSION(){return mn}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(C){return`${C}${this.EVENT_KEY}`}}const At=ne=>{let C=ne.getAttribute("data-bs-target");if(!C||C==="#"){let P=ne.getAttribute("href");if(!P||!P.includes("#")&&!P.startsWith("."))return null;P.includes("#")&&!P.startsWith("#")&&(P=`#${P.split("#")[1]}`),C=P&&P!=="#"?P.trim():null}return C?C.split(",").map(P=>S(P)).join(","):null},Xe={find(ne,C=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(C,ne))},findOne(ne,C=document.documentElement){return Element.prototype.querySelector.call(C,ne)},children(ne,C){return[].concat(...ne.children).filter(P=>P.matches(C))},parents(ne,C){const P=[];let re=ne.parentNode.closest(C);for(;re;)P.push(re),re=re.parentNode.closest(C);return P},prev(ne,C){let P=ne.previousElementSibling;for(;P;){if(P.matches(C))return[P];P=P.previousElementSibling}return[]},next(ne,C){let P=ne.nextElementSibling;for(;P;){if(P.matches(C))return[P];P=P.nextElementSibling}return[]},focusableChildren(ne){const C=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(P=>`${P}:not([tabindex^="-"])`).join(",");return this.find(C,ne).filter(P=>!Q(P)&&j(P))},getSelectorFromElement(ne){const C=At(ne);return C&&Xe.findOne(C)?C:null},getElementFromSelector(ne){const C=At(ne);return C?Xe.findOne(C):null},getMultipleElementsFromSelector(ne){const C=At(ne);return C?Xe.find(C):[]}},Ye=(ne,C="hide")=>{const P=`click.dismiss${ne.EVENT_KEY}`,re=ne.NAME;ve.on(document,P,`[data-bs-dismiss="${re}"]`,function(Ae){if(["A","AREA"].includes(this.tagName)&&Ae.preventDefault(),Q(this))return;const We=Xe.getElementFromSelector(this)||this.closest(`.${re}`);ne.getOrCreateInstance(We)[C]()})},gi="alert",zn=".bs.alert",Pi=`close${zn}`,Vt=`closed${zn}`,vn="fade",Hn="show";class An extends It{static get NAME(){return gi}close(){if(ve.trigger(this._element,Pi).defaultPrevented)return;this._element.classList.remove(Hn);const P=this._element.classList.contains(vn);this._queueCallback(()=>this._destroyElement(),this._element,P)}_destroyElement(){this._element.remove(),ve.trigger(this._element,Vt),this.dispose()}static jQueryInterface(C){return this.each(function(){const P=An.getOrCreateInstance(this);if(typeof C=="string"){if(P[C]===void 0||C.startsWith("_")||C==="constructor")throw new TypeError(`No method named "${C}"`);P[C](this)}})}}Ye(An,"close"),X(An);const Qi="button",Ss=".bs.button",yn=".data-api",je="active",En='[data-bs-toggle="button"]',jt=`click${Ss}${yn}`;class Ht extends It{static get NAME(){return Qi}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(je))}static jQueryInterface(C){return this.each(function(){const P=Ht.getOrCreateInstance(this);C==="toggle"&&P[C]()})}}ve.on(document,jt,En,ne=>{ne.preventDefault();const C=ne.target.closest(En);Ht.getOrCreateInstance(C).toggle()}),X(Ht);const mi="swipe",Ur=".bs.swipe",bs=`touchstart${Ur}`,Ct=`touchmove${Ur}`,cr=`touchend${Ur}`,Ns=`pointerdown${Ur}`,yi=`pointerup${Ur}`,mr="touch",Zi="pen",Fn="pointer-event",Tr=40,ps={endCallback:null,leftCallback:null,rightCallback:null},Wt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ji extends ur{constructor(C,P){super(),this._element=C,!(!C||!Ji.isSupported())&&(this._config=this._getConfig(P),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ps}static get DefaultType(){return Wt}static get NAME(){return mi}dispose(){ve.off(this._element,Ur)}_start(C){if(!this._supportPointerEvents){this._deltaX=C.touches[0].clientX;return}this._eventIsPointerPenTouch(C)&&(this._deltaX=C.clientX)}_end(C){this._eventIsPointerPenTouch(C)&&(this._deltaX=C.clientX-this._deltaX),this._handleSwipe(),G(this._config.endCallback)}_move(C){this._deltaX=C.touches&&C.touches.length>1?0:C.touches[0].clientX-this._deltaX}_handleSwipe(){const C=Math.abs(this._deltaX);if(C<=Tr)return;const P=C/this._deltaX;this._deltaX=0,P&&G(P>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ve.on(this._element,Ns,C=>this._start(C)),ve.on(this._element,yi,C=>this._end(C)),this._element.classList.add(Fn)):(ve.on(this._element,bs,C=>this._start(C)),ve.on(this._element,Ct,C=>this._move(C)),ve.on(this._element,cr,C=>this._end(C)))}_eventIsPointerPenTouch(C){return this._supportPointerEvents&&(C.pointerType===Zi||C.pointerType===mr)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const sr="carousel",en=".bs.carousel",jr=".data-api",In="ArrowLeft",Ke="ArrowRight",ms=500,ei="next",Sn="prev",Pn="left",zr="right",Ir=`slide${en}`,yr=`slid${en}`,xo=`keydown${en}`,Xs=`mouseenter${en}`,Er=`mouseleave${en}`,Wn=`dragstart${en}`,tn=`load${en}${jr}`,Go=`click${en}${jr}`,Lt="carousel",es="active",Ie="slide",ys="carousel-item-end",Bt="carousel-item-start",ki="carousel-item-next",Yo="carousel-item-prev",Nt=".active",Et=".carousel-item",bt=Nt+Et,or=".carousel-item img",Rs=".carousel-indicators",Ks="[data-bs-slide], [data-bs-slide-to]",bn='[data-bs-ride="carousel"]',Hr={[In]:zr,[Ke]:Pn},Qs={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},qt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Gn extends It{constructor(C,P){super(C,P),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Xe.findOne(Rs,this._element),this._addEventListeners(),this._config.ride===Lt&&this.cycle()}static get Default(){return Qs}static get DefaultType(){return qt}static get NAME(){return sr}next(){this._slide(ei)}nextWhenVisible(){!document.hidden&&j(this._element)&&this.next()}prev(){this._slide(Sn)}pause(){this._isSliding&&z(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ve.one(this._element,yr,()=>this.cycle());return}this.cycle()}}to(C){const P=this._getItems();if(C>P.length-1||C<0)return;if(this._isSliding){ve.one(this._element,yr,()=>this.to(C));return}const re=this._getItemIndex(this._getActive());if(re===C)return;const Ae=C>re?ei:Sn;this._slide(Ae,P[C])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(C){return C.defaultInterval=C.interval,C}_addEventListeners(){this._config.keyboard&&ve.on(this._element,xo,C=>this._keydown(C)),this._config.pause==="hover"&&(ve.on(this._element,Xs,()=>this.pause()),ve.on(this._element,Er,()=>this._maybeEnableCycle())),this._config.touch&&Ji.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const re of Xe.find(or,this._element))ve.on(re,Wn,Ae=>Ae.preventDefault());const P={leftCallback:()=>this._slide(this._directionToOrder(Pn)),rightCallback:()=>this._slide(this._directionToOrder(zr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),ms+this._config.interval))}};this._swipeHelper=new Ji(this._element,P)}_keydown(C){if(/input|textarea/i.test(C.target.tagName))return;const P=Hr[C.key];P&&(C.preventDefault(),this._slide(this._directionToOrder(P)))}_getItemIndex(C){return this._getItems().indexOf(C)}_setActiveIndicatorElement(C){if(!this._indicatorsElement)return;const P=Xe.findOne(Nt,this._indicatorsElement);P.classList.remove(es),P.removeAttribute("aria-current");const re=Xe.findOne(`[data-bs-slide-to="${C}"]`,this._indicatorsElement);re&&(re.classList.add(es),re.setAttribute("aria-current","true"))}_updateInterval(){const C=this._activeElement||this._getActive();if(!C)return;const P=Number.parseInt(C.getAttribute("data-bs-interval"),10);this._config.interval=P||this._config.defaultInterval}_slide(C,P=null){if(this._isSliding)return;const re=this._getActive(),Ae=C===ei,We=P||Y(this._getItems(),re,Ae,this._config.wrap);if(We===re)return;const Le=this._getItemIndex(We),wt=ka=>ve.trigger(this._element,ka,{relatedTarget:We,direction:this._orderToDirection(C),from:this._getItemIndex(re),to:Le});if(wt(Ir).defaultPrevented||!re||!We)return;const Ri=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Le),this._activeElement=We;const xn=Ae?Bt:ys,vr=Ae?ki:Yo;We.classList.add(vr),Ee(We),re.classList.add(xn),We.classList.add(xn);const li=()=>{We.classList.remove(xn,vr),We.classList.add(es),re.classList.remove(es,vr,xn),this._isSliding=!1,wt(yr)};this._queueCallback(li,re,this._isAnimated()),Ri&&this.cycle()}_isAnimated(){return this._element.classList.contains(Ie)}_getActive(){return Xe.findOne(bt,this._element)}_getItems(){return Xe.find(Et,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(C){return D()?C===Pn?Sn:ei:C===Pn?ei:Sn}_orderToDirection(C){return D()?C===Sn?Pn:zr:C===Sn?zr:Pn}static jQueryInterface(C){return this.each(function(){const P=Gn.getOrCreateInstance(this,C);if(typeof C=="number"){P.to(C);return}if(typeof C=="string"){if(P[C]===void 0||C.startsWith("_")||C==="constructor")throw new TypeError(`No method named "${C}"`);P[C]()}})}}ve.on(document,Go,Ks,function(ne){const C=Xe.getElementFromSelector(this);if(!C||!C.classList.contains(Lt))return;ne.preventDefault();const P=Gn.getOrCreateInstance(C),re=this.getAttribute("data-bs-slide-to");if(re){P.to(re),P._maybeEnableCycle();return}if(un.getDataAttribute(this,"slide")==="next"){P.next(),P._maybeEnableCycle();return}P.prev(),P._maybeEnableCycle()}),ve.on(window,tn,()=>{const ne=Xe.find(bn);for(const C of ne)Gn.getOrCreateInstance(C)}),X(Gn);const Aa="collapse",Tt=".bs.collapse",Nn=".data-api",fe=`show${Tt}`,K=`shown${Tt}`,He=`hide${Tt}`,cn=`hidden${Tt}`,mt=`click${Tt}${Nn}`,Bi="show",Ei="collapse",Vn="collapsing",at="collapsed",rn=`:scope .${Ei} .${Ei}`,vo="collapse-horizontal",Ao="width",ti="height",Un=".collapse.show, .collapse.collapsing",wr='[data-bs-toggle="collapse"]',wi={parent:null,toggle:!0},hn={parent:"(null|element)",toggle:"boolean"};class kn extends It{constructor(C,P){super(C,P),this._isTransitioning=!1,this._triggerArray=[];const re=Xe.find(wr);for(const Ae of re){const We=Xe.getSelectorFromElement(Ae),Le=Xe.find(We).filter(wt=>wt===this._element);We!==null&&Le.length&&this._triggerArray.push(Ae)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return wi}static get DefaultType(){return hn}static get NAME(){return Aa}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let C=[];if(this._config.parent&&(C=this._getFirstLevelChildren(Un).filter(wt=>wt!==this._element).map(wt=>kn.getOrCreateInstance(wt,{toggle:!1}))),C.length&&C[0]._isTransitioning||ve.trigger(this._element,fe).defaultPrevented)return;for(const wt of C)wt.hide();const re=this._getDimension();this._element.classList.remove(Ei),this._element.classList.add(Vn),this._element.style[re]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Ae=()=>{this._isTransitioning=!1,this._element.classList.remove(Vn),this._element.classList.add(Ei,Bi),this._element.style[re]="",ve.trigger(this._element,K)},Le=`scroll${re[0].toUpperCase()+re.slice(1)}`;this._queueCallback(Ae,this._element,!0),this._element.style[re]=`${this._element[Le]}px`}hide(){if(this._isTransitioning||!this._isShown()||ve.trigger(this._element,He).defaultPrevented)return;const P=this._getDimension();this._element.style[P]=`${this._element.getBoundingClientRect()[P]}px`,Ee(this._element),this._element.classList.add(Vn),this._element.classList.remove(Ei,Bi);for(const Ae of this._triggerArray){const We=Xe.getElementFromSelector(Ae);We&&!this._isShown(We)&&this._addAriaAndCollapsedClass([Ae],!1)}this._isTransitioning=!0;const re=()=>{this._isTransitioning=!1,this._element.classList.remove(Vn),this._element.classList.add(Ei),ve.trigger(this._element,cn)};this._element.style[P]="",this._queueCallback(re,this._element,!0)}_isShown(C=this._element){return C.classList.contains(Bi)}_configAfterMerge(C){return C.toggle=!!C.toggle,C.parent=q(C.parent),C}_getDimension(){return this._element.classList.contains(vo)?Ao:ti}_initializeChildren(){if(!this._config.parent)return;const C=this._getFirstLevelChildren(wr);for(const P of C){const re=Xe.getElementFromSelector(P);re&&this._addAriaAndCollapsedClass([P],this._isShown(re))}}_getFirstLevelChildren(C){const P=Xe.find(rn,this._config.parent);return Xe.find(C,this._config.parent).filter(re=>!P.includes(re))}_addAriaAndCollapsedClass(C,P){if(C.length)for(const re of C)re.classList.toggle(at,!P),re.setAttribute("aria-expanded",P)}static jQueryInterface(C){const P={};return typeof C=="string"&&/show|hide/.test(C)&&(P.toggle=!1),this.each(function(){const re=kn.getOrCreateInstance(this,P);if(typeof C=="string"){if(typeof re[C]>"u")throw new TypeError(`No method named "${C}"`);re[C]()}})}}ve.on(document,mt,wr,function(ne){(ne.target.tagName==="A"||ne.delegateTarget&&ne.delegateTarget.tagName==="A")&&ne.preventDefault();for(const C of Xe.getMultipleElementsFromSelector(this))kn.getOrCreateInstance(C,{toggle:!1}).toggle()}),X(kn);const Jn="dropdown",Fi=".bs.dropdown",ut=".data-api",Yn="Escape",Co="Tab",_i="ArrowUp",ts="ArrowDown",Vi=2,xi=`hide${Fi}`,_r=`hidden${Fi}`,Gr=`show${Fi}`,ni=`shown${Fi}`,sn=`click${Fi}${ut}`,Es=`keydown${Fi}${ut}`,ns=`keyup${Fi}${ut}`,fn="show",Os="dropup",qs="dropend",Sr="dropstart",Zs="dropup-center",br="dropdown-center",vi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ft=`${vi}.${fn}`,Nr=".dropdown-menu",ws=".navbar",wn=".navbar-nav",Ai=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",me=D()?"top-end":"top-start",dt=D()?"top-start":"top-end",$n=D()?"bottom-end":"bottom-start",rs=D()?"bottom-start":"bottom-end",Ui=D()?"left-start":"right-start",_s=D()?"right-start":"left-start",Ds="top",Js="bottom",Ms={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Rn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class er extends It{constructor(C,P){super(C,P),this._popper=null,this._parent=this._element.parentNode,this._menu=Xe.next(this._element,Nr)[0]||Xe.prev(this._element,Nr)[0]||Xe.findOne(Nr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ms}static get DefaultType(){return Rn}static get NAME(){return Jn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Q(this._element)||this._isShown())return;const C={relatedTarget:this._element};if(!ve.trigger(this._element,Gr,C).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(wn))for(const re of[].concat(...document.body.children))ve.on(re,"mouseover",se);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(fn),this._element.classList.add(fn),ve.trigger(this._element,ni,C)}}hide(){if(Q(this._element)||!this._isShown())return;const C={relatedTarget:this._element};this._completeHide(C)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(C){if(!ve.trigger(this._element,xi,C).defaultPrevented){if("ontouchstart"in document.documentElement)for(const re of[].concat(...document.body.children))ve.off(re,"mouseover",se);this._popper&&this._popper.destroy(),this._menu.classList.remove(fn),this._element.classList.remove(fn),this._element.setAttribute("aria-expanded","false"),un.removeDataAttribute(this._menu,"popper"),ve.trigger(this._element,_r,C)}}_getConfig(C){if(C=super._getConfig(C),typeof C.reference=="object"&&!$(C.reference)&&typeof C.reference.getBoundingClientRect!="function")throw new TypeError(`${Jn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return C}_createPopper(){if(typeof c>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let C=this._element;this._config.reference==="parent"?C=this._parent:$(this._config.reference)?C=q(this._config.reference):typeof this._config.reference=="object"&&(C=this._config.reference);const P=this._getPopperConfig();this._popper=c.createPopper(C,this._menu,P)}_isShown(){return this._menu.classList.contains(fn)}_getPlacement(){const C=this._parent;if(C.classList.contains(qs))return Ui;if(C.classList.contains(Sr))return _s;if(C.classList.contains(Zs))return Ds;if(C.classList.contains(br))return Js;const P=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return C.classList.contains(Os)?P?dt:me:P?rs:$n}_detectNavbar(){return this._element.closest(ws)!==null}_getOffset(){const{offset:C}=this._config;return typeof C=="string"?C.split(",").map(P=>Number.parseInt(P,10)):typeof C=="function"?P=>C(P,this._element):C}_getPopperConfig(){const C={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(un.setDataAttribute(this._menu,"popper","static"),C.modifiers=[{name:"applyStyles",enabled:!1}]),{...C,...G(this._config.popperConfig,[C])}}_selectMenuItem({key:C,target:P}){const re=Xe.find(Ai,this._menu).filter(Ae=>j(Ae));re.length&&Y(re,P,C===ts,!re.includes(P)).focus()}static jQueryInterface(C){return this.each(function(){const P=er.getOrCreateInstance(this,C);if(typeof C=="string"){if(typeof P[C]>"u")throw new TypeError(`No method named "${C}"`);P[C]()}})}static clearMenus(C){if(C.button===Vi||C.type==="keyup"&&C.key!==Co)return;const P=Xe.find(Ft);for(const re of P){const Ae=er.getInstance(re);if(!Ae||Ae._config.autoClose===!1)continue;const We=C.composedPath(),Le=We.includes(Ae._menu);if(We.includes(Ae._element)||Ae._config.autoClose==="inside"&&!Le||Ae._config.autoClose==="outside"&&Le||Ae._menu.contains(C.target)&&(C.type==="keyup"&&C.key===Co||/input|select|option|textarea|form/i.test(C.target.tagName)))continue;const wt={relatedTarget:Ae._element};C.type==="click"&&(wt.clickEvent=C),Ae._completeHide(wt)}}static dataApiKeydownHandler(C){const P=/input|textarea/i.test(C.target.tagName),re=C.key===Yn,Ae=[_i,ts].includes(C.key);if(!Ae&&!re||P&&!re)return;C.preventDefault();const We=this.matches(vi)?this:Xe.prev(this,vi)[0]||Xe.next(this,vi)[0]||Xe.findOne(vi,C.delegateTarget.parentNode),Le=er.getOrCreateInstance(We);if(Ae){C.stopPropagation(),Le.show(),Le._selectMenuItem(C);return}Le._isShown()&&(C.stopPropagation(),Le.hide(),We.focus())}}ve.on(document,Es,vi,er.dataApiKeydownHandler),ve.on(document,Es,Nr,er.dataApiKeydownHandler),ve.on(document,sn,er.clearMenus),ve.on(document,ns,er.clearMenus),ve.on(document,sn,vi,function(ne){ne.preventDefault(),er.getOrCreateInstance(this).toggle()}),X(er);const Zt="backdrop",Ls="fade",hr="show",zt=`mousedown.bs.${Zt}`,ct={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},$o={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Gt extends ur{constructor(C){super(),this._config=this._getConfig(C),this._isAppended=!1,this._element=null}static get Default(){return ct}static get DefaultType(){return $o}static get NAME(){return Zt}show(C){if(!this._config.isVisible){G(C);return}this._append();const P=this._getElement();this._config.isAnimated&&Ee(P),P.classList.add(hr),this._emulateAnimation(()=>{G(C)})}hide(C){if(!this._config.isVisible){G(C);return}this._getElement().classList.remove(hr),this._emulateAnimation(()=>{this.dispose(),G(C)})}dispose(){this._isAppended&&(ve.off(this._element,zt),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const C=document.createElement("div");C.className=this._config.className,this._config.isAnimated&&C.classList.add(Ls),this._element=C}return this._element}_configAfterMerge(C){return C.rootElement=q(C.rootElement),C}_append(){if(this._isAppended)return;const C=this._getElement();this._config.rootElement.append(C),ve.on(C,zt,()=>{G(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(C){ee(C,this._getElement(),this._config.isAnimated)}}const ri="focustrap",Ps=".bs.focustrap",Yr=`focusin${Ps}`,ii=`keydown.tab${Ps}`,m="Tab",I="forward",O="backward",W={autofocus:!0,trapElement:null},de={autofocus:"boolean",trapElement:"element"};class we extends ur{constructor(C){super(),this._config=this._getConfig(C),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return W}static get DefaultType(){return de}static get NAME(){return ri}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ve.off(document,Ps),ve.on(document,Yr,C=>this._handleFocusin(C)),ve.on(document,ii,C=>this._handleKeydown(C)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ve.off(document,Ps))}_handleFocusin(C){const{trapElement:P}=this._config;if(C.target===document||C.target===P||P.contains(C.target))return;const re=Xe.focusableChildren(P);re.length===0?P.focus():this._lastTabNavDirection===O?re[re.length-1].focus():re[0].focus()}_handleKeydown(C){C.key===m&&(this._lastTabNavDirection=C.shiftKey?O:I)}}const Ve=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Yt=".sticky-top",on="padding-right",Dt="margin-right";class nn{constructor(){this._element=document.body}getWidth(){const C=document.documentElement.clientWidth;return Math.abs(window.innerWidth-C)}hide(){const C=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,on,P=>P+C),this._setElementAttributes(Ve,on,P=>P+C),this._setElementAttributes(Yt,Dt,P=>P-C)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,on),this._resetElementAttributes(Ve,on),this._resetElementAttributes(Yt,Dt)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(C,P,re){const Ae=this.getWidth(),We=Le=>{if(Le!==this._element&&window.innerWidth>Le.clientWidth+Ae)return;this._saveInitialAttribute(Le,P);const wt=window.getComputedStyle(Le).getPropertyValue(P);Le.style.setProperty(P,`${re(Number.parseFloat(wt))}px`)};this._applyManipulationCallback(C,We)}_saveInitialAttribute(C,P){const re=C.style.getPropertyValue(P);re&&un.setDataAttribute(C,P,re)}_resetElementAttributes(C,P){const re=Ae=>{const We=un.getDataAttribute(Ae,P);if(We===null){Ae.style.removeProperty(P);return}un.removeDataAttribute(Ae,P),Ae.style.setProperty(P,We)};this._applyManipulationCallback(C,re)}_applyManipulationCallback(C,P){if($(C)){P(C);return}for(const re of Xe.find(C,this._element))P(re)}}const Cn="modal",dn=".bs.modal",fr=".data-api",eo="Escape",Xo=`hide${dn}`,sl=`hidePrevented${dn}`,Ko=`hidden${dn}`,dr=`show${dn}`,Wl=`shown${dn}`,Ca=`resize${dn}`,To=`click.dismiss${dn}`,Pt=`mousedown.dismiss${dn}`,Io=`keydown.dismiss${dn}`,M=`click${dn}${fr}`,t="modal-open",i="fade",o="show",u="modal-static",h=".modal.show",d=".modal-dialog",g=".modal-body",_='[data-bs-toggle="modal"]',A={backdrop:!0,focus:!0,keyboard:!0},R={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class L extends It{constructor(C,P){super(C,P),this._dialog=Xe.findOne(d,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new nn,this._addEventListeners()}static get Default(){return A}static get DefaultType(){return R}static get NAME(){return Cn}toggle(C){return this._isShown?this.hide():this.show(C)}show(C){this._isShown||this._isTransitioning||ve.trigger(this._element,dr,{relatedTarget:C}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(t),this._adjustDialog(),this._backdrop.show(()=>this._showElement(C)))}hide(){!this._isShown||this._isTransitioning||ve.trigger(this._element,Xo).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(o),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ve.off(window,dn),ve.off(this._dialog,dn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Gt({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new we({trapElement:this._element})}_showElement(C){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const P=Xe.findOne(g,this._dialog);P&&(P.scrollTop=0),Ee(this._element),this._element.classList.add(o);const re=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ve.trigger(this._element,Wl,{relatedTarget:C})};this._queueCallback(re,this._dialog,this._isAnimated())}_addEventListeners(){ve.on(this._element,Io,C=>{if(C.key===eo){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ve.on(window,Ca,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ve.on(this._element,Pt,C=>{ve.one(this._element,To,P=>{if(!(this._element!==C.target||this._element!==P.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(t),this._resetAdjustments(),this._scrollBar.reset(),ve.trigger(this._element,Ko)})}_isAnimated(){return this._element.classList.contains(i)}_triggerBackdropTransition(){if(ve.trigger(this._element,sl).defaultPrevented)return;const P=this._element.scrollHeight>document.documentElement.clientHeight,re=this._element.style.overflowY;re==="hidden"||this._element.classList.contains(u)||(P||(this._element.style.overflowY="hidden"),this._element.classList.add(u),this._queueCallback(()=>{this._element.classList.remove(u),this._queueCallback(()=>{this._element.style.overflowY=re},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const C=this._element.scrollHeight>document.documentElement.clientHeight,P=this._scrollBar.getWidth(),re=P>0;if(re&&!C){const Ae=D()?"paddingLeft":"paddingRight";this._element.style[Ae]=`${P}px`}if(!re&&C){const Ae=D()?"paddingRight":"paddingLeft";this._element.style[Ae]=`${P}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(C,P){return this.each(function(){const re=L.getOrCreateInstance(this,C);if(typeof C=="string"){if(typeof re[C]>"u")throw new TypeError(`No method named "${C}"`);re[C](P)}})}}ve.on(document,M,_,function(ne){const C=Xe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&ne.preventDefault(),ve.one(C,dr,Ae=>{Ae.defaultPrevented||ve.one(C,Ko,()=>{j(this)&&this.focus()})});const P=Xe.findOne(h);P&&L.getInstance(P).hide(),L.getOrCreateInstance(C).toggle(this)}),Ye(L),X(L);const V="offcanvas",ie=".bs.offcanvas",oe=".data-api",ce=`load${ie}${oe}`,ye="Escape",De="show",Me="showing",Ne="hiding",Rt="offcanvas-backdrop",yt=".offcanvas.show",Rr=`show${ie}`,Ci=`shown${ie}`,Kn=`hide${ie}`,$t=`hidePrevented${ie}`,Dn=`hidden${ie}`,xr=`resize${ie}`,ks=`click${ie}${oe}`,is=`keydown.dismiss${ie}`,to='[data-bs-toggle="offcanvas"]',Ta={backdrop:!0,keyboard:!0,scroll:!1},ec={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ji extends It{constructor(C,P){super(C,P),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ta}static get DefaultType(){return ec}static get NAME(){return V}toggle(C){return this._isShown?this.hide():this.show(C)}show(C){if(this._isShown||ve.trigger(this._element,Rr,{relatedTarget:C}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new nn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Me);const re=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(De),this._element.classList.remove(Me),ve.trigger(this._element,Ci,{relatedTarget:C})};this._queueCallback(re,this._element,!0)}hide(){if(!this._isShown||ve.trigger(this._element,Kn).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ne),this._backdrop.hide();const P=()=>{this._element.classList.remove(De,Ne),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new nn().reset(),ve.trigger(this._element,Dn)};this._queueCallback(P,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const C=()=>{if(this._config.backdrop==="static"){ve.trigger(this._element,$t);return}this.hide()},P=!!this._config.backdrop;return new Gt({className:Rt,isVisible:P,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:P?C:null})}_initializeFocusTrap(){return new we({trapElement:this._element})}_addEventListeners(){ve.on(this._element,is,C=>{if(C.key===ye){if(this._config.keyboard){this.hide();return}ve.trigger(this._element,$t)}})}static jQueryInterface(C){return this.each(function(){const P=ji.getOrCreateInstance(this,C);if(typeof C=="string"){if(P[C]===void 0||C.startsWith("_")||C==="constructor")throw new TypeError(`No method named "${C}"`);P[C](this)}})}}ve.on(document,ks,to,function(ne){const C=Xe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&ne.preventDefault(),Q(this))return;ve.one(C,Dn,()=>{j(this)&&this.focus()});const P=Xe.findOne(yt);P&&P!==C&&ji.getInstance(P).hide(),ji.getOrCreateInstance(C).toggle(this)}),ve.on(window,ce,()=>{for(const ne of Xe.find(yt))ji.getOrCreateInstance(ne).show()}),ve.on(window,xr,()=>{for(const ne of Xe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(ne).position!=="fixed"&&ji.getOrCreateInstance(ne).hide()}),Ye(ji),X(ji);const Gl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},tc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),nc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,rc=(ne,C)=>{const P=ne.nodeName.toLowerCase();return C.includes(P)?tc.has(P)?!!nc.test(ne.nodeValue):!0:C.filter(re=>re instanceof RegExp).some(re=>re.test(P))};function ic(ne,C,P){if(!ne.length)return ne;if(P&&typeof P=="function")return P(ne);const Ae=new window.DOMParser().parseFromString(ne,"text/html"),We=[].concat(...Ae.body.querySelectorAll("*"));for(const Le of We){const wt=Le.nodeName.toLowerCase();if(!Object.keys(C).includes(wt)){Le.remove();continue}const Dr=[].concat(...Le.attributes),Ri=[].concat(C["*"]||[],C[wt]||[]);for(const xn of Dr)rc(xn,Ri)||Le.removeAttribute(xn.nodeName)}return Ae.body.innerHTML}const no="TemplateFactory",Yl={allowList:Gl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},$l={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Hh={entry:"(string|element|function|null)",selector:"(string|element)"};class Wh extends ur{constructor(C){super(),this._config=this._getConfig(C)}static get Default(){return Yl}static get DefaultType(){return $l}static get NAME(){return no}getContent(){return Object.values(this._config.content).map(C=>this._resolvePossibleFunction(C)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(C){return this._checkContent(C),this._config.content={...this._config.content,...C},this}toHtml(){const C=document.createElement("div");C.innerHTML=this._maybeSanitize(this._config.template);for(const[Ae,We]of Object.entries(this._config.content))this._setContent(C,We,Ae);const P=C.children[0],re=this._resolvePossibleFunction(this._config.extraClass);return re&&P.classList.add(...re.split(" ")),P}_typeCheckConfig(C){super._typeCheckConfig(C),this._checkContent(C.content)}_checkContent(C){for(const[P,re]of Object.entries(C))super._typeCheckConfig({selector:P,entry:re},Hh)}_setContent(C,P,re){const Ae=Xe.findOne(re,C);if(Ae){if(P=this._resolvePossibleFunction(P),!P){Ae.remove();return}if($(P)){this._putElementInTemplate(q(P),Ae);return}if(this._config.html){Ae.innerHTML=this._maybeSanitize(P);return}Ae.textContent=P}}_maybeSanitize(C){return this._config.sanitize?ic(C,this._config.allowList,this._config.sanitizeFn):C}_resolvePossibleFunction(C){return G(C,[this])}_putElementInTemplate(C,P){if(this._config.html){P.innerHTML="",P.append(C);return}P.textContent=C.textContent}}const Ia="tooltip",Gh=new Set(["sanitize","allowList","sanitizeFn"]),ol="fade",sc="modal",an="show",Xl=".tooltip-inner",Sa=`.${sc}`,Qo="hide.bs.modal",qo="hover",ba="focus",Na="click",al="manual",Zo="hide",oc="hidden",Yh="show",$h="shown",ac="inserted",ll="click",ul="focusin",Kl="focusout",Ql="mouseenter",ql="mouseleave",Zl={AUTO:"auto",TOP:"top",RIGHT:D()?"left":"right",BOTTOM:"bottom",LEFT:D()?"right":"left"},Xh={allowList:Gl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},lc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class So extends It{constructor(C,P){if(typeof c>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(C,P),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Xh}static get DefaultType(){return lc}static get NAME(){return Ia}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ve.off(this._element.closest(Sa),Qo,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const C=ve.trigger(this._element,this.constructor.eventName(Yh)),re=(J(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(C.defaultPrevented||!re)return;this._disposePopper();const Ae=this._getTipElement();this._element.setAttribute("aria-describedby",Ae.getAttribute("id"));const{container:We}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(We.append(Ae),ve.trigger(this._element,this.constructor.eventName(ac))),this._popper=this._createPopper(Ae),Ae.classList.add(an),"ontouchstart"in document.documentElement)for(const wt of[].concat(...document.body.children))ve.on(wt,"mouseover",se);const Le=()=>{ve.trigger(this._element,this.constructor.eventName($h)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(Le,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ve.trigger(this._element,this.constructor.eventName(Zo)).defaultPrevented)return;if(this._getTipElement().classList.remove(an),"ontouchstart"in document.documentElement)for(const Ae of[].concat(...document.body.children))ve.off(Ae,"mouseover",se);this._activeTrigger[Na]=!1,this._activeTrigger[ba]=!1,this._activeTrigger[qo]=!1,this._isHovered=null;const re=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ve.trigger(this._element,this.constructor.eventName(oc)))};this._queueCallback(re,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(C){const P=this._getTemplateFactory(C).toHtml();if(!P)return null;P.classList.remove(ol,an),P.classList.add(`bs-${this.constructor.NAME}-auto`);const re=k(this.constructor.NAME).toString();return P.setAttribute("id",re),this._isAnimated()&&P.classList.add(ol),P}setContent(C){this._newContent=C,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(C){return this._templateFactory?this._templateFactory.changeContent(C):this._templateFactory=new Wh({...this._config,content:C,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Xl]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(C){return this.constructor.getOrCreateInstance(C.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ol)}_isShown(){return this.tip&&this.tip.classList.contains(an)}_createPopper(C){const P=G(this._config.placement,[this,C,this._element]),re=Zl[P.toUpperCase()];return c.createPopper(this._element,C,this._getPopperConfig(re))}_getOffset(){const{offset:C}=this._config;return typeof C=="string"?C.split(",").map(P=>Number.parseInt(P,10)):typeof C=="function"?P=>C(P,this._element):C}_resolvePossibleFunction(C){return G(C,[this._element])}_getPopperConfig(C){const P={placement:C,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:re=>{this._getTipElement().setAttribute("data-popper-placement",re.state.placement)}}]};return{...P,...G(this._config.popperConfig,[P])}}_setListeners(){const C=this._config.trigger.split(" ");for(const P of C)if(P==="click")ve.on(this._element,this.constructor.eventName(ll),this._config.selector,re=>{this._initializeOnDelegatedTarget(re).toggle()});else if(P!==al){const re=P===qo?this.constructor.eventName(Ql):this.constructor.eventName(ul),Ae=P===qo?this.constructor.eventName(ql):this.constructor.eventName(Kl);ve.on(this._element,re,this._config.selector,We=>{const Le=this._initializeOnDelegatedTarget(We);Le._activeTrigger[We.type==="focusin"?ba:qo]=!0,Le._enter()}),ve.on(this._element,Ae,this._config.selector,We=>{const Le=this._initializeOnDelegatedTarget(We);Le._activeTrigger[We.type==="focusout"?ba:qo]=Le._element.contains(We.relatedTarget),Le._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ve.on(this._element.closest(Sa),Qo,this._hideModalHandler)}_fixTitle(){const C=this._element.getAttribute("title");C&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",C),this._element.setAttribute("data-bs-original-title",C),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(C,P){clearTimeout(this._timeout),this._timeout=setTimeout(C,P)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(C){const P=un.getDataAttributes(this._element);for(const re of Object.keys(P))Gh.has(re)&&delete P[re];return C={...P,...typeof C=="object"&&C?C:{}},C=this._mergeConfigObj(C),C=this._configAfterMerge(C),this._typeCheckConfig(C),C}_configAfterMerge(C){return C.container=C.container===!1?document.body:q(C.container),typeof C.delay=="number"&&(C.delay={show:C.delay,hide:C.delay}),typeof C.title=="number"&&(C.title=C.title.toString()),typeof C.content=="number"&&(C.content=C.content.toString()),C}_getDelegateConfig(){const C={};for(const[P,re]of Object.entries(this._config))this.constructor.Default[P]!==re&&(C[P]=re);return C.selector=!1,C.trigger="manual",C}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(C){return this.each(function(){const P=So.getOrCreateInstance(this,C);if(typeof C=="string"){if(typeof P[C]>"u")throw new TypeError(`No method named "${C}"`);P[C]()}})}}X(So);const Kh="popover",Jl=".popover-header",ro=".popover-body",uc={...So.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Jo={...So.DefaultType,content:"(null|string|element|function)"};class Ti extends So{static get Default(){return uc}static get DefaultType(){return Jo}static get NAME(){return Kh}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Jl]:this._getTitle(),[ro]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(C){return this.each(function(){const P=Ti.getOrCreateInstance(this,C);if(typeof C=="string"){if(typeof P[C]>"u")throw new TypeError(`No method named "${C}"`);P[C]()}})}}X(Ti);const Ra="scrollspy",Oa=".bs.scrollspy",Qh=".data-api",qh=`activate${Oa}`,so=`click${Oa}`,Da=`load${Oa}${Qh}`,ea="dropdown-item",Bs="active",eu='[data-bs-spy="scroll"]',oo="[href]",ao=".nav, .list-group",_n=".nav-link",Or=`${_n}, .nav-item > ${_n}, .list-group-item`,si=".dropdown",No=".dropdown-toggle",ta={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},oi={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class lo extends It{constructor(C,P){super(C,P),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ta}static get DefaultType(){return oi}static get NAME(){return Ra}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const C of this._observableSections.values())this._observer.observe(C)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(C){return C.target=q(C.target)||document.body,C.rootMargin=C.offset?`${C.offset}px 0px -30%`:C.rootMargin,typeof C.threshold=="string"&&(C.threshold=C.threshold.split(",").map(P=>Number.parseFloat(P))),C}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ve.off(this._config.target,so),ve.on(this._config.target,so,oo,C=>{const P=this._observableSections.get(C.target.hash);if(P){C.preventDefault();const re=this._rootElement||window,Ae=P.offsetTop-this._element.offsetTop;if(re.scrollTo){re.scrollTo({top:Ae,behavior:"smooth"});return}re.scrollTop=Ae}}))}_getNewObserver(){const C={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(P=>this._observerCallback(P),C)}_observerCallback(C){const P=Le=>this._targetLinks.get(`#${Le.target.id}`),re=Le=>{this._previousScrollData.visibleEntryTop=Le.target.offsetTop,this._process(P(Le))},Ae=(this._rootElement||document.documentElement).scrollTop,We=Ae>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Ae;for(const Le of C){if(!Le.isIntersecting){this._activeTarget=null,this._clearActiveClass(P(Le));continue}const wt=Le.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(We&&wt){if(re(Le),!Ae)return;continue}!We&&!wt&&re(Le)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const C=Xe.find(oo,this._config.target);for(const P of C){if(!P.hash||Q(P))continue;const re=Xe.findOne(decodeURI(P.hash),this._element);j(re)&&(this._targetLinks.set(decodeURI(P.hash),P),this._observableSections.set(P.hash,re))}}_process(C){this._activeTarget!==C&&(this._clearActiveClass(this._config.target),this._activeTarget=C,C.classList.add(Bs),this._activateParents(C),ve.trigger(this._element,qh,{relatedTarget:C}))}_activateParents(C){if(C.classList.contains(ea)){Xe.findOne(No,C.closest(si)).classList.add(Bs);return}for(const P of Xe.parents(C,ao))for(const re of Xe.prev(P,Or))re.classList.add(Bs)}_clearActiveClass(C){C.classList.remove(Bs);const P=Xe.find(`${oo}.${Bs}`,C);for(const re of P)re.classList.remove(Bs)}static jQueryInterface(C){return this.each(function(){const P=lo.getOrCreateInstance(this,C);if(typeof C=="string"){if(P[C]===void 0||C.startsWith("_")||C==="constructor")throw new TypeError(`No method named "${C}"`);P[C]()}})}}ve.on(window,Da,()=>{for(const ne of Xe.find(eu))lo.getOrCreateInstance(ne)}),X(lo);const cc="tab",xs=".bs.tab",hc=`hide${xs}`,Fs=`hidden${xs}`,cl=`show${xs}`,tu=`shown${xs}`,fc=`click${xs}`,Jh=`keydown${xs}`,uo=`load${xs}`,na="ArrowLeft",Ro="ArrowRight",hl="ArrowUp",Ma="ArrowDown",ai="Home",Ii="End",Si="active",vs="fade",ss="show",Oo="dropdown",nu=".dropdown-toggle",ru=".dropdown-menu",La=`:not(${nu})`,bi='.list-group, .nav, [role="tablist"]',Ni=".nav-item, .list-group-item",Mn=`.nav-link${La}, .list-group-item${La}, [role="tab"]${La}`,zi='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',fl=`${Mn}, ${zi}`,dc=`.${Si}[data-bs-toggle="tab"], .${Si}[data-bs-toggle="pill"], .${Si}[data-bs-toggle="list"]`;class Vs extends It{constructor(C){super(C),this._parent=this._element.closest(bi),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ve.on(this._element,Jh,P=>this._keydown(P)))}static get NAME(){return cc}show(){const C=this._element;if(this._elemIsActive(C))return;const P=this._getActiveElem(),re=P?ve.trigger(P,hc,{relatedTarget:C}):null;ve.trigger(C,cl,{relatedTarget:P}).defaultPrevented||re&&re.defaultPrevented||(this._deactivate(P,C),this._activate(C,P))}_activate(C,P){if(!C)return;C.classList.add(Si),this._activate(Xe.getElementFromSelector(C));const re=()=>{if(C.getAttribute("role")!=="tab"){C.classList.add(ss);return}C.removeAttribute("tabindex"),C.setAttribute("aria-selected",!0),this._toggleDropDown(C,!0),ve.trigger(C,tu,{relatedTarget:P})};this._queueCallback(re,C,C.classList.contains(vs))}_deactivate(C,P){if(!C)return;C.classList.remove(Si),C.blur(),this._deactivate(Xe.getElementFromSelector(C));const re=()=>{if(C.getAttribute("role")!=="tab"){C.classList.remove(ss);return}C.setAttribute("aria-selected",!1),C.setAttribute("tabindex","-1"),this._toggleDropDown(C,!1),ve.trigger(C,Fs,{relatedTarget:P})};this._queueCallback(re,C,C.classList.contains(vs))}_keydown(C){if(![na,Ro,hl,Ma,ai,Ii].includes(C.key))return;C.stopPropagation(),C.preventDefault();const P=this._getChildren().filter(Ae=>!Q(Ae));let re;if([ai,Ii].includes(C.key))re=P[C.key===ai?0:P.length-1];else{const Ae=[Ro,Ma].includes(C.key);re=Y(P,C.target,Ae,!0)}re&&(re.focus({preventScroll:!0}),Vs.getOrCreateInstance(re).show())}_getChildren(){return Xe.find(fl,this._parent)}_getActiveElem(){return this._getChildren().find(C=>this._elemIsActive(C))||null}_setInitialAttributes(C,P){this._setAttributeIfNotExists(C,"role","tablist");for(const re of P)this._setInitialAttributesOnChild(re)}_setInitialAttributesOnChild(C){C=this._getInnerElement(C);const P=this._elemIsActive(C),re=this._getOuterElement(C);C.setAttribute("aria-selected",P),re!==C&&this._setAttributeIfNotExists(re,"role","presentation"),P||C.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(C,"role","tab"),this._setInitialAttributesOnTargetPanel(C)}_setInitialAttributesOnTargetPanel(C){const P=Xe.getElementFromSelector(C);P&&(this._setAttributeIfNotExists(P,"role","tabpanel"),C.id&&this._setAttributeIfNotExists(P,"aria-labelledby",`${C.id}`))}_toggleDropDown(C,P){const re=this._getOuterElement(C);if(!re.classList.contains(Oo))return;const Ae=(We,Le)=>{const wt=Xe.findOne(We,re);wt&&wt.classList.toggle(Le,P)};Ae(nu,Si),Ae(ru,ss),re.setAttribute("aria-expanded",P)}_setAttributeIfNotExists(C,P,re){C.hasAttribute(P)||C.setAttribute(P,re)}_elemIsActive(C){return C.classList.contains(Si)}_getInnerElement(C){return C.matches(fl)?C:Xe.findOne(fl,C)}_getOuterElement(C){return C.closest(Ni)||C}static jQueryInterface(C){return this.each(function(){const P=Vs.getOrCreateInstance(this);if(typeof C=="string"){if(P[C]===void 0||C.startsWith("_")||C==="constructor")throw new TypeError(`No method named "${C}"`);P[C]()}})}}ve.on(document,fc,zi,function(ne){["A","AREA"].includes(this.tagName)&&ne.preventDefault(),!Q(this)&&Vs.getOrCreateInstance(this).show()}),ve.on(window,uo,()=>{for(const ne of Xe.find(dc))Vs.getOrCreateInstance(ne)}),X(Vs);const iu="toast",os=".bs.toast",pc=`mouseover${os}`,ra=`mouseout${os}`,su=`focusin${os}`,tf=`focusout${os}`,Pa=`hide${os}`,dl=`hidden${os}`,gc=`show${os}`,mc=`shown${os}`,ia="fade",ou="hide",Do="show",Mo="showing",sa={animation:"boolean",autohide:"boolean",delay:"number"},au={animation:!0,autohide:!0,delay:5e3};class Lo extends It{constructor(C,P){super(C,P),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return au}static get DefaultType(){return sa}static get NAME(){return iu}show(){if(ve.trigger(this._element,gc).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(ia);const P=()=>{this._element.classList.remove(Mo),ve.trigger(this._element,mc),this._maybeScheduleHide()};this._element.classList.remove(ou),Ee(this._element),this._element.classList.add(Do,Mo),this._queueCallback(P,this._element,this._config.animation)}hide(){if(!this.isShown()||ve.trigger(this._element,Pa).defaultPrevented)return;const P=()=>{this._element.classList.add(ou),this._element.classList.remove(Mo,Do),ve.trigger(this._element,dl)};this._element.classList.add(Mo),this._queueCallback(P,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Do),super.dispose()}isShown(){return this._element.classList.contains(Do)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(C,P){switch(C.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=P;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=P;break}}if(P){this._clearTimeout();return}const re=C.relatedTarget;this._element===re||this._element.contains(re)||this._maybeScheduleHide()}_setListeners(){ve.on(this._element,pc,C=>this._onInteraction(C,!0)),ve.on(this._element,ra,C=>this._onInteraction(C,!1)),ve.on(this._element,su,C=>this._onInteraction(C,!0)),ve.on(this._element,tf,C=>this._onInteraction(C,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(C){return this.each(function(){const P=Lo.getOrCreateInstance(this,C);if(typeof C=="string"){if(typeof P[C]>"u")throw new TypeError(`No method named "${C}"`);P[C](this)}})}}return Ye(Lo),X(Lo),{Alert:An,Button:Ht,Carousel:Gn,Collapse:kn,Dropdown:er,Modal:L,Offcanvas:ji,Popover:Ti,ScrollSpy:lo,Tab:Vs,Toast:Lo,Tooltip:So}})}(lh)),lh.exports}PT();Vy.createRoot(document.getElementById("root")).render(Ce.jsx(JE,{basename:"/My-Scanner",children:Ce.jsx(WC,{})}));
